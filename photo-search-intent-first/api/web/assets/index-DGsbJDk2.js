(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const s of l)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(l){const s={};return l.integrity&&(s.integrity=l.integrity),l.referrerPolicy&&(s.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?s.credentials="include":l.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(l){if(l.ep)return;l.ep=!0;const s=n(l);fetch(l.href,s)}})();function Xf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Iu={exports:{}},ds={},Du={exports:{}},Y={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jr=Symbol.for("react.element"),Zf=Symbol.for("react.portal"),Jf=Symbol.for("react.fragment"),qf=Symbol.for("react.strict_mode"),ep=Symbol.for("react.profiler"),tp=Symbol.for("react.provider"),np=Symbol.for("react.context"),rp=Symbol.for("react.forward_ref"),lp=Symbol.for("react.suspense"),sp=Symbol.for("react.memo"),ip=Symbol.for("react.lazy"),ja=Symbol.iterator;function op(e){return e===null||typeof e!="object"?null:(e=ja&&e[ja]||e["@@iterator"],typeof e=="function"?e:null)}var zu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$u=Object.assign,Au={};function sr(e,t,n){this.props=e,this.context=t,this.refs=Au,this.updater=n||zu}sr.prototype.isReactComponent={};sr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};sr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Uu(){}Uu.prototype=sr.prototype;function so(e,t,n){this.props=e,this.context=t,this.refs=Au,this.updater=n||zu}var io=so.prototype=new Uu;io.constructor=so;$u(io,sr.prototype);io.isPureReactComponent=!0;var Na=Array.isArray,Bu=Object.prototype.hasOwnProperty,oo={current:null},Vu={key:!0,ref:!0,__self:!0,__source:!0};function Hu(e,t,n){var r,l={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)Bu.call(t,r)&&!Vu.hasOwnProperty(r)&&(l[r]=t[r]);var a=arguments.length-2;if(a===1)l.children=n;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];l.children=u}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)l[r]===void 0&&(l[r]=a[r]);return{$$typeof:Jr,type:e,key:s,ref:o,props:l,_owner:oo.current}}function ap(e,t){return{$$typeof:Jr,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ao(e){return typeof e=="object"&&e!==null&&e.$$typeof===Jr}function up(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Sa=/\/+/g;function Rs(e,t){return typeof e=="object"&&e!==null&&e.key!=null?up(""+e.key):t.toString(36)}function Tl(e,t,n,r,l){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Jr:case Zf:o=!0}}if(o)return o=e,l=l(o),e=r===""?"."+Rs(o,0):r,Na(l)?(n="",e!=null&&(n=e.replace(Sa,"$&/")+"/"),Tl(l,t,n,"",function(c){return c})):l!=null&&(ao(l)&&(l=ap(l,n+(!l.key||o&&o.key===l.key?"":(""+l.key).replace(Sa,"$&/")+"/")+e)),t.push(l)),1;if(o=0,r=r===""?".":r+":",Na(e))for(var a=0;a<e.length;a++){s=e[a];var u=r+Rs(s,a);o+=Tl(s,t,n,u,l)}else if(u=op(e),typeof u=="function")for(e=u.call(e),a=0;!(s=e.next()).done;)s=s.value,u=r+Rs(s,a++),o+=Tl(s,t,n,u,l);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function dl(e,t,n){if(e==null)return e;var r=[],l=0;return Tl(e,r,"","",function(s){return t.call(n,s,l++)}),r}function cp(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var He={current:null},Pl={transition:null},dp={ReactCurrentDispatcher:He,ReactCurrentBatchConfig:Pl,ReactCurrentOwner:oo};function Wu(){throw Error("act(...) is not supported in production builds of React.")}Y.Children={map:dl,forEach:function(e,t,n){dl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return dl(e,function(){t++}),t},toArray:function(e){return dl(e,function(t){return t})||[]},only:function(e){if(!ao(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Y.Component=sr;Y.Fragment=Jf;Y.Profiler=ep;Y.PureComponent=so;Y.StrictMode=qf;Y.Suspense=lp;Y.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dp;Y.act=Wu;Y.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=$u({},e.props),l=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=oo.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(u in t)Bu.call(t,u)&&!Vu.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&a!==void 0?a[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Jr,type:e.type,key:l,ref:s,props:r,_owner:o}};Y.createContext=function(e){return e={$$typeof:np,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:tp,_context:e},e.Consumer=e};Y.createElement=Hu;Y.createFactory=function(e){var t=Hu.bind(null,e);return t.type=e,t};Y.createRef=function(){return{current:null}};Y.forwardRef=function(e){return{$$typeof:rp,render:e}};Y.isValidElement=ao;Y.lazy=function(e){return{$$typeof:ip,_payload:{_status:-1,_result:e},_init:cp}};Y.memo=function(e,t){return{$$typeof:sp,type:e,compare:t===void 0?null:t}};Y.startTransition=function(e){var t=Pl.transition;Pl.transition={};try{e()}finally{Pl.transition=t}};Y.unstable_act=Wu;Y.useCallback=function(e,t){return He.current.useCallback(e,t)};Y.useContext=function(e){return He.current.useContext(e)};Y.useDebugValue=function(){};Y.useDeferredValue=function(e){return He.current.useDeferredValue(e)};Y.useEffect=function(e,t){return He.current.useEffect(e,t)};Y.useId=function(){return He.current.useId()};Y.useImperativeHandle=function(e,t,n){return He.current.useImperativeHandle(e,t,n)};Y.useInsertionEffect=function(e,t){return He.current.useInsertionEffect(e,t)};Y.useLayoutEffect=function(e,t){return He.current.useLayoutEffect(e,t)};Y.useMemo=function(e,t){return He.current.useMemo(e,t)};Y.useReducer=function(e,t,n){return He.current.useReducer(e,t,n)};Y.useRef=function(e){return He.current.useRef(e)};Y.useState=function(e){return He.current.useState(e)};Y.useSyncExternalStore=function(e,t,n){return He.current.useSyncExternalStore(e,t,n)};Y.useTransition=function(){return He.current.useTransition()};Y.version="18.3.1";Du.exports=Y;var S=Du.exports;const Fn=Xf(S);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fp=S,pp=Symbol.for("react.element"),mp=Symbol.for("react.fragment"),hp=Object.prototype.hasOwnProperty,yp=fp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,gp={key:!0,ref:!0,__self:!0,__source:!0};function Ku(e,t,n){var r,l={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)hp.call(t,r)&&!gp.hasOwnProperty(r)&&(l[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)l[r]===void 0&&(l[r]=t[r]);return{$$typeof:pp,type:e,key:s,ref:o,props:l,_owner:yp.current}}ds.Fragment=mp;ds.jsx=Ku;ds.jsxs=Ku;Iu.exports=ds;var i=Iu.exports,Qu={exports:{}},rt={},Gu={exports:{}},Yu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(_,$){var b=_.length;_.push($);e:for(;0<b;){var A=b-1>>>1,w=_[A];if(0<l(w,$))_[A]=$,_[b]=w,b=A;else break e}}function n(_){return _.length===0?null:_[0]}function r(_){if(_.length===0)return null;var $=_[0],b=_.pop();if(b!==$){_[0]=b;e:for(var A=0,w=_.length,M=w>>>1;A<M;){var Q=2*(A+1)-1,J=_[Q],ne=Q+1,ie=_[ne];if(0>l(J,b))ne<w&&0>l(ie,J)?(_[A]=ie,_[ne]=b,A=ne):(_[A]=J,_[Q]=b,A=Q);else if(ne<w&&0>l(ie,b))_[A]=ie,_[ne]=b,A=ne;else break e}}return $}function l(_,$){var b=_.sortIndex-$.sortIndex;return b!==0?b:_.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var u=[],c=[],h=1,y=null,g=3,j=!1,N=!1,k=!1,O=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(_){for(var $=n(c);$!==null;){if($.callback===null)r(c);else if($.startTime<=_)r(c),$.sortIndex=$.expirationTime,t(u,$);else break;$=n(c)}}function x(_){if(k=!1,m(_),!N)if(n(u)!==null)N=!0,B(P);else{var $=n(c);$!==null&&Z(x,$.startTime-_)}}function P(_,$){N=!1,k&&(k=!1,p(T),T=-1),j=!0;var b=g;try{for(m($),y=n(u);y!==null&&(!(y.expirationTime>$)||_&&!W());){var A=y.callback;if(typeof A=="function"){y.callback=null,g=y.priorityLevel;var w=A(y.expirationTime<=$);$=e.unstable_now(),typeof w=="function"?y.callback=w:y===n(u)&&r(u),m($)}else r(u);y=n(u)}if(y!==null)var M=!0;else{var Q=n(c);Q!==null&&Z(x,Q.startTime-$),M=!1}return M}finally{y=null,g=b,j=!1}}var L=!1,F=null,T=-1,R=5,I=-1;function W(){return!(e.unstable_now()-I<R)}function fe(){if(F!==null){var _=e.unstable_now();I=_;var $=!0;try{$=F(!0,_)}finally{$?le():(L=!1,F=null)}}else L=!1}var le;if(typeof f=="function")le=function(){f(fe)};else if(typeof MessageChannel<"u"){var we=new MessageChannel,V=we.port2;we.port1.onmessage=fe,le=function(){V.postMessage(null)}}else le=function(){O(fe,0)};function B(_){F=_,L||(L=!0,le())}function Z(_,$){T=O(function(){_(e.unstable_now())},$)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(_){_.callback=null},e.unstable_continueExecution=function(){N||j||(N=!0,B(P))},e.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<_?Math.floor(1e3/_):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(_){switch(g){case 1:case 2:case 3:var $=3;break;default:$=g}var b=g;g=$;try{return _()}finally{g=b}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(_,$){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var b=g;g=_;try{return $()}finally{g=b}},e.unstable_scheduleCallback=function(_,$,b){var A=e.unstable_now();switch(typeof b=="object"&&b!==null?(b=b.delay,b=typeof b=="number"&&0<b?A+b:A):b=A,_){case 1:var w=-1;break;case 2:w=250;break;case 5:w=1073741823;break;case 4:w=1e4;break;default:w=5e3}return w=b+w,_={id:h++,callback:$,priorityLevel:_,startTime:b,expirationTime:w,sortIndex:-1},b>A?(_.sortIndex=b,t(c,_),n(u)===null&&_===n(c)&&(k?(p(T),T=-1):k=!0,Z(x,b-A))):(_.sortIndex=w,t(u,_),N||j||(N=!0,B(P))),_},e.unstable_shouldYield=W,e.unstable_wrapCallback=function(_){var $=g;return function(){var b=g;g=$;try{return _.apply(this,arguments)}finally{g=b}}}})(Yu);Gu.exports=Yu;var vp=Gu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xp=S,nt=vp;function E(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Xu=new Set,Rr={};function En(e,t){Jn(e,t),Jn(e+"Capture",t)}function Jn(e,t){for(Rr[e]=t,e=0;e<t.length;e++)Xu.add(t[e])}var Ot=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),di=Object.prototype.hasOwnProperty,wp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ca={},Ea={};function kp(e){return di.call(Ea,e)?!0:di.call(Ca,e)?!1:wp.test(e)?Ea[e]=!0:(Ca[e]=!0,!1)}function jp(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Np(e,t,n,r){if(t===null||typeof t>"u"||jp(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function We(e,t,n,r,l,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Fe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Fe[e]=new We(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Fe[t]=new We(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Fe[e]=new We(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Fe[e]=new We(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Fe[e]=new We(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Fe[e]=new We(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Fe[e]=new We(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Fe[e]=new We(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Fe[e]=new We(e,5,!1,e.toLowerCase(),null,!1,!1)});var uo=/[\-:]([a-z])/g;function co(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(uo,co);Fe[t]=new We(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(uo,co);Fe[t]=new We(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(uo,co);Fe[t]=new We(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Fe[e]=new We(e,1,!1,e.toLowerCase(),null,!1,!1)});Fe.xlinkHref=new We("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Fe[e]=new We(e,1,!1,e.toLowerCase(),null,!0,!0)});function fo(e,t,n,r){var l=Fe.hasOwnProperty(t)?Fe[t]:null;(l!==null?l.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Np(t,n,l,r)&&(n=null),r||l===null?kp(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,r=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var zt=xp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,fl=Symbol.for("react.element"),On=Symbol.for("react.portal"),Rn=Symbol.for("react.fragment"),po=Symbol.for("react.strict_mode"),fi=Symbol.for("react.profiler"),Zu=Symbol.for("react.provider"),Ju=Symbol.for("react.context"),mo=Symbol.for("react.forward_ref"),pi=Symbol.for("react.suspense"),mi=Symbol.for("react.suspense_list"),ho=Symbol.for("react.memo"),Ut=Symbol.for("react.lazy"),qu=Symbol.for("react.offscreen"),_a=Symbol.iterator;function mr(e){return e===null||typeof e!="object"?null:(e=_a&&e[_a]||e["@@iterator"],typeof e=="function"?e:null)}var he=Object.assign,Is;function jr(e){if(Is===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Is=t&&t[1]||""}return`
`+Is+e}var Ds=!1;function zs(e,t){if(!e||Ds)return"";Ds=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var l=c.stack.split(`
`),s=r.stack.split(`
`),o=l.length-1,a=s.length-1;1<=o&&0<=a&&l[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(l[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||l[o]!==s[a]){var u=`
`+l[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=o&&0<=a);break}}}finally{Ds=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?jr(e):""}function Sp(e){switch(e.tag){case 5:return jr(e.type);case 16:return jr("Lazy");case 13:return jr("Suspense");case 19:return jr("SuspenseList");case 0:case 2:case 15:return e=zs(e.type,!1),e;case 11:return e=zs(e.type.render,!1),e;case 1:return e=zs(e.type,!0),e;default:return""}}function hi(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Rn:return"Fragment";case On:return"Portal";case fi:return"Profiler";case po:return"StrictMode";case pi:return"Suspense";case mi:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ju:return(e.displayName||"Context")+".Consumer";case Zu:return(e._context.displayName||"Context")+".Provider";case mo:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ho:return t=e.displayName||null,t!==null?t:hi(e.type)||"Memo";case Ut:t=e._payload,e=e._init;try{return hi(e(t))}catch{}}return null}function Cp(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return hi(t);case 8:return t===po?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function nn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ec(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ep(e){var t=ec(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function pl(e){e._valueTracker||(e._valueTracker=Ep(e))}function tc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ec(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ul(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function yi(e,t){var n=t.checked;return he({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ba(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=nn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function nc(e,t){t=t.checked,t!=null&&fo(e,"checked",t,!1)}function gi(e,t){nc(e,t);var n=nn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?vi(e,t.type,n):t.hasOwnProperty("defaultValue")&&vi(e,t.type,nn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ta(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function vi(e,t,n){(t!=="number"||Ul(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Nr=Array.isArray;function Kn(e,t,n,r){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&r&&(e[n].defaultSelected=!0)}else{for(n=""+nn(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,r&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function xi(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(E(91));return he({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Pa(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(E(92));if(Nr(n)){if(1<n.length)throw Error(E(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:nn(n)}}function rc(e,t){var n=nn(t.value),r=nn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Ma(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function lc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wi(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?lc(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ml,sc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ml=ml||document.createElement("div"),ml.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ml.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ir(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Er={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_p=["Webkit","ms","Moz","O"];Object.keys(Er).forEach(function(e){_p.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Er[t]=Er[e]})});function ic(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Er.hasOwnProperty(e)&&Er[e]?(""+t).trim():t+"px"}function oc(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,l=ic(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,l):e[n]=l}}var bp=he({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ki(e,t){if(t){if(bp[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(E(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(E(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(E(61))}if(t.style!=null&&typeof t.style!="object")throw Error(E(62))}}function ji(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ni=null;function yo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Si=null,Qn=null,Gn=null;function La(e){if(e=tl(e)){if(typeof Si!="function")throw Error(E(280));var t=e.stateNode;t&&(t=ys(t),Si(e.stateNode,e.type,t))}}function ac(e){Qn?Gn?Gn.push(e):Gn=[e]:Qn=e}function uc(){if(Qn){var e=Qn,t=Gn;if(Gn=Qn=null,La(e),t)for(e=0;e<t.length;e++)La(t[e])}}function cc(e,t){return e(t)}function dc(){}var $s=!1;function fc(e,t,n){if($s)return e(t,n);$s=!0;try{return cc(e,t,n)}finally{$s=!1,(Qn!==null||Gn!==null)&&(dc(),uc())}}function Dr(e,t){var n=e.stateNode;if(n===null)return null;var r=ys(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(E(231,t,typeof n));return n}var Ci=!1;if(Ot)try{var hr={};Object.defineProperty(hr,"passive",{get:function(){Ci=!0}}),window.addEventListener("test",hr,hr),window.removeEventListener("test",hr,hr)}catch{Ci=!1}function Tp(e,t,n,r,l,s,o,a,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(h){this.onError(h)}}var _r=!1,Bl=null,Vl=!1,Ei=null,Pp={onError:function(e){_r=!0,Bl=e}};function Mp(e,t,n,r,l,s,o,a,u){_r=!1,Bl=null,Tp.apply(Pp,arguments)}function Lp(e,t,n,r,l,s,o,a,u){if(Mp.apply(this,arguments),_r){if(_r){var c=Bl;_r=!1,Bl=null}else throw Error(E(198));Vl||(Vl=!0,Ei=c)}}function _n(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function pc(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Fa(e){if(_n(e)!==e)throw Error(E(188))}function Fp(e){var t=e.alternate;if(!t){if(t=_n(e),t===null)throw Error(E(188));return t!==e?null:e}for(var n=e,r=t;;){var l=n.return;if(l===null)break;var s=l.alternate;if(s===null){if(r=l.return,r!==null){n=r;continue}break}if(l.child===s.child){for(s=l.child;s;){if(s===n)return Fa(l),e;if(s===r)return Fa(l),t;s=s.sibling}throw Error(E(188))}if(n.return!==r.return)n=l,r=s;else{for(var o=!1,a=l.child;a;){if(a===n){o=!0,n=l,r=s;break}if(a===r){o=!0,r=l,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=l;break}if(a===r){o=!0,r=s,n=l;break}a=a.sibling}if(!o)throw Error(E(189))}}if(n.alternate!==r)throw Error(E(190))}if(n.tag!==3)throw Error(E(188));return n.stateNode.current===n?e:t}function mc(e){return e=Fp(e),e!==null?hc(e):null}function hc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=hc(e);if(t!==null)return t;e=e.sibling}return null}var yc=nt.unstable_scheduleCallback,Oa=nt.unstable_cancelCallback,Op=nt.unstable_shouldYield,Rp=nt.unstable_requestPaint,ke=nt.unstable_now,Ip=nt.unstable_getCurrentPriorityLevel,go=nt.unstable_ImmediatePriority,gc=nt.unstable_UserBlockingPriority,Hl=nt.unstable_NormalPriority,Dp=nt.unstable_LowPriority,vc=nt.unstable_IdlePriority,fs=null,Ct=null;function zp(e){if(Ct&&typeof Ct.onCommitFiberRoot=="function")try{Ct.onCommitFiberRoot(fs,e,void 0,(e.current.flags&128)===128)}catch{}}var gt=Math.clz32?Math.clz32:Up,$p=Math.log,Ap=Math.LN2;function Up(e){return e>>>=0,e===0?32:31-($p(e)/Ap|0)|0}var hl=64,yl=4194304;function Sr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Wl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,l=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~l;a!==0?r=Sr(a):(s&=o,s!==0&&(r=Sr(s)))}else o=n&~l,o!==0?r=Sr(o):s!==0&&(r=Sr(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&l)&&(l=r&-r,s=t&-t,l>=s||l===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-gt(t),l=1<<n,r|=e[n],t&=~l;return r}function Bp(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vp(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,l=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-gt(s),a=1<<o,u=l[o];u===-1?(!(a&n)||a&r)&&(l[o]=Bp(a,t)):u<=t&&(e.expiredLanes|=a),s&=~a}}function _i(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function xc(){var e=hl;return hl<<=1,!(hl&4194240)&&(hl=64),e}function As(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function qr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-gt(t),e[t]=n}function Hp(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-gt(n),s=1<<l;t[l]=0,r[l]=-1,e[l]=-1,n&=~s}}function vo(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-gt(n),l=1<<r;l&t|e[r]&t&&(e[r]|=t),n&=~l}}var re=0;function wc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var kc,xo,jc,Nc,Sc,bi=!1,gl=[],Qt=null,Gt=null,Yt=null,zr=new Map,$r=new Map,Vt=[],Wp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ra(e,t){switch(e){case"focusin":case"focusout":Qt=null;break;case"dragenter":case"dragleave":Gt=null;break;case"mouseover":case"mouseout":Yt=null;break;case"pointerover":case"pointerout":zr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":$r.delete(t.pointerId)}}function yr(e,t,n,r,l,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[l]},t!==null&&(t=tl(t),t!==null&&xo(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function Kp(e,t,n,r,l){switch(t){case"focusin":return Qt=yr(Qt,e,t,n,r,l),!0;case"dragenter":return Gt=yr(Gt,e,t,n,r,l),!0;case"mouseover":return Yt=yr(Yt,e,t,n,r,l),!0;case"pointerover":var s=l.pointerId;return zr.set(s,yr(zr.get(s)||null,e,t,n,r,l)),!0;case"gotpointercapture":return s=l.pointerId,$r.set(s,yr($r.get(s)||null,e,t,n,r,l)),!0}return!1}function Cc(e){var t=yn(e.target);if(t!==null){var n=_n(t);if(n!==null){if(t=n.tag,t===13){if(t=pc(n),t!==null){e.blockedOn=t,Sc(e.priority,function(){jc(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ml(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ti(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Ni=r,n.target.dispatchEvent(r),Ni=null}else return t=tl(n),t!==null&&xo(t),e.blockedOn=n,!1;t.shift()}return!0}function Ia(e,t,n){Ml(e)&&n.delete(t)}function Qp(){bi=!1,Qt!==null&&Ml(Qt)&&(Qt=null),Gt!==null&&Ml(Gt)&&(Gt=null),Yt!==null&&Ml(Yt)&&(Yt=null),zr.forEach(Ia),$r.forEach(Ia)}function gr(e,t){e.blockedOn===t&&(e.blockedOn=null,bi||(bi=!0,nt.unstable_scheduleCallback(nt.unstable_NormalPriority,Qp)))}function Ar(e){function t(l){return gr(l,e)}if(0<gl.length){gr(gl[0],e);for(var n=1;n<gl.length;n++){var r=gl[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Qt!==null&&gr(Qt,e),Gt!==null&&gr(Gt,e),Yt!==null&&gr(Yt,e),zr.forEach(t),$r.forEach(t),n=0;n<Vt.length;n++)r=Vt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Vt.length&&(n=Vt[0],n.blockedOn===null);)Cc(n),n.blockedOn===null&&Vt.shift()}var Yn=zt.ReactCurrentBatchConfig,Kl=!0;function Gp(e,t,n,r){var l=re,s=Yn.transition;Yn.transition=null;try{re=1,wo(e,t,n,r)}finally{re=l,Yn.transition=s}}function Yp(e,t,n,r){var l=re,s=Yn.transition;Yn.transition=null;try{re=4,wo(e,t,n,r)}finally{re=l,Yn.transition=s}}function wo(e,t,n,r){if(Kl){var l=Ti(e,t,n,r);if(l===null)Xs(e,t,r,Ql,n),Ra(e,r);else if(Kp(l,e,t,n,r))r.stopPropagation();else if(Ra(e,r),t&4&&-1<Wp.indexOf(e)){for(;l!==null;){var s=tl(l);if(s!==null&&kc(s),s=Ti(e,t,n,r),s===null&&Xs(e,t,r,Ql,n),s===l)break;l=s}l!==null&&r.stopPropagation()}else Xs(e,t,r,null,n)}}var Ql=null;function Ti(e,t,n,r){if(Ql=null,e=yo(r),e=yn(e),e!==null)if(t=_n(e),t===null)e=null;else if(n=t.tag,n===13){if(e=pc(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ql=e,null}function Ec(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ip()){case go:return 1;case gc:return 4;case Hl:case Dp:return 16;case vc:return 536870912;default:return 16}default:return 16}}var Wt=null,ko=null,Ll=null;function _c(){if(Ll)return Ll;var e,t=ko,n=t.length,r,l="value"in Wt?Wt.value:Wt.textContent,s=l.length;for(e=0;e<n&&t[e]===l[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===l[s-r];r++);return Ll=l.slice(e,1<r?1-r:void 0)}function Fl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function vl(){return!0}function Da(){return!1}function lt(e){function t(n,r,l,s,o){this._reactName=n,this._targetInst=l,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?vl:Da,this.isPropagationStopped=Da,this}return he(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=vl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=vl)},persist:function(){},isPersistent:vl}),t}var ir={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jo=lt(ir),el=he({},ir,{view:0,detail:0}),Xp=lt(el),Us,Bs,vr,ps=he({},el,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:No,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==vr&&(vr&&e.type==="mousemove"?(Us=e.screenX-vr.screenX,Bs=e.screenY-vr.screenY):Bs=Us=0,vr=e),Us)},movementY:function(e){return"movementY"in e?e.movementY:Bs}}),za=lt(ps),Zp=he({},ps,{dataTransfer:0}),Jp=lt(Zp),qp=he({},el,{relatedTarget:0}),Vs=lt(qp),em=he({},ir,{animationName:0,elapsedTime:0,pseudoElement:0}),tm=lt(em),nm=he({},ir,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),rm=lt(nm),lm=he({},ir,{data:0}),$a=lt(lm),sm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},im={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},om={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function am(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=om[e])?!!t[e]:!1}function No(){return am}var um=he({},el,{key:function(e){if(e.key){var t=sm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Fl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?im[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:No,charCode:function(e){return e.type==="keypress"?Fl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Fl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),cm=lt(um),dm=he({},ps,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Aa=lt(dm),fm=he({},el,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:No}),pm=lt(fm),mm=he({},ir,{propertyName:0,elapsedTime:0,pseudoElement:0}),hm=lt(mm),ym=he({},ps,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),gm=lt(ym),vm=[9,13,27,32],So=Ot&&"CompositionEvent"in window,br=null;Ot&&"documentMode"in document&&(br=document.documentMode);var xm=Ot&&"TextEvent"in window&&!br,bc=Ot&&(!So||br&&8<br&&11>=br),Ua=" ",Ba=!1;function Tc(e,t){switch(e){case"keyup":return vm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var In=!1;function wm(e,t){switch(e){case"compositionend":return Pc(t);case"keypress":return t.which!==32?null:(Ba=!0,Ua);case"textInput":return e=t.data,e===Ua&&Ba?null:e;default:return null}}function km(e,t){if(In)return e==="compositionend"||!So&&Tc(e,t)?(e=_c(),Ll=ko=Wt=null,In=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return bc&&t.locale!=="ko"?null:t.data;default:return null}}var jm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Va(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!jm[e.type]:t==="textarea"}function Mc(e,t,n,r){ac(r),t=Gl(t,"onChange"),0<t.length&&(n=new jo("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Tr=null,Ur=null;function Nm(e){Bc(e,0)}function ms(e){var t=$n(e);if(tc(t))return e}function Sm(e,t){if(e==="change")return t}var Lc=!1;if(Ot){var Hs;if(Ot){var Ws="oninput"in document;if(!Ws){var Ha=document.createElement("div");Ha.setAttribute("oninput","return;"),Ws=typeof Ha.oninput=="function"}Hs=Ws}else Hs=!1;Lc=Hs&&(!document.documentMode||9<document.documentMode)}function Wa(){Tr&&(Tr.detachEvent("onpropertychange",Fc),Ur=Tr=null)}function Fc(e){if(e.propertyName==="value"&&ms(Ur)){var t=[];Mc(t,Ur,e,yo(e)),fc(Nm,t)}}function Cm(e,t,n){e==="focusin"?(Wa(),Tr=t,Ur=n,Tr.attachEvent("onpropertychange",Fc)):e==="focusout"&&Wa()}function Em(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ms(Ur)}function _m(e,t){if(e==="click")return ms(t)}function bm(e,t){if(e==="input"||e==="change")return ms(t)}function Tm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var xt=typeof Object.is=="function"?Object.is:Tm;function Br(e,t){if(xt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var l=n[r];if(!di.call(t,l)||!xt(e[l],t[l]))return!1}return!0}function Ka(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Qa(e,t){var n=Ka(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ka(n)}}function Oc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Oc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Rc(){for(var e=window,t=Ul();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ul(e.document)}return t}function Co(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Pm(e){var t=Rc(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Oc(n.ownerDocument.documentElement,n)){if(r!==null&&Co(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,s=Math.min(r.start,l);r=r.end===void 0?s:Math.min(r.end,l),!e.extend&&s>r&&(l=r,r=s,s=l),l=Qa(n,s);var o=Qa(n,r);l&&o&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Mm=Ot&&"documentMode"in document&&11>=document.documentMode,Dn=null,Pi=null,Pr=null,Mi=!1;function Ga(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Mi||Dn==null||Dn!==Ul(r)||(r=Dn,"selectionStart"in r&&Co(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Pr&&Br(Pr,r)||(Pr=r,r=Gl(Pi,"onSelect"),0<r.length&&(t=new jo("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Dn)))}function xl(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var zn={animationend:xl("Animation","AnimationEnd"),animationiteration:xl("Animation","AnimationIteration"),animationstart:xl("Animation","AnimationStart"),transitionend:xl("Transition","TransitionEnd")},Ks={},Ic={};Ot&&(Ic=document.createElement("div").style,"AnimationEvent"in window||(delete zn.animationend.animation,delete zn.animationiteration.animation,delete zn.animationstart.animation),"TransitionEvent"in window||delete zn.transitionend.transition);function hs(e){if(Ks[e])return Ks[e];if(!zn[e])return e;var t=zn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Ic)return Ks[e]=t[n];return e}var Dc=hs("animationend"),zc=hs("animationiteration"),$c=hs("animationstart"),Ac=hs("transitionend"),Uc=new Map,Ya="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ln(e,t){Uc.set(e,t),En(t,[e])}for(var Qs=0;Qs<Ya.length;Qs++){var Gs=Ya[Qs],Lm=Gs.toLowerCase(),Fm=Gs[0].toUpperCase()+Gs.slice(1);ln(Lm,"on"+Fm)}ln(Dc,"onAnimationEnd");ln(zc,"onAnimationIteration");ln($c,"onAnimationStart");ln("dblclick","onDoubleClick");ln("focusin","onFocus");ln("focusout","onBlur");ln(Ac,"onTransitionEnd");Jn("onMouseEnter",["mouseout","mouseover"]);Jn("onMouseLeave",["mouseout","mouseover"]);Jn("onPointerEnter",["pointerout","pointerover"]);Jn("onPointerLeave",["pointerout","pointerover"]);En("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));En("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));En("onBeforeInput",["compositionend","keypress","textInput","paste"]);En("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));En("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));En("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Om=new Set("cancel close invalid load scroll toggle".split(" ").concat(Cr));function Xa(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Lp(r,t,void 0,e),e.currentTarget=null}function Bc(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],l=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==s&&l.isPropagationStopped())break e;Xa(l,a,c),s=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,c=a.currentTarget,a=a.listener,u!==s&&l.isPropagationStopped())break e;Xa(l,a,c),s=u}}}if(Vl)throw e=Ei,Vl=!1,Ei=null,e}function ae(e,t){var n=t[Ii];n===void 0&&(n=t[Ii]=new Set);var r=e+"__bubble";n.has(r)||(Vc(t,e,2,!1),n.add(r))}function Ys(e,t,n){var r=0;t&&(r|=4),Vc(n,e,r,t)}var wl="_reactListening"+Math.random().toString(36).slice(2);function Vr(e){if(!e[wl]){e[wl]=!0,Xu.forEach(function(n){n!=="selectionchange"&&(Om.has(n)||Ys(n,!1,e),Ys(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[wl]||(t[wl]=!0,Ys("selectionchange",!1,t))}}function Vc(e,t,n,r){switch(Ec(t)){case 1:var l=Gp;break;case 4:l=Yp;break;default:l=wo}n=l.bind(null,t,n,e),l=void 0,!Ci||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),r?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function Xs(e,t,n,r,l){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===l||a.nodeType===8&&a.parentNode===l)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===l||u.nodeType===8&&u.parentNode===l))return;o=o.return}for(;a!==null;){if(o=yn(a),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}a=a.parentNode}}r=r.return}fc(function(){var c=s,h=yo(n),y=[];e:{var g=Uc.get(e);if(g!==void 0){var j=jo,N=e;switch(e){case"keypress":if(Fl(n)===0)break e;case"keydown":case"keyup":j=cm;break;case"focusin":N="focus",j=Vs;break;case"focusout":N="blur",j=Vs;break;case"beforeblur":case"afterblur":j=Vs;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=za;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=Jp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=pm;break;case Dc:case zc:case $c:j=tm;break;case Ac:j=hm;break;case"scroll":j=Xp;break;case"wheel":j=gm;break;case"copy":case"cut":case"paste":j=rm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=Aa}var k=(t&4)!==0,O=!k&&e==="scroll",p=k?g!==null?g+"Capture":null:g;k=[];for(var f=c,m;f!==null;){m=f;var x=m.stateNode;if(m.tag===5&&x!==null&&(m=x,p!==null&&(x=Dr(f,p),x!=null&&k.push(Hr(f,x,m)))),O)break;f=f.return}0<k.length&&(g=new j(g,N,null,n,h),y.push({event:g,listeners:k}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",j=e==="mouseout"||e==="pointerout",g&&n!==Ni&&(N=n.relatedTarget||n.fromElement)&&(yn(N)||N[Rt]))break e;if((j||g)&&(g=h.window===h?h:(g=h.ownerDocument)?g.defaultView||g.parentWindow:window,j?(N=n.relatedTarget||n.toElement,j=c,N=N?yn(N):null,N!==null&&(O=_n(N),N!==O||N.tag!==5&&N.tag!==6)&&(N=null)):(j=null,N=c),j!==N)){if(k=za,x="onMouseLeave",p="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(k=Aa,x="onPointerLeave",p="onPointerEnter",f="pointer"),O=j==null?g:$n(j),m=N==null?g:$n(N),g=new k(x,f+"leave",j,n,h),g.target=O,g.relatedTarget=m,x=null,yn(h)===c&&(k=new k(p,f+"enter",N,n,h),k.target=m,k.relatedTarget=O,x=k),O=x,j&&N)t:{for(k=j,p=N,f=0,m=k;m;m=Ln(m))f++;for(m=0,x=p;x;x=Ln(x))m++;for(;0<f-m;)k=Ln(k),f--;for(;0<m-f;)p=Ln(p),m--;for(;f--;){if(k===p||p!==null&&k===p.alternate)break t;k=Ln(k),p=Ln(p)}k=null}else k=null;j!==null&&Za(y,g,j,k,!1),N!==null&&O!==null&&Za(y,O,N,k,!0)}}e:{if(g=c?$n(c):window,j=g.nodeName&&g.nodeName.toLowerCase(),j==="select"||j==="input"&&g.type==="file")var P=Sm;else if(Va(g))if(Lc)P=bm;else{P=Em;var L=Cm}else(j=g.nodeName)&&j.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(P=_m);if(P&&(P=P(e,c))){Mc(y,P,n,h);break e}L&&L(e,g,c),e==="focusout"&&(L=g._wrapperState)&&L.controlled&&g.type==="number"&&vi(g,"number",g.value)}switch(L=c?$n(c):window,e){case"focusin":(Va(L)||L.contentEditable==="true")&&(Dn=L,Pi=c,Pr=null);break;case"focusout":Pr=Pi=Dn=null;break;case"mousedown":Mi=!0;break;case"contextmenu":case"mouseup":case"dragend":Mi=!1,Ga(y,n,h);break;case"selectionchange":if(Mm)break;case"keydown":case"keyup":Ga(y,n,h)}var F;if(So)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else In?Tc(e,n)&&(T="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(bc&&n.locale!=="ko"&&(In||T!=="onCompositionStart"?T==="onCompositionEnd"&&In&&(F=_c()):(Wt=h,ko="value"in Wt?Wt.value:Wt.textContent,In=!0)),L=Gl(c,T),0<L.length&&(T=new $a(T,e,null,n,h),y.push({event:T,listeners:L}),F?T.data=F:(F=Pc(n),F!==null&&(T.data=F)))),(F=xm?wm(e,n):km(e,n))&&(c=Gl(c,"onBeforeInput"),0<c.length&&(h=new $a("onBeforeInput","beforeinput",null,n,h),y.push({event:h,listeners:c}),h.data=F))}Bc(y,t)})}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gl(e,t){for(var n=t+"Capture",r=[];e!==null;){var l=e,s=l.stateNode;l.tag===5&&s!==null&&(l=s,s=Dr(e,n),s!=null&&r.unshift(Hr(e,s,l)),s=Dr(e,t),s!=null&&r.push(Hr(e,s,l))),e=e.return}return r}function Ln(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Za(e,t,n,r,l){for(var s=t._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&c!==null&&(a=c,l?(u=Dr(n,s),u!=null&&o.unshift(Hr(n,u,a))):l||(u=Dr(n,s),u!=null&&o.push(Hr(n,u,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Rm=/\r\n?/g,Im=/\u0000|\uFFFD/g;function Ja(e){return(typeof e=="string"?e:""+e).replace(Rm,`
`).replace(Im,"")}function kl(e,t,n){if(t=Ja(t),Ja(e)!==t&&n)throw Error(E(425))}function Yl(){}var Li=null,Fi=null;function Oi(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ri=typeof setTimeout=="function"?setTimeout:void 0,Dm=typeof clearTimeout=="function"?clearTimeout:void 0,qa=typeof Promise=="function"?Promise:void 0,zm=typeof queueMicrotask=="function"?queueMicrotask:typeof qa<"u"?function(e){return qa.resolve(null).then(e).catch($m)}:Ri;function $m(e){setTimeout(function(){throw e})}function Zs(e,t){var n=t,r=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(r===0){e.removeChild(l),Ar(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=l}while(n);Ar(t)}function Xt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function eu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var or=Math.random().toString(36).slice(2),St="__reactFiber$"+or,Wr="__reactProps$"+or,Rt="__reactContainer$"+or,Ii="__reactEvents$"+or,Am="__reactListeners$"+or,Um="__reactHandles$"+or;function yn(e){var t=e[St];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Rt]||n[St]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=eu(e);e!==null;){if(n=e[St])return n;e=eu(e)}return t}e=n,n=e.parentNode}return null}function tl(e){return e=e[St]||e[Rt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function $n(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(E(33))}function ys(e){return e[Wr]||null}var Di=[],An=-1;function sn(e){return{current:e}}function ue(e){0>An||(e.current=Di[An],Di[An]=null,An--)}function se(e,t){An++,Di[An]=e.current,e.current=t}var rn={},Ae=sn(rn),Xe=sn(!1),kn=rn;function qn(e,t){var n=e.type.contextTypes;if(!n)return rn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var l={},s;for(s in n)l[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function Ze(e){return e=e.childContextTypes,e!=null}function Xl(){ue(Xe),ue(Ae)}function tu(e,t,n){if(Ae.current!==rn)throw Error(E(168));se(Ae,t),se(Xe,n)}function Hc(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var l in r)if(!(l in t))throw Error(E(108,Cp(e)||"Unknown",l));return he({},n,r)}function Zl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||rn,kn=Ae.current,se(Ae,e),se(Xe,Xe.current),!0}function nu(e,t,n){var r=e.stateNode;if(!r)throw Error(E(169));n?(e=Hc(e,t,kn),r.__reactInternalMemoizedMergedChildContext=e,ue(Xe),ue(Ae),se(Ae,e)):ue(Xe),se(Xe,n)}var Pt=null,gs=!1,Js=!1;function Wc(e){Pt===null?Pt=[e]:Pt.push(e)}function Bm(e){gs=!0,Wc(e)}function on(){if(!Js&&Pt!==null){Js=!0;var e=0,t=re;try{var n=Pt;for(re=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Pt=null,gs=!1}catch(l){throw Pt!==null&&(Pt=Pt.slice(e+1)),yc(go,on),l}finally{re=t,Js=!1}}return null}var Un=[],Bn=0,Jl=null,ql=0,st=[],it=0,jn=null,Mt=1,Lt="";function mn(e,t){Un[Bn++]=ql,Un[Bn++]=Jl,Jl=e,ql=t}function Kc(e,t,n){st[it++]=Mt,st[it++]=Lt,st[it++]=jn,jn=e;var r=Mt;e=Lt;var l=32-gt(r)-1;r&=~(1<<l),n+=1;var s=32-gt(t)+l;if(30<s){var o=l-l%5;s=(r&(1<<o)-1).toString(32),r>>=o,l-=o,Mt=1<<32-gt(t)+l|n<<l|r,Lt=s+e}else Mt=1<<s|n<<l|r,Lt=e}function Eo(e){e.return!==null&&(mn(e,1),Kc(e,1,0))}function _o(e){for(;e===Jl;)Jl=Un[--Bn],Un[Bn]=null,ql=Un[--Bn],Un[Bn]=null;for(;e===jn;)jn=st[--it],st[it]=null,Lt=st[--it],st[it]=null,Mt=st[--it],st[it]=null}var tt=null,et=null,de=!1,yt=null;function Qc(e,t){var n=ot(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function ru(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,tt=e,et=Xt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,tt=e,et=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=jn!==null?{id:Mt,overflow:Lt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ot(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,tt=e,et=null,!0):!1;default:return!1}}function zi(e){return(e.mode&1)!==0&&(e.flags&128)===0}function $i(e){if(de){var t=et;if(t){var n=t;if(!ru(e,t)){if(zi(e))throw Error(E(418));t=Xt(n.nextSibling);var r=tt;t&&ru(e,t)?Qc(r,n):(e.flags=e.flags&-4097|2,de=!1,tt=e)}}else{if(zi(e))throw Error(E(418));e.flags=e.flags&-4097|2,de=!1,tt=e}}}function lu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;tt=e}function jl(e){if(e!==tt)return!1;if(!de)return lu(e),de=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Oi(e.type,e.memoizedProps)),t&&(t=et)){if(zi(e))throw Gc(),Error(E(418));for(;t;)Qc(e,t),t=Xt(t.nextSibling)}if(lu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(E(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){et=Xt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}et=null}}else et=tt?Xt(e.stateNode.nextSibling):null;return!0}function Gc(){for(var e=et;e;)e=Xt(e.nextSibling)}function er(){et=tt=null,de=!1}function bo(e){yt===null?yt=[e]:yt.push(e)}var Vm=zt.ReactCurrentBatchConfig;function xr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(E(309));var r=n.stateNode}if(!r)throw Error(E(147,e));var l=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=l.refs;o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(E(284));if(!n._owner)throw Error(E(290,e))}return e}function Nl(e,t){throw e=Object.prototype.toString.call(t),Error(E(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function su(e){var t=e._init;return t(e._payload)}function Yc(e){function t(p,f){if(e){var m=p.deletions;m===null?(p.deletions=[f],p.flags|=16):m.push(f)}}function n(p,f){if(!e)return null;for(;f!==null;)t(p,f),f=f.sibling;return null}function r(p,f){for(p=new Map;f!==null;)f.key!==null?p.set(f.key,f):p.set(f.index,f),f=f.sibling;return p}function l(p,f){return p=en(p,f),p.index=0,p.sibling=null,p}function s(p,f,m){return p.index=m,e?(m=p.alternate,m!==null?(m=m.index,m<f?(p.flags|=2,f):m):(p.flags|=2,f)):(p.flags|=1048576,f)}function o(p){return e&&p.alternate===null&&(p.flags|=2),p}function a(p,f,m,x){return f===null||f.tag!==6?(f=si(m,p.mode,x),f.return=p,f):(f=l(f,m),f.return=p,f)}function u(p,f,m,x){var P=m.type;return P===Rn?h(p,f,m.props.children,x,m.key):f!==null&&(f.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Ut&&su(P)===f.type)?(x=l(f,m.props),x.ref=xr(p,f,m),x.return=p,x):(x=Al(m.type,m.key,m.props,null,p.mode,x),x.ref=xr(p,f,m),x.return=p,x)}function c(p,f,m,x){return f===null||f.tag!==4||f.stateNode.containerInfo!==m.containerInfo||f.stateNode.implementation!==m.implementation?(f=ii(m,p.mode,x),f.return=p,f):(f=l(f,m.children||[]),f.return=p,f)}function h(p,f,m,x,P){return f===null||f.tag!==7?(f=wn(m,p.mode,x,P),f.return=p,f):(f=l(f,m),f.return=p,f)}function y(p,f,m){if(typeof f=="string"&&f!==""||typeof f=="number")return f=si(""+f,p.mode,m),f.return=p,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case fl:return m=Al(f.type,f.key,f.props,null,p.mode,m),m.ref=xr(p,null,f),m.return=p,m;case On:return f=ii(f,p.mode,m),f.return=p,f;case Ut:var x=f._init;return y(p,x(f._payload),m)}if(Nr(f)||mr(f))return f=wn(f,p.mode,m,null),f.return=p,f;Nl(p,f)}return null}function g(p,f,m,x){var P=f!==null?f.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return P!==null?null:a(p,f,""+m,x);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case fl:return m.key===P?u(p,f,m,x):null;case On:return m.key===P?c(p,f,m,x):null;case Ut:return P=m._init,g(p,f,P(m._payload),x)}if(Nr(m)||mr(m))return P!==null?null:h(p,f,m,x,null);Nl(p,m)}return null}function j(p,f,m,x,P){if(typeof x=="string"&&x!==""||typeof x=="number")return p=p.get(m)||null,a(f,p,""+x,P);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case fl:return p=p.get(x.key===null?m:x.key)||null,u(f,p,x,P);case On:return p=p.get(x.key===null?m:x.key)||null,c(f,p,x,P);case Ut:var L=x._init;return j(p,f,m,L(x._payload),P)}if(Nr(x)||mr(x))return p=p.get(m)||null,h(f,p,x,P,null);Nl(f,x)}return null}function N(p,f,m,x){for(var P=null,L=null,F=f,T=f=0,R=null;F!==null&&T<m.length;T++){F.index>T?(R=F,F=null):R=F.sibling;var I=g(p,F,m[T],x);if(I===null){F===null&&(F=R);break}e&&F&&I.alternate===null&&t(p,F),f=s(I,f,T),L===null?P=I:L.sibling=I,L=I,F=R}if(T===m.length)return n(p,F),de&&mn(p,T),P;if(F===null){for(;T<m.length;T++)F=y(p,m[T],x),F!==null&&(f=s(F,f,T),L===null?P=F:L.sibling=F,L=F);return de&&mn(p,T),P}for(F=r(p,F);T<m.length;T++)R=j(F,p,T,m[T],x),R!==null&&(e&&R.alternate!==null&&F.delete(R.key===null?T:R.key),f=s(R,f,T),L===null?P=R:L.sibling=R,L=R);return e&&F.forEach(function(W){return t(p,W)}),de&&mn(p,T),P}function k(p,f,m,x){var P=mr(m);if(typeof P!="function")throw Error(E(150));if(m=P.call(m),m==null)throw Error(E(151));for(var L=P=null,F=f,T=f=0,R=null,I=m.next();F!==null&&!I.done;T++,I=m.next()){F.index>T?(R=F,F=null):R=F.sibling;var W=g(p,F,I.value,x);if(W===null){F===null&&(F=R);break}e&&F&&W.alternate===null&&t(p,F),f=s(W,f,T),L===null?P=W:L.sibling=W,L=W,F=R}if(I.done)return n(p,F),de&&mn(p,T),P;if(F===null){for(;!I.done;T++,I=m.next())I=y(p,I.value,x),I!==null&&(f=s(I,f,T),L===null?P=I:L.sibling=I,L=I);return de&&mn(p,T),P}for(F=r(p,F);!I.done;T++,I=m.next())I=j(F,p,T,I.value,x),I!==null&&(e&&I.alternate!==null&&F.delete(I.key===null?T:I.key),f=s(I,f,T),L===null?P=I:L.sibling=I,L=I);return e&&F.forEach(function(fe){return t(p,fe)}),de&&mn(p,T),P}function O(p,f,m,x){if(typeof m=="object"&&m!==null&&m.type===Rn&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case fl:e:{for(var P=m.key,L=f;L!==null;){if(L.key===P){if(P=m.type,P===Rn){if(L.tag===7){n(p,L.sibling),f=l(L,m.props.children),f.return=p,p=f;break e}}else if(L.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Ut&&su(P)===L.type){n(p,L.sibling),f=l(L,m.props),f.ref=xr(p,L,m),f.return=p,p=f;break e}n(p,L);break}else t(p,L);L=L.sibling}m.type===Rn?(f=wn(m.props.children,p.mode,x,m.key),f.return=p,p=f):(x=Al(m.type,m.key,m.props,null,p.mode,x),x.ref=xr(p,f,m),x.return=p,p=x)}return o(p);case On:e:{for(L=m.key;f!==null;){if(f.key===L)if(f.tag===4&&f.stateNode.containerInfo===m.containerInfo&&f.stateNode.implementation===m.implementation){n(p,f.sibling),f=l(f,m.children||[]),f.return=p,p=f;break e}else{n(p,f);break}else t(p,f);f=f.sibling}f=ii(m,p.mode,x),f.return=p,p=f}return o(p);case Ut:return L=m._init,O(p,f,L(m._payload),x)}if(Nr(m))return N(p,f,m,x);if(mr(m))return k(p,f,m,x);Nl(p,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,f!==null&&f.tag===6?(n(p,f.sibling),f=l(f,m),f.return=p,p=f):(n(p,f),f=si(m,p.mode,x),f.return=p,p=f),o(p)):n(p,f)}return O}var tr=Yc(!0),Xc=Yc(!1),es=sn(null),ts=null,Vn=null,To=null;function Po(){To=Vn=ts=null}function Mo(e){var t=es.current;ue(es),e._currentValue=t}function Ai(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Xn(e,t){ts=e,To=Vn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ye=!0),e.firstContext=null)}function ut(e){var t=e._currentValue;if(To!==e)if(e={context:e,memoizedValue:t,next:null},Vn===null){if(ts===null)throw Error(E(308));Vn=e,ts.dependencies={lanes:0,firstContext:e}}else Vn=Vn.next=e;return t}var gn=null;function Lo(e){gn===null?gn=[e]:gn.push(e)}function Zc(e,t,n,r){var l=t.interleaved;return l===null?(n.next=n,Lo(t)):(n.next=l.next,l.next=n),t.interleaved=n,It(e,r)}function It(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Bt=!1;function Fo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Jc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ft(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Zt(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ee&2){var l=r.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),r.pending=t,It(e,n)}return l=r.interleaved,l===null?(t.next=t,Lo(r)):(t.next=l.next,l.next=t),r.interleaved=t,It(e,n)}function Ol(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,vo(e,n)}}function iu(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var l=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?l=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?l=s=t:s=s.next=t}else l=s=t;n={baseState:r.baseState,firstBaseUpdate:l,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ns(e,t,n,r){var l=e.updateQueue;Bt=!1;var s=l.firstBaseUpdate,o=l.lastBaseUpdate,a=l.shared.pending;if(a!==null){l.shared.pending=null;var u=a,c=u.next;u.next=null,o===null?s=c:o.next=c,o=u;var h=e.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=u))}if(s!==null){var y=l.baseState;o=0,h=c=u=null,a=s;do{var g=a.lane,j=a.eventTime;if((r&g)===g){h!==null&&(h=h.next={eventTime:j,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var N=e,k=a;switch(g=t,j=n,k.tag){case 1:if(N=k.payload,typeof N=="function"){y=N.call(j,y,g);break e}y=N;break e;case 3:N.flags=N.flags&-65537|128;case 0:if(N=k.payload,g=typeof N=="function"?N.call(j,y,g):N,g==null)break e;y=he({},y,g);break e;case 2:Bt=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,g=l.effects,g===null?l.effects=[a]:g.push(a))}else j={eventTime:j,lane:g,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=j,u=y):h=h.next=j,o|=g;if(a=a.next,a===null){if(a=l.shared.pending,a===null)break;g=a,a=g.next,g.next=null,l.lastBaseUpdate=g,l.shared.pending=null}}while(!0);if(h===null&&(u=y),l.baseState=u,l.firstBaseUpdate=c,l.lastBaseUpdate=h,t=l.shared.interleaved,t!==null){l=t;do o|=l.lane,l=l.next;while(l!==t)}else s===null&&(l.shared.lanes=0);Sn|=o,e.lanes=o,e.memoizedState=y}}function ou(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],l=r.callback;if(l!==null){if(r.callback=null,r=n,typeof l!="function")throw Error(E(191,l));l.call(r)}}}var nl={},Et=sn(nl),Kr=sn(nl),Qr=sn(nl);function vn(e){if(e===nl)throw Error(E(174));return e}function Oo(e,t){switch(se(Qr,t),se(Kr,e),se(Et,nl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:wi(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=wi(t,e)}ue(Et),se(Et,t)}function nr(){ue(Et),ue(Kr),ue(Qr)}function qc(e){vn(Qr.current);var t=vn(Et.current),n=wi(t,e.type);t!==n&&(se(Kr,e),se(Et,n))}function Ro(e){Kr.current===e&&(ue(Et),ue(Kr))}var pe=sn(0);function rs(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var qs=[];function Io(){for(var e=0;e<qs.length;e++)qs[e]._workInProgressVersionPrimary=null;qs.length=0}var Rl=zt.ReactCurrentDispatcher,ei=zt.ReactCurrentBatchConfig,Nn=0,me=null,Ee=null,be=null,ls=!1,Mr=!1,Gr=0,Hm=0;function De(){throw Error(E(321))}function Do(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!xt(e[n],t[n]))return!1;return!0}function zo(e,t,n,r,l,s){if(Nn=s,me=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Rl.current=e===null||e.memoizedState===null?Gm:Ym,e=n(r,l),Mr){s=0;do{if(Mr=!1,Gr=0,25<=s)throw Error(E(301));s+=1,be=Ee=null,t.updateQueue=null,Rl.current=Xm,e=n(r,l)}while(Mr)}if(Rl.current=ss,t=Ee!==null&&Ee.next!==null,Nn=0,be=Ee=me=null,ls=!1,t)throw Error(E(300));return e}function $o(){var e=Gr!==0;return Gr=0,e}function Nt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return be===null?me.memoizedState=be=e:be=be.next=e,be}function ct(){if(Ee===null){var e=me.alternate;e=e!==null?e.memoizedState:null}else e=Ee.next;var t=be===null?me.memoizedState:be.next;if(t!==null)be=t,Ee=e;else{if(e===null)throw Error(E(310));Ee=e,e={memoizedState:Ee.memoizedState,baseState:Ee.baseState,baseQueue:Ee.baseQueue,queue:Ee.queue,next:null},be===null?me.memoizedState=be=e:be=be.next=e}return be}function Yr(e,t){return typeof t=="function"?t(e):t}function ti(e){var t=ct(),n=t.queue;if(n===null)throw Error(E(311));n.lastRenderedReducer=e;var r=Ee,l=r.baseQueue,s=n.pending;if(s!==null){if(l!==null){var o=l.next;l.next=s.next,s.next=o}r.baseQueue=l=s,n.pending=null}if(l!==null){s=l.next,r=r.baseState;var a=o=null,u=null,c=s;do{var h=c.lane;if((Nn&h)===h)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var y={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=y,o=r):u=u.next=y,me.lanes|=h,Sn|=h}c=c.next}while(c!==null&&c!==s);u===null?o=r:u.next=a,xt(r,t.memoizedState)||(Ye=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){l=e;do s=l.lane,me.lanes|=s,Sn|=s,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ni(e){var t=ct(),n=t.queue;if(n===null)throw Error(E(311));n.lastRenderedReducer=e;var r=n.dispatch,l=n.pending,s=t.memoizedState;if(l!==null){n.pending=null;var o=l=l.next;do s=e(s,o.action),o=o.next;while(o!==l);xt(s,t.memoizedState)||(Ye=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function ed(){}function td(e,t){var n=me,r=ct(),l=t(),s=!xt(r.memoizedState,l);if(s&&(r.memoizedState=l,Ye=!0),r=r.queue,Ao(ld.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||be!==null&&be.memoizedState.tag&1){if(n.flags|=2048,Xr(9,rd.bind(null,n,r,l,t),void 0,null),Te===null)throw Error(E(349));Nn&30||nd(n,t,l)}return l}function nd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=me.updateQueue,t===null?(t={lastEffect:null,stores:null},me.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function rd(e,t,n,r){t.value=n,t.getSnapshot=r,sd(t)&&id(e)}function ld(e,t,n){return n(function(){sd(t)&&id(e)})}function sd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!xt(e,n)}catch{return!0}}function id(e){var t=It(e,1);t!==null&&vt(t,e,1,-1)}function au(e){var t=Nt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Yr,lastRenderedState:e},t.queue=e,e=e.dispatch=Qm.bind(null,me,e),[t.memoizedState,e]}function Xr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=me.updateQueue,t===null?(t={lastEffect:null,stores:null},me.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function od(){return ct().memoizedState}function Il(e,t,n,r){var l=Nt();me.flags|=e,l.memoizedState=Xr(1|t,n,void 0,r===void 0?null:r)}function vs(e,t,n,r){var l=ct();r=r===void 0?null:r;var s=void 0;if(Ee!==null){var o=Ee.memoizedState;if(s=o.destroy,r!==null&&Do(r,o.deps)){l.memoizedState=Xr(t,n,s,r);return}}me.flags|=e,l.memoizedState=Xr(1|t,n,s,r)}function uu(e,t){return Il(8390656,8,e,t)}function Ao(e,t){return vs(2048,8,e,t)}function ad(e,t){return vs(4,2,e,t)}function ud(e,t){return vs(4,4,e,t)}function cd(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function dd(e,t,n){return n=n!=null?n.concat([e]):null,vs(4,4,cd.bind(null,t,e),n)}function Uo(){}function fd(e,t){var n=ct();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Do(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function pd(e,t){var n=ct();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Do(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function md(e,t,n){return Nn&21?(xt(n,t)||(n=xc(),me.lanes|=n,Sn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ye=!0),e.memoizedState=n)}function Wm(e,t){var n=re;re=n!==0&&4>n?n:4,e(!0);var r=ei.transition;ei.transition={};try{e(!1),t()}finally{re=n,ei.transition=r}}function hd(){return ct().memoizedState}function Km(e,t,n){var r=qt(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},yd(e))gd(t,n);else if(n=Zc(e,t,n,r),n!==null){var l=Ve();vt(n,e,r,l),vd(n,t,r)}}function Qm(e,t,n){var r=qt(e),l={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(yd(e))gd(t,l);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,n);if(l.hasEagerState=!0,l.eagerState=a,xt(a,o)){var u=t.interleaved;u===null?(l.next=l,Lo(t)):(l.next=u.next,u.next=l),t.interleaved=l;return}}catch{}finally{}n=Zc(e,t,l,r),n!==null&&(l=Ve(),vt(n,e,r,l),vd(n,t,r))}}function yd(e){var t=e.alternate;return e===me||t!==null&&t===me}function gd(e,t){Mr=ls=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function vd(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,vo(e,n)}}var ss={readContext:ut,useCallback:De,useContext:De,useEffect:De,useImperativeHandle:De,useInsertionEffect:De,useLayoutEffect:De,useMemo:De,useReducer:De,useRef:De,useState:De,useDebugValue:De,useDeferredValue:De,useTransition:De,useMutableSource:De,useSyncExternalStore:De,useId:De,unstable_isNewReconciler:!1},Gm={readContext:ut,useCallback:function(e,t){return Nt().memoizedState=[e,t===void 0?null:t],e},useContext:ut,useEffect:uu,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Il(4194308,4,cd.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Il(4194308,4,e,t)},useInsertionEffect:function(e,t){return Il(4,2,e,t)},useMemo:function(e,t){var n=Nt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Nt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Km.bind(null,me,e),[r.memoizedState,e]},useRef:function(e){var t=Nt();return e={current:e},t.memoizedState=e},useState:au,useDebugValue:Uo,useDeferredValue:function(e){return Nt().memoizedState=e},useTransition:function(){var e=au(!1),t=e[0];return e=Wm.bind(null,e[1]),Nt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=me,l=Nt();if(de){if(n===void 0)throw Error(E(407));n=n()}else{if(n=t(),Te===null)throw Error(E(349));Nn&30||nd(r,t,n)}l.memoizedState=n;var s={value:n,getSnapshot:t};return l.queue=s,uu(ld.bind(null,r,s,e),[e]),r.flags|=2048,Xr(9,rd.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Nt(),t=Te.identifierPrefix;if(de){var n=Lt,r=Mt;n=(r&~(1<<32-gt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Gr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Hm++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Ym={readContext:ut,useCallback:fd,useContext:ut,useEffect:Ao,useImperativeHandle:dd,useInsertionEffect:ad,useLayoutEffect:ud,useMemo:pd,useReducer:ti,useRef:od,useState:function(){return ti(Yr)},useDebugValue:Uo,useDeferredValue:function(e){var t=ct();return md(t,Ee.memoizedState,e)},useTransition:function(){var e=ti(Yr)[0],t=ct().memoizedState;return[e,t]},useMutableSource:ed,useSyncExternalStore:td,useId:hd,unstable_isNewReconciler:!1},Xm={readContext:ut,useCallback:fd,useContext:ut,useEffect:Ao,useImperativeHandle:dd,useInsertionEffect:ad,useLayoutEffect:ud,useMemo:pd,useReducer:ni,useRef:od,useState:function(){return ni(Yr)},useDebugValue:Uo,useDeferredValue:function(e){var t=ct();return Ee===null?t.memoizedState=e:md(t,Ee.memoizedState,e)},useTransition:function(){var e=ni(Yr)[0],t=ct().memoizedState;return[e,t]},useMutableSource:ed,useSyncExternalStore:td,useId:hd,unstable_isNewReconciler:!1};function mt(e,t){if(e&&e.defaultProps){t=he({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Ui(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:he({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var xs={isMounted:function(e){return(e=e._reactInternals)?_n(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ve(),l=qt(e),s=Ft(r,l);s.payload=t,n!=null&&(s.callback=n),t=Zt(e,s,l),t!==null&&(vt(t,e,l,r),Ol(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ve(),l=qt(e),s=Ft(r,l);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Zt(e,s,l),t!==null&&(vt(t,e,l,r),Ol(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ve(),r=qt(e),l=Ft(n,r);l.tag=2,t!=null&&(l.callback=t),t=Zt(e,l,r),t!==null&&(vt(t,e,r,n),Ol(t,e,r))}};function cu(e,t,n,r,l,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!Br(n,r)||!Br(l,s):!0}function xd(e,t,n){var r=!1,l=rn,s=t.contextType;return typeof s=="object"&&s!==null?s=ut(s):(l=Ze(t)?kn:Ae.current,r=t.contextTypes,s=(r=r!=null)?qn(e,l):rn),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=xs,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=s),t}function du(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&xs.enqueueReplaceState(t,t.state,null)}function Bi(e,t,n,r){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},Fo(e);var s=t.contextType;typeof s=="object"&&s!==null?l.context=ut(s):(s=Ze(t)?kn:Ae.current,l.context=qn(e,s)),l.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Ui(e,t,s,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&xs.enqueueReplaceState(l,l.state,null),ns(e,n,l,r),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function rr(e,t){try{var n="",r=t;do n+=Sp(r),r=r.return;while(r);var l=n}catch(s){l=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:l,digest:null}}function ri(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Vi(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Zm=typeof WeakMap=="function"?WeakMap:Map;function wd(e,t,n){n=Ft(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){os||(os=!0,qi=r),Vi(e,t)},n}function kd(e,t,n){n=Ft(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var l=t.value;n.payload=function(){return r(l)},n.callback=function(){Vi(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Vi(e,t),typeof r!="function"&&(Jt===null?Jt=new Set([this]):Jt.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function fu(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Zm;var l=new Set;r.set(t,l)}else l=r.get(t),l===void 0&&(l=new Set,r.set(t,l));l.has(n)||(l.add(n),e=dh.bind(null,e,t,n),t.then(e,e))}function pu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function mu(e,t,n,r,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Ft(-1,1),t.tag=2,Zt(n,t,1))),n.lanes|=1),e)}var Jm=zt.ReactCurrentOwner,Ye=!1;function Be(e,t,n,r){t.child=e===null?Xc(t,null,n,r):tr(t,e.child,n,r)}function hu(e,t,n,r,l){n=n.render;var s=t.ref;return Xn(t,l),r=zo(e,t,n,r,s,l),n=$o(),e!==null&&!Ye?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Dt(e,t,l)):(de&&n&&Eo(t),t.flags|=1,Be(e,t,r,l),t.child)}function yu(e,t,n,r,l){if(e===null){var s=n.type;return typeof s=="function"&&!Yo(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,jd(e,t,s,r,l)):(e=Al(n.type,null,r,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&l)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Br,n(o,r)&&e.ref===t.ref)return Dt(e,t,l)}return t.flags|=1,e=en(s,r),e.ref=t.ref,e.return=t,t.child=e}function jd(e,t,n,r,l){if(e!==null){var s=e.memoizedProps;if(Br(s,r)&&e.ref===t.ref)if(Ye=!1,t.pendingProps=r=s,(e.lanes&l)!==0)e.flags&131072&&(Ye=!0);else return t.lanes=e.lanes,Dt(e,t,l)}return Hi(e,t,n,r,l)}function Nd(e,t,n){var r=t.pendingProps,l=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},se(Wn,qe),qe|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,se(Wn,qe),qe|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,se(Wn,qe),qe|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,se(Wn,qe),qe|=r;return Be(e,t,l,n),t.child}function Sd(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Hi(e,t,n,r,l){var s=Ze(n)?kn:Ae.current;return s=qn(t,s),Xn(t,l),n=zo(e,t,n,r,s,l),r=$o(),e!==null&&!Ye?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Dt(e,t,l)):(de&&r&&Eo(t),t.flags|=1,Be(e,t,n,l),t.child)}function gu(e,t,n,r,l){if(Ze(n)){var s=!0;Zl(t)}else s=!1;if(Xn(t,l),t.stateNode===null)Dl(e,t),xd(t,n,r),Bi(t,n,r,l),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=ut(c):(c=Ze(n)?kn:Ae.current,c=qn(t,c));var h=n.getDerivedStateFromProps,y=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";y||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==c)&&du(t,o,r,c),Bt=!1;var g=t.memoizedState;o.state=g,ns(t,r,o,l),u=t.memoizedState,a!==r||g!==u||Xe.current||Bt?(typeof h=="function"&&(Ui(t,n,h,r),u=t.memoizedState),(a=Bt||cu(t,n,a,r,g,u,c))?(y||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Jc(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:mt(t.type,a),o.props=c,y=t.pendingProps,g=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=ut(u):(u=Ze(n)?kn:Ae.current,u=qn(t,u));var j=n.getDerivedStateFromProps;(h=typeof j=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==y||g!==u)&&du(t,o,r,u),Bt=!1,g=t.memoizedState,o.state=g,ns(t,r,o,l);var N=t.memoizedState;a!==y||g!==N||Xe.current||Bt?(typeof j=="function"&&(Ui(t,n,j,r),N=t.memoizedState),(c=Bt||cu(t,n,c,r,g,N,u)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,N,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,N,u)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=N),o.props=r,o.state=N,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),r=!1)}return Wi(e,t,n,r,s,l)}function Wi(e,t,n,r,l,s){Sd(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return l&&nu(t,n,!1),Dt(e,t,s);r=t.stateNode,Jm.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=tr(t,e.child,null,s),t.child=tr(t,null,a,s)):Be(e,t,a,s),t.memoizedState=r.state,l&&nu(t,n,!0),t.child}function Cd(e){var t=e.stateNode;t.pendingContext?tu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&tu(e,t.context,!1),Oo(e,t.containerInfo)}function vu(e,t,n,r,l){return er(),bo(l),t.flags|=256,Be(e,t,n,r),t.child}var Ki={dehydrated:null,treeContext:null,retryLane:0};function Qi(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ed(e,t,n){var r=t.pendingProps,l=pe.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(l&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),se(pe,l&1),e===null)return $i(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=js(o,r,0,null),e=wn(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Qi(n),t.memoizedState=Ki,e):Bo(t,o));if(l=e.memoizedState,l!==null&&(a=l.dehydrated,a!==null))return qm(e,t,o,r,a,l,n);if(s){s=r.fallback,o=t.mode,l=e.child,a=l.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&t.child!==l?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=en(l,u),r.subtreeFlags=l.subtreeFlags&14680064),a!==null?s=en(a,s):(s=wn(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?Qi(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=Ki,r}return s=e.child,e=s.sibling,r=en(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Bo(e,t){return t=js({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Sl(e,t,n,r){return r!==null&&bo(r),tr(t,e.child,null,n),e=Bo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function qm(e,t,n,r,l,s,o){if(n)return t.flags&256?(t.flags&=-257,r=ri(Error(E(422))),Sl(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,l=t.mode,r=js({mode:"visible",children:r.children},l,0,null),s=wn(s,l,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&tr(t,e.child,null,o),t.child.memoizedState=Qi(o),t.memoizedState=Ki,s);if(!(t.mode&1))return Sl(e,t,o,null);if(l.data==="$!"){if(r=l.nextSibling&&l.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(E(419)),r=ri(s,r,void 0),Sl(e,t,o,r)}if(a=(o&e.childLanes)!==0,Ye||a){if(r=Te,r!==null){switch(o&-o){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(r.suspendedLanes|o)?0:l,l!==0&&l!==s.retryLane&&(s.retryLane=l,It(e,l),vt(r,e,l,-1))}return Go(),r=ri(Error(E(421))),Sl(e,t,o,r)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=fh.bind(null,e),l._reactRetry=t,null):(e=s.treeContext,et=Xt(l.nextSibling),tt=t,de=!0,yt=null,e!==null&&(st[it++]=Mt,st[it++]=Lt,st[it++]=jn,Mt=e.id,Lt=e.overflow,jn=t),t=Bo(t,r.children),t.flags|=4096,t)}function xu(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ai(e.return,t,n)}function li(e,t,n,r,l){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:l}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=l)}function _d(e,t,n){var r=t.pendingProps,l=r.revealOrder,s=r.tail;if(Be(e,t,r.children,n),r=pe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&xu(e,n,t);else if(e.tag===19)xu(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(se(pe,r),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&rs(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),li(t,!1,l,n,s);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&rs(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}li(t,!0,n,null,s);break;case"together":li(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Dl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Dt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Sn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(E(153));if(t.child!==null){for(e=t.child,n=en(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=en(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function eh(e,t,n){switch(t.tag){case 3:Cd(t),er();break;case 5:qc(t);break;case 1:Ze(t.type)&&Zl(t);break;case 4:Oo(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,l=t.memoizedProps.value;se(es,r._currentValue),r._currentValue=l;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(se(pe,pe.current&1),t.flags|=128,null):n&t.child.childLanes?Ed(e,t,n):(se(pe,pe.current&1),e=Dt(e,t,n),e!==null?e.sibling:null);se(pe,pe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return _d(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),se(pe,pe.current),r)break;return null;case 22:case 23:return t.lanes=0,Nd(e,t,n)}return Dt(e,t,n)}var bd,Gi,Td,Pd;bd=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Gi=function(){};Td=function(e,t,n,r){var l=e.memoizedProps;if(l!==r){e=t.stateNode,vn(Et.current);var s=null;switch(n){case"input":l=yi(e,l),r=yi(e,r),s=[];break;case"select":l=he({},l,{value:void 0}),r=he({},r,{value:void 0}),s=[];break;case"textarea":l=xi(e,l),r=xi(e,r),s=[];break;default:typeof l.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Yl)}ki(n,r);var o;n=null;for(c in l)if(!r.hasOwnProperty(c)&&l.hasOwnProperty(c)&&l[c]!=null)if(c==="style"){var a=l[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Rr.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var u=r[c];if(a=l!=null?l[c]:void 0,r.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(s=s||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Rr.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&ae("scroll",e),s||a===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(t.updateQueue=c)&&(t.flags|=4)}};Pd=function(e,t,n,r){n!==r&&(t.flags|=4)};function wr(e,t){if(!de)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ze(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags&14680064,r|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags,r|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function th(e,t,n){var r=t.pendingProps;switch(_o(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ze(t),null;case 1:return Ze(t.type)&&Xl(),ze(t),null;case 3:return r=t.stateNode,nr(),ue(Xe),ue(Ae),Io(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(jl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,yt!==null&&(no(yt),yt=null))),Gi(e,t),ze(t),null;case 5:Ro(t);var l=vn(Qr.current);if(n=t.type,e!==null&&t.stateNode!=null)Td(e,t,n,r,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(E(166));return ze(t),null}if(e=vn(Et.current),jl(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[St]=t,r[Wr]=s,e=(t.mode&1)!==0,n){case"dialog":ae("cancel",r),ae("close",r);break;case"iframe":case"object":case"embed":ae("load",r);break;case"video":case"audio":for(l=0;l<Cr.length;l++)ae(Cr[l],r);break;case"source":ae("error",r);break;case"img":case"image":case"link":ae("error",r),ae("load",r);break;case"details":ae("toggle",r);break;case"input":ba(r,s),ae("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ae("invalid",r);break;case"textarea":Pa(r,s),ae("invalid",r)}ki(n,s),l=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&kl(r.textContent,a,e),l=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&kl(r.textContent,a,e),l=["children",""+a]):Rr.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ae("scroll",r)}switch(n){case"input":pl(r),Ta(r,s,!0);break;case"textarea":pl(r),Ma(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Yl)}r=l,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=lc(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[St]=t,e[Wr]=r,bd(e,t,!1,!1),t.stateNode=e;e:{switch(o=ji(n,r),n){case"dialog":ae("cancel",e),ae("close",e),l=r;break;case"iframe":case"object":case"embed":ae("load",e),l=r;break;case"video":case"audio":for(l=0;l<Cr.length;l++)ae(Cr[l],e);l=r;break;case"source":ae("error",e),l=r;break;case"img":case"image":case"link":ae("error",e),ae("load",e),l=r;break;case"details":ae("toggle",e),l=r;break;case"input":ba(e,r),l=yi(e,r),ae("invalid",e);break;case"option":l=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},l=he({},r,{value:void 0}),ae("invalid",e);break;case"textarea":Pa(e,r),l=xi(e,r),ae("invalid",e);break;default:l=r}ki(n,l),a=l;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="style"?oc(e,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&sc(e,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Ir(e,u):typeof u=="number"&&Ir(e,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Rr.hasOwnProperty(s)?u!=null&&s==="onScroll"&&ae("scroll",e):u!=null&&fo(e,s,u,o))}switch(n){case"input":pl(e),Ta(e,r,!1);break;case"textarea":pl(e),Ma(e);break;case"option":r.value!=null&&e.setAttribute("value",""+nn(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Kn(e,!!r.multiple,s,!1):r.defaultValue!=null&&Kn(e,!!r.multiple,r.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=Yl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ze(t),null;case 6:if(e&&t.stateNode!=null)Pd(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(E(166));if(n=vn(Qr.current),vn(Et.current),jl(t)){if(r=t.stateNode,n=t.memoizedProps,r[St]=t,(s=r.nodeValue!==n)&&(e=tt,e!==null))switch(e.tag){case 3:kl(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&kl(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[St]=t,t.stateNode=r}return ze(t),null;case 13:if(ue(pe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(de&&et!==null&&t.mode&1&&!(t.flags&128))Gc(),er(),t.flags|=98560,s=!1;else if(s=jl(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(E(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(E(317));s[St]=t}else er(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ze(t),s=!1}else yt!==null&&(no(yt),yt=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||pe.current&1?_e===0&&(_e=3):Go())),t.updateQueue!==null&&(t.flags|=4),ze(t),null);case 4:return nr(),Gi(e,t),e===null&&Vr(t.stateNode.containerInfo),ze(t),null;case 10:return Mo(t.type._context),ze(t),null;case 17:return Ze(t.type)&&Xl(),ze(t),null;case 19:if(ue(pe),s=t.memoizedState,s===null)return ze(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)wr(s,!1);else{if(_e!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=rs(e),o!==null){for(t.flags|=128,wr(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return se(pe,pe.current&1|2),t.child}e=e.sibling}s.tail!==null&&ke()>lr&&(t.flags|=128,r=!0,wr(s,!1),t.lanes=4194304)}else{if(!r)if(e=rs(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),wr(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!de)return ze(t),null}else 2*ke()-s.renderingStartTime>lr&&n!==1073741824&&(t.flags|=128,r=!0,wr(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=ke(),t.sibling=null,n=pe.current,se(pe,r?n&1|2:n&1),t):(ze(t),null);case 22:case 23:return Qo(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?qe&1073741824&&(ze(t),t.subtreeFlags&6&&(t.flags|=8192)):ze(t),null;case 24:return null;case 25:return null}throw Error(E(156,t.tag))}function nh(e,t){switch(_o(t),t.tag){case 1:return Ze(t.type)&&Xl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return nr(),ue(Xe),ue(Ae),Io(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ro(t),null;case 13:if(ue(pe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(E(340));er()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ue(pe),null;case 4:return nr(),null;case 10:return Mo(t.type._context),null;case 22:case 23:return Qo(),null;case 24:return null;default:return null}}var Cl=!1,$e=!1,rh=typeof WeakSet=="function"?WeakSet:Set,z=null;function Hn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){xe(e,t,r)}else n.current=null}function Yi(e,t,n){try{n()}catch(r){xe(e,t,r)}}var wu=!1;function lh(e,t){if(Li=Kl,e=Rc(),Co(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var l=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,c=0,h=0,y=e,g=null;t:for(;;){for(var j;y!==n||l!==0&&y.nodeType!==3||(a=o+l),y!==s||r!==0&&y.nodeType!==3||(u=o+r),y.nodeType===3&&(o+=y.nodeValue.length),(j=y.firstChild)!==null;)g=y,y=j;for(;;){if(y===e)break t;if(g===n&&++c===l&&(a=o),g===s&&++h===r&&(u=o),(j=y.nextSibling)!==null)break;y=g,g=y.parentNode}y=j}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Fi={focusedElem:e,selectionRange:n},Kl=!1,z=t;z!==null;)if(t=z,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,z=e;else for(;z!==null;){t=z;try{var N=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(N!==null){var k=N.memoizedProps,O=N.memoizedState,p=t.stateNode,f=p.getSnapshotBeforeUpdate(t.elementType===t.type?k:mt(t.type,k),O);p.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var m=t.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(E(163))}}catch(x){xe(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,z=e;break}z=t.return}return N=wu,wu=!1,N}function Lr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var l=r=r.next;do{if((l.tag&e)===e){var s=l.destroy;l.destroy=void 0,s!==void 0&&Yi(t,n,s)}l=l.next}while(l!==r)}}function ws(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Xi(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Md(e){var t=e.alternate;t!==null&&(e.alternate=null,Md(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[St],delete t[Wr],delete t[Ii],delete t[Am],delete t[Um])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ld(e){return e.tag===5||e.tag===3||e.tag===4}function ku(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ld(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Zi(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Yl));else if(r!==4&&(e=e.child,e!==null))for(Zi(e,t,n),e=e.sibling;e!==null;)Zi(e,t,n),e=e.sibling}function Ji(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Ji(e,t,n),e=e.sibling;e!==null;)Ji(e,t,n),e=e.sibling}var Me=null,ht=!1;function At(e,t,n){for(n=n.child;n!==null;)Fd(e,t,n),n=n.sibling}function Fd(e,t,n){if(Ct&&typeof Ct.onCommitFiberUnmount=="function")try{Ct.onCommitFiberUnmount(fs,n)}catch{}switch(n.tag){case 5:$e||Hn(n,t);case 6:var r=Me,l=ht;Me=null,At(e,t,n),Me=r,ht=l,Me!==null&&(ht?(e=Me,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Me.removeChild(n.stateNode));break;case 18:Me!==null&&(ht?(e=Me,n=n.stateNode,e.nodeType===8?Zs(e.parentNode,n):e.nodeType===1&&Zs(e,n),Ar(e)):Zs(Me,n.stateNode));break;case 4:r=Me,l=ht,Me=n.stateNode.containerInfo,ht=!0,At(e,t,n),Me=r,ht=l;break;case 0:case 11:case 14:case 15:if(!$e&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){l=r=r.next;do{var s=l,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Yi(n,t,o),l=l.next}while(l!==r)}At(e,t,n);break;case 1:if(!$e&&(Hn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){xe(n,t,a)}At(e,t,n);break;case 21:At(e,t,n);break;case 22:n.mode&1?($e=(r=$e)||n.memoizedState!==null,At(e,t,n),$e=r):At(e,t,n);break;default:At(e,t,n)}}function ju(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new rh),t.forEach(function(r){var l=ph.bind(null,e,r);n.has(r)||(n.add(r),r.then(l,l))})}}function pt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Me=a.stateNode,ht=!1;break e;case 3:Me=a.stateNode.containerInfo,ht=!0;break e;case 4:Me=a.stateNode.containerInfo,ht=!0;break e}a=a.return}if(Me===null)throw Error(E(160));Fd(s,o,l),Me=null,ht=!1;var u=l.alternate;u!==null&&(u.return=null),l.return=null}catch(c){xe(l,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Od(t,e),t=t.sibling}function Od(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(pt(t,e),jt(e),r&4){try{Lr(3,e,e.return),ws(3,e)}catch(k){xe(e,e.return,k)}try{Lr(5,e,e.return)}catch(k){xe(e,e.return,k)}}break;case 1:pt(t,e),jt(e),r&512&&n!==null&&Hn(n,n.return);break;case 5:if(pt(t,e),jt(e),r&512&&n!==null&&Hn(n,n.return),e.flags&32){var l=e.stateNode;try{Ir(l,"")}catch(k){xe(e,e.return,k)}}if(r&4&&(l=e.stateNode,l!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,a=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&nc(l,s),ji(a,o);var c=ji(a,s);for(o=0;o<u.length;o+=2){var h=u[o],y=u[o+1];h==="style"?oc(l,y):h==="dangerouslySetInnerHTML"?sc(l,y):h==="children"?Ir(l,y):fo(l,h,y,c)}switch(a){case"input":gi(l,s);break;case"textarea":rc(l,s);break;case"select":var g=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!s.multiple;var j=s.value;j!=null?Kn(l,!!s.multiple,j,!1):g!==!!s.multiple&&(s.defaultValue!=null?Kn(l,!!s.multiple,s.defaultValue,!0):Kn(l,!!s.multiple,s.multiple?[]:"",!1))}l[Wr]=s}catch(k){xe(e,e.return,k)}}break;case 6:if(pt(t,e),jt(e),r&4){if(e.stateNode===null)throw Error(E(162));l=e.stateNode,s=e.memoizedProps;try{l.nodeValue=s}catch(k){xe(e,e.return,k)}}break;case 3:if(pt(t,e),jt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ar(t.containerInfo)}catch(k){xe(e,e.return,k)}break;case 4:pt(t,e),jt(e);break;case 13:pt(t,e),jt(e),l=e.child,l.flags&8192&&(s=l.memoizedState!==null,l.stateNode.isHidden=s,!s||l.alternate!==null&&l.alternate.memoizedState!==null||(Wo=ke())),r&4&&ju(e);break;case 22:if(h=n!==null&&n.memoizedState!==null,e.mode&1?($e=(c=$e)||h,pt(t,e),$e=c):pt(t,e),jt(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!h&&e.mode&1)for(z=e,h=e.child;h!==null;){for(y=z=h;z!==null;){switch(g=z,j=g.child,g.tag){case 0:case 11:case 14:case 15:Lr(4,g,g.return);break;case 1:Hn(g,g.return);var N=g.stateNode;if(typeof N.componentWillUnmount=="function"){r=g,n=g.return;try{t=r,N.props=t.memoizedProps,N.state=t.memoizedState,N.componentWillUnmount()}catch(k){xe(r,n,k)}}break;case 5:Hn(g,g.return);break;case 22:if(g.memoizedState!==null){Su(y);continue}}j!==null?(j.return=g,z=j):Su(y)}h=h.sibling}e:for(h=null,y=e;;){if(y.tag===5){if(h===null){h=y;try{l=y.stateNode,c?(s=l.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=y.stateNode,u=y.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=ic("display",o))}catch(k){xe(e,e.return,k)}}}else if(y.tag===6){if(h===null)try{y.stateNode.nodeValue=c?"":y.memoizedProps}catch(k){xe(e,e.return,k)}}else if((y.tag!==22&&y.tag!==23||y.memoizedState===null||y===e)&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===e)break e;for(;y.sibling===null;){if(y.return===null||y.return===e)break e;h===y&&(h=null),y=y.return}h===y&&(h=null),y.sibling.return=y.return,y=y.sibling}}break;case 19:pt(t,e),jt(e),r&4&&ju(e);break;case 21:break;default:pt(t,e),jt(e)}}function jt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Ld(n)){var r=n;break e}n=n.return}throw Error(E(160))}switch(r.tag){case 5:var l=r.stateNode;r.flags&32&&(Ir(l,""),r.flags&=-33);var s=ku(e);Ji(e,s,l);break;case 3:case 4:var o=r.stateNode.containerInfo,a=ku(e);Zi(e,a,o);break;default:throw Error(E(161))}}catch(u){xe(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function sh(e,t,n){z=e,Rd(e)}function Rd(e,t,n){for(var r=(e.mode&1)!==0;z!==null;){var l=z,s=l.child;if(l.tag===22&&r){var o=l.memoizedState!==null||Cl;if(!o){var a=l.alternate,u=a!==null&&a.memoizedState!==null||$e;a=Cl;var c=$e;if(Cl=o,($e=u)&&!c)for(z=l;z!==null;)o=z,u=o.child,o.tag===22&&o.memoizedState!==null?Cu(l):u!==null?(u.return=o,z=u):Cu(l);for(;s!==null;)z=s,Rd(s),s=s.sibling;z=l,Cl=a,$e=c}Nu(e)}else l.subtreeFlags&8772&&s!==null?(s.return=l,z=s):Nu(e)}}function Nu(e){for(;z!==null;){var t=z;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:$e||ws(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!$e)if(n===null)r.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:mt(t.type,n.memoizedProps);r.componentDidUpdate(l,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&ou(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}ou(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var y=h.dehydrated;y!==null&&Ar(y)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(E(163))}$e||t.flags&512&&Xi(t)}catch(g){xe(t,t.return,g)}}if(t===e){z=null;break}if(n=t.sibling,n!==null){n.return=t.return,z=n;break}z=t.return}}function Su(e){for(;z!==null;){var t=z;if(t===e){z=null;break}var n=t.sibling;if(n!==null){n.return=t.return,z=n;break}z=t.return}}function Cu(e){for(;z!==null;){var t=z;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ws(4,t)}catch(u){xe(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var l=t.return;try{r.componentDidMount()}catch(u){xe(t,l,u)}}var s=t.return;try{Xi(t)}catch(u){xe(t,s,u)}break;case 5:var o=t.return;try{Xi(t)}catch(u){xe(t,o,u)}}}catch(u){xe(t,t.return,u)}if(t===e){z=null;break}var a=t.sibling;if(a!==null){a.return=t.return,z=a;break}z=t.return}}var ih=Math.ceil,is=zt.ReactCurrentDispatcher,Vo=zt.ReactCurrentOwner,at=zt.ReactCurrentBatchConfig,ee=0,Te=null,je=null,Le=0,qe=0,Wn=sn(0),_e=0,Zr=null,Sn=0,ks=0,Ho=0,Fr=null,Ge=null,Wo=0,lr=1/0,Tt=null,os=!1,qi=null,Jt=null,El=!1,Kt=null,as=0,Or=0,eo=null,zl=-1,$l=0;function Ve(){return ee&6?ke():zl!==-1?zl:zl=ke()}function qt(e){return e.mode&1?ee&2&&Le!==0?Le&-Le:Vm.transition!==null?($l===0&&($l=xc()),$l):(e=re,e!==0||(e=window.event,e=e===void 0?16:Ec(e.type)),e):1}function vt(e,t,n,r){if(50<Or)throw Or=0,eo=null,Error(E(185));qr(e,n,r),(!(ee&2)||e!==Te)&&(e===Te&&(!(ee&2)&&(ks|=n),_e===4&&Ht(e,Le)),Je(e,r),n===1&&ee===0&&!(t.mode&1)&&(lr=ke()+500,gs&&on()))}function Je(e,t){var n=e.callbackNode;Vp(e,t);var r=Wl(e,e===Te?Le:0);if(r===0)n!==null&&Oa(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Oa(n),t===1)e.tag===0?Bm(Eu.bind(null,e)):Wc(Eu.bind(null,e)),zm(function(){!(ee&6)&&on()}),n=null;else{switch(wc(r)){case 1:n=go;break;case 4:n=gc;break;case 16:n=Hl;break;case 536870912:n=vc;break;default:n=Hl}n=Vd(n,Id.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Id(e,t){if(zl=-1,$l=0,ee&6)throw Error(E(327));var n=e.callbackNode;if(Zn()&&e.callbackNode!==n)return null;var r=Wl(e,e===Te?Le:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=us(e,r);else{t=r;var l=ee;ee|=2;var s=zd();(Te!==e||Le!==t)&&(Tt=null,lr=ke()+500,xn(e,t));do try{uh();break}catch(a){Dd(e,a)}while(!0);Po(),is.current=s,ee=l,je!==null?t=0:(Te=null,Le=0,t=_e)}if(t!==0){if(t===2&&(l=_i(e),l!==0&&(r=l,t=to(e,l))),t===1)throw n=Zr,xn(e,0),Ht(e,r),Je(e,ke()),n;if(t===6)Ht(e,r);else{if(l=e.current.alternate,!(r&30)&&!oh(l)&&(t=us(e,r),t===2&&(s=_i(e),s!==0&&(r=s,t=to(e,s))),t===1))throw n=Zr,xn(e,0),Ht(e,r),Je(e,ke()),n;switch(e.finishedWork=l,e.finishedLanes=r,t){case 0:case 1:throw Error(E(345));case 2:hn(e,Ge,Tt);break;case 3:if(Ht(e,r),(r&130023424)===r&&(t=Wo+500-ke(),10<t)){if(Wl(e,0)!==0)break;if(l=e.suspendedLanes,(l&r)!==r){Ve(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=Ri(hn.bind(null,e,Ge,Tt),t);break}hn(e,Ge,Tt);break;case 4:if(Ht(e,r),(r&4194240)===r)break;for(t=e.eventTimes,l=-1;0<r;){var o=31-gt(r);s=1<<o,o=t[o],o>l&&(l=o),r&=~s}if(r=l,r=ke()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ih(r/1960))-r,10<r){e.timeoutHandle=Ri(hn.bind(null,e,Ge,Tt),r);break}hn(e,Ge,Tt);break;case 5:hn(e,Ge,Tt);break;default:throw Error(E(329))}}}return Je(e,ke()),e.callbackNode===n?Id.bind(null,e):null}function to(e,t){var n=Fr;return e.current.memoizedState.isDehydrated&&(xn(e,t).flags|=256),e=us(e,t),e!==2&&(t=Ge,Ge=n,t!==null&&no(t)),e}function no(e){Ge===null?Ge=e:Ge.push.apply(Ge,e)}function oh(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var l=n[r],s=l.getSnapshot;l=l.value;try{if(!xt(s(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ht(e,t){for(t&=~Ho,t&=~ks,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-gt(t),r=1<<n;e[n]=-1,t&=~r}}function Eu(e){if(ee&6)throw Error(E(327));Zn();var t=Wl(e,0);if(!(t&1))return Je(e,ke()),null;var n=us(e,t);if(e.tag!==0&&n===2){var r=_i(e);r!==0&&(t=r,n=to(e,r))}if(n===1)throw n=Zr,xn(e,0),Ht(e,t),Je(e,ke()),n;if(n===6)throw Error(E(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,hn(e,Ge,Tt),Je(e,ke()),null}function Ko(e,t){var n=ee;ee|=1;try{return e(t)}finally{ee=n,ee===0&&(lr=ke()+500,gs&&on())}}function Cn(e){Kt!==null&&Kt.tag===0&&!(ee&6)&&Zn();var t=ee;ee|=1;var n=at.transition,r=re;try{if(at.transition=null,re=1,e)return e()}finally{re=r,at.transition=n,ee=t,!(ee&6)&&on()}}function Qo(){qe=Wn.current,ue(Wn)}function xn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Dm(n)),je!==null)for(n=je.return;n!==null;){var r=n;switch(_o(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Xl();break;case 3:nr(),ue(Xe),ue(Ae),Io();break;case 5:Ro(r);break;case 4:nr();break;case 13:ue(pe);break;case 19:ue(pe);break;case 10:Mo(r.type._context);break;case 22:case 23:Qo()}n=n.return}if(Te=e,je=e=en(e.current,null),Le=qe=t,_e=0,Zr=null,Ho=ks=Sn=0,Ge=Fr=null,gn!==null){for(t=0;t<gn.length;t++)if(n=gn[t],r=n.interleaved,r!==null){n.interleaved=null;var l=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=l,r.next=o}n.pending=r}gn=null}return e}function Dd(e,t){do{var n=je;try{if(Po(),Rl.current=ss,ls){for(var r=me.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}ls=!1}if(Nn=0,be=Ee=me=null,Mr=!1,Gr=0,Vo.current=null,n===null||n.return===null){_e=1,Zr=t,je=null;break}e:{var s=e,o=n.return,a=n,u=t;if(t=Le,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,h=a,y=h.tag;if(!(h.mode&1)&&(y===0||y===11||y===15)){var g=h.alternate;g?(h.updateQueue=g.updateQueue,h.memoizedState=g.memoizedState,h.lanes=g.lanes):(h.updateQueue=null,h.memoizedState=null)}var j=pu(o);if(j!==null){j.flags&=-257,mu(j,o,a,s,t),j.mode&1&&fu(s,c,t),t=j,u=c;var N=t.updateQueue;if(N===null){var k=new Set;k.add(u),t.updateQueue=k}else N.add(u);break e}else{if(!(t&1)){fu(s,c,t),Go();break e}u=Error(E(426))}}else if(de&&a.mode&1){var O=pu(o);if(O!==null){!(O.flags&65536)&&(O.flags|=256),mu(O,o,a,s,t),bo(rr(u,a));break e}}s=u=rr(u,a),_e!==4&&(_e=2),Fr===null?Fr=[s]:Fr.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var p=wd(s,u,t);iu(s,p);break e;case 1:a=u;var f=s.type,m=s.stateNode;if(!(s.flags&128)&&(typeof f.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Jt===null||!Jt.has(m)))){s.flags|=65536,t&=-t,s.lanes|=t;var x=kd(s,a,t);iu(s,x);break e}}s=s.return}while(s!==null)}Ad(n)}catch(P){t=P,je===n&&n!==null&&(je=n=n.return);continue}break}while(!0)}function zd(){var e=is.current;return is.current=ss,e===null?ss:e}function Go(){(_e===0||_e===3||_e===2)&&(_e=4),Te===null||!(Sn&268435455)&&!(ks&268435455)||Ht(Te,Le)}function us(e,t){var n=ee;ee|=2;var r=zd();(Te!==e||Le!==t)&&(Tt=null,xn(e,t));do try{ah();break}catch(l){Dd(e,l)}while(!0);if(Po(),ee=n,is.current=r,je!==null)throw Error(E(261));return Te=null,Le=0,_e}function ah(){for(;je!==null;)$d(je)}function uh(){for(;je!==null&&!Op();)$d(je)}function $d(e){var t=Bd(e.alternate,e,qe);e.memoizedProps=e.pendingProps,t===null?Ad(e):je=t,Vo.current=null}function Ad(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=nh(n,t),n!==null){n.flags&=32767,je=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{_e=6,je=null;return}}else if(n=th(n,t,qe),n!==null){je=n;return}if(t=t.sibling,t!==null){je=t;return}je=t=e}while(t!==null);_e===0&&(_e=5)}function hn(e,t,n){var r=re,l=at.transition;try{at.transition=null,re=1,ch(e,t,n,r)}finally{at.transition=l,re=r}return null}function ch(e,t,n,r){do Zn();while(Kt!==null);if(ee&6)throw Error(E(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(E(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(Hp(e,s),e===Te&&(je=Te=null,Le=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||El||(El=!0,Vd(Hl,function(){return Zn(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=at.transition,at.transition=null;var o=re;re=1;var a=ee;ee|=4,Vo.current=null,lh(e,n),Od(n,e),Pm(Fi),Kl=!!Li,Fi=Li=null,e.current=n,sh(n),Rp(),ee=a,re=o,at.transition=s}else e.current=n;if(El&&(El=!1,Kt=e,as=l),s=e.pendingLanes,s===0&&(Jt=null),zp(n.stateNode),Je(e,ke()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],r(l.value,{componentStack:l.stack,digest:l.digest});if(os)throw os=!1,e=qi,qi=null,e;return as&1&&e.tag!==0&&Zn(),s=e.pendingLanes,s&1?e===eo?Or++:(Or=0,eo=e):Or=0,on(),null}function Zn(){if(Kt!==null){var e=wc(as),t=at.transition,n=re;try{if(at.transition=null,re=16>e?16:e,Kt===null)var r=!1;else{if(e=Kt,Kt=null,as=0,ee&6)throw Error(E(331));var l=ee;for(ee|=4,z=e.current;z!==null;){var s=z,o=s.child;if(z.flags&16){var a=s.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(z=c;z!==null;){var h=z;switch(h.tag){case 0:case 11:case 15:Lr(8,h,s)}var y=h.child;if(y!==null)y.return=h,z=y;else for(;z!==null;){h=z;var g=h.sibling,j=h.return;if(Md(h),h===c){z=null;break}if(g!==null){g.return=j,z=g;break}z=j}}}var N=s.alternate;if(N!==null){var k=N.child;if(k!==null){N.child=null;do{var O=k.sibling;k.sibling=null,k=O}while(k!==null)}}z=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,z=o;else e:for(;z!==null;){if(s=z,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Lr(9,s,s.return)}var p=s.sibling;if(p!==null){p.return=s.return,z=p;break e}z=s.return}}var f=e.current;for(z=f;z!==null;){o=z;var m=o.child;if(o.subtreeFlags&2064&&m!==null)m.return=o,z=m;else e:for(o=f;z!==null;){if(a=z,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ws(9,a)}}catch(P){xe(a,a.return,P)}if(a===o){z=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,z=x;break e}z=a.return}}if(ee=l,on(),Ct&&typeof Ct.onPostCommitFiberRoot=="function")try{Ct.onPostCommitFiberRoot(fs,e)}catch{}r=!0}return r}finally{re=n,at.transition=t}}return!1}function _u(e,t,n){t=rr(n,t),t=wd(e,t,1),e=Zt(e,t,1),t=Ve(),e!==null&&(qr(e,1,t),Je(e,t))}function xe(e,t,n){if(e.tag===3)_u(e,e,n);else for(;t!==null;){if(t.tag===3){_u(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Jt===null||!Jt.has(r))){e=rr(n,e),e=kd(t,e,1),t=Zt(t,e,1),e=Ve(),t!==null&&(qr(t,1,e),Je(t,e));break}}t=t.return}}function dh(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ve(),e.pingedLanes|=e.suspendedLanes&n,Te===e&&(Le&n)===n&&(_e===4||_e===3&&(Le&130023424)===Le&&500>ke()-Wo?xn(e,0):Ho|=n),Je(e,t)}function Ud(e,t){t===0&&(e.mode&1?(t=yl,yl<<=1,!(yl&130023424)&&(yl=4194304)):t=1);var n=Ve();e=It(e,t),e!==null&&(qr(e,t,n),Je(e,n))}function fh(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Ud(e,n)}function ph(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(E(314))}r!==null&&r.delete(t),Ud(e,n)}var Bd;Bd=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Xe.current)Ye=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ye=!1,eh(e,t,n);Ye=!!(e.flags&131072)}else Ye=!1,de&&t.flags&1048576&&Kc(t,ql,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Dl(e,t),e=t.pendingProps;var l=qn(t,Ae.current);Xn(t,n),l=zo(null,t,r,e,l,n);var s=$o();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ze(r)?(s=!0,Zl(t)):s=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,Fo(t),l.updater=xs,t.stateNode=l,l._reactInternals=t,Bi(t,r,e,n),t=Wi(null,t,r,!0,s,n)):(t.tag=0,de&&s&&Eo(t),Be(null,t,l,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Dl(e,t),e=t.pendingProps,l=r._init,r=l(r._payload),t.type=r,l=t.tag=hh(r),e=mt(r,e),l){case 0:t=Hi(null,t,r,e,n);break e;case 1:t=gu(null,t,r,e,n);break e;case 11:t=hu(null,t,r,e,n);break e;case 14:t=yu(null,t,r,mt(r.type,e),n);break e}throw Error(E(306,r,""))}return t;case 0:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:mt(r,l),Hi(e,t,r,l,n);case 1:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:mt(r,l),gu(e,t,r,l,n);case 3:e:{if(Cd(t),e===null)throw Error(E(387));r=t.pendingProps,s=t.memoizedState,l=s.element,Jc(e,t),ns(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){l=rr(Error(E(423)),t),t=vu(e,t,r,n,l);break e}else if(r!==l){l=rr(Error(E(424)),t),t=vu(e,t,r,n,l);break e}else for(et=Xt(t.stateNode.containerInfo.firstChild),tt=t,de=!0,yt=null,n=Xc(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(er(),r===l){t=Dt(e,t,n);break e}Be(e,t,r,n)}t=t.child}return t;case 5:return qc(t),e===null&&$i(t),r=t.type,l=t.pendingProps,s=e!==null?e.memoizedProps:null,o=l.children,Oi(r,l)?o=null:s!==null&&Oi(r,s)&&(t.flags|=32),Sd(e,t),Be(e,t,o,n),t.child;case 6:return e===null&&$i(t),null;case 13:return Ed(e,t,n);case 4:return Oo(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=tr(t,null,r,n):Be(e,t,r,n),t.child;case 11:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:mt(r,l),hu(e,t,r,l,n);case 7:return Be(e,t,t.pendingProps,n),t.child;case 8:return Be(e,t,t.pendingProps.children,n),t.child;case 12:return Be(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,l=t.pendingProps,s=t.memoizedProps,o=l.value,se(es,r._currentValue),r._currentValue=o,s!==null)if(xt(s.value,o)){if(s.children===l.children&&!Xe.current){t=Dt(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=Ft(-1,n&-n),u.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?u.next=u:(u.next=h.next,h.next=u),c.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),Ai(s.return,n,t),a.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(E(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Ai(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Be(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,r=t.pendingProps.children,Xn(t,n),l=ut(l),r=r(l),t.flags|=1,Be(e,t,r,n),t.child;case 14:return r=t.type,l=mt(r,t.pendingProps),l=mt(r.type,l),yu(e,t,r,l,n);case 15:return jd(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:mt(r,l),Dl(e,t),t.tag=1,Ze(r)?(e=!0,Zl(t)):e=!1,Xn(t,n),xd(t,r,l),Bi(t,r,l,n),Wi(null,t,r,!0,e,n);case 19:return _d(e,t,n);case 22:return Nd(e,t,n)}throw Error(E(156,t.tag))};function Vd(e,t){return yc(e,t)}function mh(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ot(e,t,n,r){return new mh(e,t,n,r)}function Yo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function hh(e){if(typeof e=="function")return Yo(e)?1:0;if(e!=null){if(e=e.$$typeof,e===mo)return 11;if(e===ho)return 14}return 2}function en(e,t){var n=e.alternate;return n===null?(n=ot(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Al(e,t,n,r,l,s){var o=2;if(r=e,typeof e=="function")Yo(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Rn:return wn(n.children,l,s,t);case po:o=8,l|=8;break;case fi:return e=ot(12,n,t,l|2),e.elementType=fi,e.lanes=s,e;case pi:return e=ot(13,n,t,l),e.elementType=pi,e.lanes=s,e;case mi:return e=ot(19,n,t,l),e.elementType=mi,e.lanes=s,e;case qu:return js(n,l,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Zu:o=10;break e;case Ju:o=9;break e;case mo:o=11;break e;case ho:o=14;break e;case Ut:o=16,r=null;break e}throw Error(E(130,e==null?e:typeof e,""))}return t=ot(o,n,t,l),t.elementType=e,t.type=r,t.lanes=s,t}function wn(e,t,n,r){return e=ot(7,e,r,t),e.lanes=n,e}function js(e,t,n,r){return e=ot(22,e,r,t),e.elementType=qu,e.lanes=n,e.stateNode={isHidden:!1},e}function si(e,t,n){return e=ot(6,e,null,t),e.lanes=n,e}function ii(e,t,n){return t=ot(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function yh(e,t,n,r,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=As(0),this.expirationTimes=As(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=As(0),this.identifierPrefix=r,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function Xo(e,t,n,r,l,s,o,a,u){return e=new yh(e,t,n,a,u),t===1?(t=1,s===!0&&(t|=8)):t=0,s=ot(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fo(s),e}function gh(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:On,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Hd(e){if(!e)return rn;e=e._reactInternals;e:{if(_n(e)!==e||e.tag!==1)throw Error(E(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ze(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(E(171))}if(e.tag===1){var n=e.type;if(Ze(n))return Hc(e,n,t)}return t}function Wd(e,t,n,r,l,s,o,a,u){return e=Xo(n,r,!0,e,l,s,o,a,u),e.context=Hd(null),n=e.current,r=Ve(),l=qt(n),s=Ft(r,l),s.callback=t??null,Zt(n,s,l),e.current.lanes=l,qr(e,l,r),Je(e,r),e}function Ns(e,t,n,r){var l=t.current,s=Ve(),o=qt(l);return n=Hd(n),t.context===null?t.context=n:t.pendingContext=n,t=Ft(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Zt(l,t,o),e!==null&&(vt(e,l,o,s),Ol(e,l,o)),o}function cs(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function bu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Zo(e,t){bu(e,t),(e=e.alternate)&&bu(e,t)}function vh(){return null}var Kd=typeof reportError=="function"?reportError:function(e){console.error(e)};function Jo(e){this._internalRoot=e}Ss.prototype.render=Jo.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(E(409));Ns(e,t,null,null)};Ss.prototype.unmount=Jo.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Cn(function(){Ns(null,e,null,null)}),t[Rt]=null}};function Ss(e){this._internalRoot=e}Ss.prototype.unstable_scheduleHydration=function(e){if(e){var t=Nc();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Vt.length&&t!==0&&t<Vt[n].priority;n++);Vt.splice(n,0,e),n===0&&Cc(e)}};function qo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Cs(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Tu(){}function xh(e,t,n,r,l){if(l){if(typeof r=="function"){var s=r;r=function(){var c=cs(o);s.call(c)}}var o=Wd(t,r,e,0,null,!1,!1,"",Tu);return e._reactRootContainer=o,e[Rt]=o.current,Vr(e.nodeType===8?e.parentNode:e),Cn(),o}for(;l=e.lastChild;)e.removeChild(l);if(typeof r=="function"){var a=r;r=function(){var c=cs(u);a.call(c)}}var u=Xo(e,0,!1,null,null,!1,!1,"",Tu);return e._reactRootContainer=u,e[Rt]=u.current,Vr(e.nodeType===8?e.parentNode:e),Cn(function(){Ns(t,u,n,r)}),u}function Es(e,t,n,r,l){var s=n._reactRootContainer;if(s){var o=s;if(typeof l=="function"){var a=l;l=function(){var u=cs(o);a.call(u)}}Ns(t,o,e,l)}else o=xh(n,t,e,l,r);return cs(o)}kc=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Sr(t.pendingLanes);n!==0&&(vo(t,n|1),Je(t,ke()),!(ee&6)&&(lr=ke()+500,on()))}break;case 13:Cn(function(){var r=It(e,1);if(r!==null){var l=Ve();vt(r,e,1,l)}}),Zo(e,1)}};xo=function(e){if(e.tag===13){var t=It(e,134217728);if(t!==null){var n=Ve();vt(t,e,134217728,n)}Zo(e,134217728)}};jc=function(e){if(e.tag===13){var t=qt(e),n=It(e,t);if(n!==null){var r=Ve();vt(n,e,t,r)}Zo(e,t)}};Nc=function(){return re};Sc=function(e,t){var n=re;try{return re=e,t()}finally{re=n}};Si=function(e,t,n){switch(t){case"input":if(gi(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var l=ys(r);if(!l)throw Error(E(90));tc(r),gi(r,l)}}}break;case"textarea":rc(e,n);break;case"select":t=n.value,t!=null&&Kn(e,!!n.multiple,t,!1)}};cc=Ko;dc=Cn;var wh={usingClientEntryPoint:!1,Events:[tl,$n,ys,ac,uc,Ko]},kr={findFiberByHostInstance:yn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},kh={bundleType:kr.bundleType,version:kr.version,rendererPackageName:kr.rendererPackageName,rendererConfig:kr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:zt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=mc(e),e===null?null:e.stateNode},findFiberByHostInstance:kr.findFiberByHostInstance||vh,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _l=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_l.isDisabled&&_l.supportsFiber)try{fs=_l.inject(kh),Ct=_l}catch{}}rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wh;rt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qo(t))throw Error(E(200));return gh(e,t,null,n)};rt.createRoot=function(e,t){if(!qo(e))throw Error(E(299));var n=!1,r="",l=Kd;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=Xo(e,1,!1,null,null,n,!1,r,l),e[Rt]=t.current,Vr(e.nodeType===8?e.parentNode:e),new Jo(t)};rt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(E(188)):(e=Object.keys(e).join(","),Error(E(268,e)));return e=mc(t),e=e===null?null:e.stateNode,e};rt.flushSync=function(e){return Cn(e)};rt.hydrate=function(e,t,n){if(!Cs(t))throw Error(E(200));return Es(null,e,t,!0,n)};rt.hydrateRoot=function(e,t,n){if(!qo(e))throw Error(E(405));var r=n!=null&&n.hydratedSources||null,l=!1,s="",o=Kd;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Wd(t,null,e,1,n??null,l,!1,s,o),e[Rt]=t.current,Vr(e),r)for(e=0;e<r.length;e++)n=r[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new Ss(t)};rt.render=function(e,t,n){if(!Cs(t))throw Error(E(200));return Es(null,e,t,!1,n)};rt.unmountComponentAtNode=function(e){if(!Cs(e))throw Error(E(40));return e._reactRootContainer?(Cn(function(){Es(null,null,e,!1,function(){e._reactRootContainer=null,e[Rt]=null})}),!0):!1};rt.unstable_batchedUpdates=Ko;rt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Cs(n))throw Error(E(200));if(e==null||e._reactInternals===void 0)throw Error(E(38));return Es(e,t,n,!1,r)};rt.version="18.3.1-next-f1338f8080-20240426";function Qd(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Qd)}catch(e){console.error(e)}}Qd(),Qu.exports=rt;var jh=Qu.exports,Gd,Pu=jh;Gd=Pu.createRoot,Pu.hydrateRoot;const Nh="modulepreload",Sh=function(e,t){return new URL(e,t).href},Mu={},ge=function(t,n,r){let l=Promise.resolve();if(n&&n.length>0){const o=document.getElementsByTagName("link"),a=document.querySelector("meta[property=csp-nonce]"),u=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));l=Promise.allSettled(n.map(c=>{if(c=Sh(c,r),c in Mu)return;Mu[c]=!0;const h=c.endsWith(".css"),y=h?'[rel="stylesheet"]':"";if(!!r)for(let N=o.length-1;N>=0;N--){const k=o[N];if(k.href===c&&(!h||k.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${c}"]${y}`))return;const j=document.createElement("link");if(j.rel=h?"stylesheet":Nh,h||(j.as="script"),j.crossOrigin="",j.href=c,u&&j.setAttribute("nonce",u),document.head.appendChild(j),h)return new Promise((N,k)=>{j.addEventListener("load",N),j.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return l.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return t().catch(s)})},oi={},Ne=(oi==null?void 0:oi.VITE_API_BASE)||(typeof window<"u"?window.location.origin:"http://127.0.0.1:8000");async function ce(e,t){const n=await fetch(`${Ne}${e}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!n.ok)throw new Error(await n.text());return n.json()}async function ea(e,t,n=32,r,l){return ce("/index",{dir:e,provider:t,batch_size:n,hf_token:r,openai_key:l})}async function ta(e,t,n,r=24,l){return ce("/search",{dir:e,provider:n,query:t,top_k:r,hf_token:l==null?void 0:l.hfToken,openai_key:l==null?void 0:l.openaiKey,favorites_only:l==null?void 0:l.favoritesOnly,tags:l==null?void 0:l.tags,date_from:l==null?void 0:l.dateFrom,date_to:l==null?void 0:l.dateTo,use_fast:l==null?void 0:l.useFast,fast_kind:l==null?void 0:l.fastKind,use_captions:l==null?void 0:l.useCaptions,use_ocr:l==null?void 0:l.useOcr,camera:l==null?void 0:l.camera,iso_min:l==null?void 0:l.isoMin,iso_max:l==null?void 0:l.isoMax,f_min:l==null?void 0:l.fMin,f_max:l==null?void 0:l.fMax,flash:l==null?void 0:l.flash,wb:l==null?void 0:l.wb,metering:l==null?void 0:l.metering,alt_min:l==null?void 0:l.altMin,alt_max:l==null?void 0:l.altMax,heading_min:l==null?void 0:l.headingMin,heading_max:l==null?void 0:l.headingMax,place:l==null?void 0:l.place,has_text:l==null?void 0:l.hasText,person:l==null?void 0:l.person,persons:l==null?void 0:l.persons,sharp_only:l==null?void 0:l.sharpOnly,exclude_underexp:l==null?void 0:l.excludeUnder,exclude_overexp:l==null?void 0:l.excludeOver})}async function Ch(e,t,n,r=24,l,s=.5){return ce("/search_like_plus",{dir:e,path:t,provider:n,top_k:r,text:l,weight:s})}async function na(e){const t=await fetch(`${Ne}/favorites?dir=${encodeURIComponent(e)}`);if(!t.ok)throw new Error(await t.text());return t.json()}async function tn(e,t,n){return ce("/favorites",{dir:e,path:t,favorite:n})}async function ra(e){const t=await fetch(`${Ne}/saved?dir=${encodeURIComponent(e)}`);if(!t.ok)throw new Error(await t.text());return t.json()}async function Eh(e,t,n,r){return ce("/saved",{dir:e,name:t,query:n,top_k:r})}async function _h(e,t){return ce("/saved/delete",{dir:e,name:t})}async function la(e){const t=await fetch(`${Ne}/map?dir=${encodeURIComponent(e)}`);if(!t.ok)throw new Error(await t.text());return t.json()}async function sa(e,t){const n=new URLSearchParams({dir:e});t&&n.set("provider",t);const r=await fetch(`${Ne}/diagnostics?${n.toString()}`);if(!r.ok)throw new Error(await r.text());return r.json()}async function Yd(e,t,n=120,r=0){const l=new URLSearchParams({dir:e,provider:t,limit:String(n),offset:String(r)}),s=await fetch(`${Ne}/library?${l.toString()}`);if(!s.ok)throw new Error(await s.text());return s.json()}async function ia(e,t,n,r,l){return ce("/fast/build",{dir:e,kind:t,provider:n,hf_token:r,openai_key:l})}async function oa(e,t,n,r,l){return ce("/ocr/build",{dir:e,provider:t,languages:n,hf_token:r,openai_key:l})}async function Xd(e,t=5){const n=await fetch(`${Ne}/lookalikes?dir=${encodeURIComponent(e)}&max_distance=${t}`);if(!n.ok)throw new Error(await n.text());return n.json()}async function Zd(e,t){return ce("/lookalikes/resolve",{dir:e,group_paths:t})}async function Jd(){const e=await fetch(`${Ne}/workspace`);if(!e.ok)throw new Error(await e.text());return e.json()}async function qd(e){return ce("/workspace/add",{path:e})}async function ef(e){return ce("/workspace/remove",{path:e})}async function tf(e,t){const n=await fetch(`${Ne}/metadata/detail?dir=${encodeURIComponent(e)}&path=${encodeURIComponent(t)}`);if(!n.ok)throw new Error(await n.text());return n.json()}async function aa(e,t,n,r=24,l){return ce("/search_workspace",{dir:e,provider:n,query:t,top_k:r,favorites_only:l==null?void 0:l.favoritesOnly,tags:l==null?void 0:l.tags,date_from:l==null?void 0:l.dateFrom,date_to:l==null?void 0:l.dateTo,place:l==null?void 0:l.place,has_text:l==null?void 0:l.hasText,person:l==null?void 0:l.person,persons:l==null?void 0:l.persons})}async function ua(e){const t=await fetch(`${Ne}/tags?dir=${encodeURIComponent(e)}`);if(!t.ok)throw new Error(await t.text());return t.json()}async function bh(e,t,n){return ce("/tags",{dir:e,path:t,tags:n})}function _t(e,t,n,r=256){const l=new URLSearchParams({dir:e,provider:t,path:n,size:String(r)});return`${Ne}/thumb?${l.toString()}`}function nf(e,t,n,r,l=196){const s=new URLSearchParams({dir:e,provider:t,path:n,emb:String(r),size:String(l)});return`${Ne}/thumb_face?${s.toString()}`}async function rf(e,t){return ce("/open",{dir:e,path:t})}async function lf(e,t,n,r="copy",l=!1,s=!1){return ce("/export",{dir:e,paths:t,dest:n,mode:r,strip_exif:l,overwrite:s})}async function sf(e,t,n,r){return ce("/metadata/build",{dir:e,provider:t,hf_token:n,openai_key:r})}async function Th(e){const t=await fetch(`${Ne}/metadata?dir=${encodeURIComponent(e)}`);if(!t.ok)throw new Error(await t.text());return t.json()}async function Ph(e,t,n,r=24){return ce("/search_like",{dir:e,path:t,provider:n,top_k:r})}async function Mh(e){const t=await fetch(`${Ne}/collections?dir=${encodeURIComponent(e)}`);if(!t.ok)throw new Error(await t.text());return t.json()}async function Lh(e,t,n){return ce("/collections",{dir:e,name:t,paths:n})}async function Fh(e,t){return ce("/collections/delete",{dir:e,name:t})}async function Oh(e){const t=await fetch(`${Ne}/smart_collections?dir=${encodeURIComponent(e)}`);if(!t.ok)throw new Error(await t.text());return t.json()}async function Rh(e,t,n){return ce("/smart_collections",{dir:e,name:t,rules:n})}async function Ih(e,t){return ce("/smart_collections/delete",{dir:e,name:t})}async function Dh(e,t,n,r=24){return ce("/smart_collections/resolve",{dir:e,name:t,provider:n,top_k:r})}async function of(e,t){return ce("/faces/build",{dir:e,provider:t})}async function ca(e){const t=await fetch(`${Ne}/faces/clusters?dir=${encodeURIComponent(e)}`);if(!t.ok)throw new Error(await t.text());return t.json()}async function af(e,t,n){return ce("/faces/name",{dir:e,cluster_id:t,name:n})}async function zh(e,t){return ce("/trips/build",{dir:e,provider:t})}async function $h(e){const t=await fetch(`${Ne}/trips?dir=${encodeURIComponent(e)}`);if(!t.ok)throw new Error(await t.text());return t.json()}async function uf(){const e=await fetch(`${Ne}/todo`);if(!e.ok)throw new Error(await e.text());return e.json()}async function cf(e,t,n){const r=await fetch(`${Ne}/delete`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({dir:e,paths:t,os_trash:!!n})});if(!r.ok)throw new Error(await r.text());return r.json()}async function df(e){const t=await fetch(`${Ne}/undo_delete`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({dir:e})});if(!t.ok)throw new Error(await t.text());return t.json()}const ve=Object.freeze(Object.defineProperty({__proto__:null,apiAddSaved:Eh,apiBuildFaces:of,apiBuildFast:ia,apiBuildMetadata:sf,apiBuildOCR:oa,apiDelete:cf,apiDeleteCollection:Fh,apiDeleteSaved:_h,apiDeleteSmart:Ih,apiDiagnostics:sa,apiExport:lf,apiFacesClusters:ca,apiFacesName:af,apiGetCollections:Mh,apiGetFavorites:na,apiGetMetadata:Th,apiGetSaved:ra,apiGetSmart:Oh,apiGetTags:ua,apiIndex:ea,apiLibrary:Yd,apiLookalikes:Xd,apiMap:la,apiMetadataDetail:tf,apiOpen:rf,apiResolveLookalike:Zd,apiResolveSmart:Dh,apiSearch:ta,apiSearchLike:Ph,apiSearchLikePlus:Ch,apiSearchWorkspace:aa,apiSetCollection:Lh,apiSetFavorite:tn,apiSetSmart:Rh,apiSetTags:bh,apiTodo:uf,apiTripsBuild:zh,apiTripsList:$h,apiUndoDelete:df,apiWorkspaceAdd:qd,apiWorkspaceList:Jd,apiWorkspaceRemove:ef,thumbFaceUrl:nf,thumbUrl:_t},Symbol.toStringTag,{value:"Module"})),Lu=e=>{let t;const n=new Set,r=(c,h)=>{const y=typeof c=="function"?c(t):c;if(!Object.is(y,t)){const g=t;t=h??(typeof y!="object"||y===null)?y:Object.assign({},t,y),n.forEach(j=>j(t,g))}},l=()=>t,a={setState:r,getState:l,getInitialState:()=>u,subscribe:c=>(n.add(c),()=>n.delete(c))},u=t=e(r,l,a);return a},Ah=e=>e?Lu(e):Lu,Uh=e=>e;function Bh(e,t=Uh){const n=Fn.useSyncExternalStore(e.subscribe,Fn.useCallback(()=>t(e.getState()),[e,t]),Fn.useCallback(()=>t(e.getInitialState()),[e,t]));return Fn.useDebugValue(n),n}const Vh=e=>{const t=Ah(e),n=r=>Bh(t,r);return Object.assign(n,t),n},_s=e=>Vh,Hh=e=>(t,n,r)=>{const l=r.subscribe;return r.subscribe=(o,a,u)=>{let c=o;if(a){const h=(u==null?void 0:u.equalityFn)||Object.is;let y=o(r.getState());c=g=>{const j=o(g);if(!h(y,j)){const N=y;a(y=j,N)}},u!=null&&u.fireImmediately&&a(y,y)}return l(c)},e(t,n,r)},bs=Hh;function Wh(e,t){let n;try{n=e()}catch{return}return{getItem:l=>{var s;const o=u=>u===null?null:JSON.parse(u,void 0),a=(s=n.getItem(l))!=null?s:null;return a instanceof Promise?a.then(o):o(a)},setItem:(l,s)=>n.setItem(l,JSON.stringify(s,void 0)),removeItem:l=>n.removeItem(l)}}const ro=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return ro(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return ro(r)(n)}}}},Kh=(e,t)=>(n,r,l)=>{let s={storage:Wh(()=>localStorage),partialize:k=>k,version:0,merge:(k,O)=>({...O,...k}),...t},o=!1;const a=new Set,u=new Set;let c=s.storage;if(!c)return e((...k)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...k)},r,l);const h=()=>{const k=s.partialize({...r()});return c.setItem(s.name,{state:k,version:s.version})},y=l.setState;l.setState=(k,O)=>(y(k,O),h());const g=e((...k)=>(n(...k),h()),r,l);l.getInitialState=()=>g;let j;const N=()=>{var k,O;if(!c)return;o=!1,a.forEach(f=>{var m;return f((m=r())!=null?m:g)});const p=((O=s.onRehydrateStorage)==null?void 0:O.call(s,(k=r())!=null?k:g))||void 0;return ro(c.getItem.bind(c))(s.name).then(f=>{if(f)if(typeof f.version=="number"&&f.version!==s.version){if(s.migrate){const m=s.migrate(f.state,f.version);return m instanceof Promise?m.then(x=>[!0,x]):[!0,m]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,f.state];return[!1,void 0]}).then(f=>{var m;const[x,P]=f;if(j=s.merge(P,(m=r())!=null?m:g),n(j,!0),x)return h()}).then(()=>{p==null||p(j,void 0),j=r(),o=!0,u.forEach(f=>f(j))}).catch(f=>{p==null||p(void 0,f)})};return l.persist={setOptions:k=>{s={...s,...k},k.storage&&(c=k.storage)},clearStorage:()=>{c==null||c.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>N(),hasHydrated:()=>o,onHydrate:k=>(a.add(k),()=>{a.delete(k)}),onFinishHydration:k=>(u.add(k),()=>{u.delete(k)})},s.skipHydration||N(),j||g},Qh=Kh,Se=_s()(Qh(bs((e,t)=>({dir:"",engine:"local",hfToken:"",openaiKey:"",useFast:!1,fastKind:"",useCaps:!1,vlmModel:"Qwen/Qwen2-VL-2B-Instruct",useOcr:!1,hasText:!1,useOsTrash:!1,camera:"",isoMin:"",isoMax:"",fMin:"",fMax:"",place:"",setDir:n=>e({dir:n}),setEngine:n=>e({engine:n}),setHfToken:n=>e({hfToken:n}),setOpenaiKey:n=>e({openaiKey:n}),setUseFast:n=>e({useFast:n}),setFastKind:n=>e({fastKind:n}),setUseCaps:n=>e({useCaps:n}),setVlmModel:n=>e({vlmModel:n}),setUseOcr:n=>e({useOcr:n}),setHasText:n=>e({hasText:n}),setUseOsTrash:n=>e({useOsTrash:n}),setCamera:n=>e({camera:n}),setIsoMin:n=>e({isoMin:n}),setIsoMax:n=>e({isoMax:n}),setFMin:n=>e({fMin:n}),setFMax:n=>e({fMax:n}),setPlace:n=>e({place:n})})),{name:"photo-search-settings",partialize:e=>({dir:e.dir,engine:e.engine,useFast:e.useFast,fastKind:e.fastKind,useCaps:e.useCaps,vlmModel:e.vlmModel,useOcr:e.useOcr,hasText:e.hasText,useOsTrash:e.useOsTrash,camera:e.camera,isoMin:e.isoMin,isoMax:e.isoMax,fMin:e.fMin,fMax:e.fMax,place:e.place})})),ff=()=>Se(e=>e.dir),pf=()=>Se(e=>e.engine),Gh=()=>Se(e=>e.hfToken),Yh=()=>Se(e=>e.openaiKey),Xh=()=>Se(e=>e.useFast),Zh=()=>Se(e=>e.fastKind),Jh=()=>Se(e=>e.useCaps),qh=()=>Se(e=>e.useOcr),ey=()=>Se(e=>e.hasText),ty=()=>Se(e=>e.useOsTrash),ny=()=>Se(e=>e.camera),ry=()=>Se(e=>e.isoMin),ly=()=>Se(e=>e.isoMax),sy=()=>Se(e=>e.fMin),iy=()=>Se(e=>e.fMax),oy=()=>Se(e=>e.place),ay=()=>Se(t=>t.engine).startsWith("hf"),uy=()=>Se(t=>t.engine)==="openai",cy=e=>({setDir:e.setDir,setEngine:e.setEngine,setHfToken:e.setHfToken,setOpenaiKey:e.setOpenaiKey,setUseFast:e.setUseFast,setFastKind:e.setFastKind,setUseCaps:e.setUseCaps,setVlmModel:e.setVlmModel,setUseOcr:e.setUseOcr,setHasText:e.setHasText,setUseOsTrash:e.setUseOsTrash,setCamera:e.setCamera,setIsoMin:e.setIsoMin,setIsoMax:e.setIsoMax,setFMin:e.setFMin,setFMax:e.setFMax,setPlace:e.setPlace}),da=()=>Se(cy),dt=_s()(bs((e,t)=>({results:[],searchId:"",query:"",topK:24,fav:[],favOnly:!1,tags:{allTags:[],tagsMap:{},tagFilter:""},saved:[],collections:{},smart:{},library:[],setResults:n=>e({results:n}),setSearchId:n=>e({searchId:n}),setQuery:n=>e({query:n}),setTopK:n=>e({topK:n}),setFavorites:n=>e({fav:n}),setFavOnly:n=>e({favOnly:n}),setAllTags:n=>e(r=>({tags:{...r.tags,allTags:n}})),setTagsMap:n=>e(r=>({tags:{...r.tags,tagsMap:n}})),setTagFilter:n=>e(r=>({tags:{...r.tags,tagFilter:n}})),setSaved:n=>e({saved:n}),setCollections:n=>e({collections:n}),setSmart:n=>e({smart:n}),setLibrary:n=>e({library:n}),resetSearch:()=>e({results:[],searchId:"",query:""})}))),mf=()=>dt(e=>e.results),hf=()=>dt(e=>e.query),yf=()=>dt(e=>e.fav),dy=()=>dt(e=>e.favOnly),fy=()=>dt(e=>e.topK),py=()=>dt(e=>e.tags),my=()=>dt(e=>e.saved),hy=()=>dt(e=>e.collections),yy=()=>dt(e=>e.smart),gy=()=>dt(e=>e.library),vy=e=>({setResults:e.setResults,setSearchId:e.setSearchId,setQuery:e.setQuery,setTopK:e.setTopK,setFavorites:e.setFavorites,setFavOnly:e.setFavOnly,setAllTags:e.setAllTags,setTagsMap:e.setTagsMap,setTagFilter:e.setTagFilter,setSaved:e.setSaved,setCollections:e.setCollections,setSmart:e.setSmart,setLibrary:e.setLibrary,resetSearch:e.resetSearch}),fa=()=>dt(vy),rl=_s()(bs((e,t)=>({busy:"",note:"",viewMode:"grid",showWelcome:!1,showHelp:!1,setBusy:n=>e({busy:n}),setNote:n=>e({note:n}),setViewMode:n=>e({viewMode:n}),setShowWelcome:n=>e({showWelcome:n}),setShowHelp:n=>e({showHelp:n}),clearBusy:()=>e({busy:""})}))),gf=()=>rl(e=>e.busy),xy=()=>rl(e=>e.note),wy=()=>rl(e=>e.showHelp),ky=e=>({setBusy:e.setBusy,setNote:e.setNote,setViewMode:e.setViewMode,setShowWelcome:e.setShowWelcome,setShowHelp:e.setShowHelp,clearBusy:e.clearBusy}),pa=()=>rl(ky),bn=_s()(bs((e,t)=>({workspace:[],wsToggle:!1,persons:[],clusters:[],groups:[],points:[],diag:null,setWorkspace:n=>e({workspace:n}),setWsToggle:n=>e({wsToggle:n}),setPersons:n=>e({persons:n}),addPerson:n=>e(r=>({persons:r.persons.includes(n)?r.persons.filter(l=>l!==n):[...r.persons,n]})),removePerson:n=>e(r=>({persons:r.persons.filter(l=>l!==n)})),setClusters:n=>e({clusters:n}),setGroups:n=>e({groups:n}),setPoints:n=>e({points:n}),setDiag:n=>e({diag:n})}))),jy=()=>bn(e=>e.wsToggle),Ny=()=>bn(e=>e.persons),Sy=()=>bn(e=>e.clusters),Cy=()=>bn(e=>e.points),Ey=()=>bn(e=>e.diag),_y=e=>({setWorkspace:e.setWorkspace,setWsToggle:e.setWsToggle,setPersons:e.setPersons,addPerson:e.addPerson,removePerson:e.removePerson,setClusters:e.setClusters,setGroups:e.setGroups,setPoints:e.setPoints,setDiag:e.setDiag}),ma=()=>bn(_y),by=e=>({dir:e.dir,engine:e.engine,hfToken:e.hfToken,openaiKey:e.openaiKey,useFast:e.useFast,fastKind:e.fastKind,useCaps:e.useCaps,vlmModel:e.vlmModel,useOcr:e.useOcr,hasText:e.hasText,useOsTrash:e.useOsTrash,camera:e.camera,isoMin:e.isoMin,isoMax:e.isoMax,fMin:e.fMin,fMax:e.fMax,place:e.place,needsHf:e.engine.startsWith("hf"),needsOAI:e.engine==="openai"}),Ty=e=>({results:e.results,searchId:e.searchId,query:e.query,topK:e.topK,fav:e.fav,favOnly:e.favOnly,tags:e.tags,saved:e.saved,collections:e.collections,smart:e.smart,library:e.library}),Py=e=>({busy:e.busy,note:e.note,viewMode:e.viewMode,showWelcome:e.showWelcome,showHelp:e.showHelp}),My=e=>({workspace:e.workspace,wsToggle:e.wsToggle,persons:e.persons,clusters:e.clusters,groups:e.groups,points:e.points,diag:e.diag}),vf=()=>Se(by),xf=()=>dt(Ty),wf=()=>rl(Py),kf=()=>bn(My),Ly=[{key:"local",label:"On-device (Recommended)"},{key:"local-compat",label:"On-device (Compatible)"},{key:"hf",label:"Hugging Face (CLIP)"},{key:"hf-caption",label:"Hugging Face (Caption)"},{key:"openai",label:"OpenAI (Captions)"}];function Fy({onSearch:e,onShowHelp:t}){const n=vf(),r=xf(),l=wf(),s=kf(),o=da(),a=fa(),u=pa(),c=ma(),{dir:h,engine:y,hfToken:g,openaiKey:j,useFast:N,fastKind:k,useCaps:O,useOcr:p,hasText:f,place:m,camera:x,isoMin:P,isoMax:L,fMin:F,fMax:T,needsHf:R,needsOAI:I}=n,{query:W,topK:fe,favOnly:le,tags:we}=r,{viewMode:V,note:B}=l,{wsToggle:Z,persons:_,diag:$}=s,{tagFilter:b,allTags:A}=we;return i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-6 gap-3 items-end",children:[i.jsxs("div",{className:"lg:col-span-2",children:[i.jsx("label",{htmlFor:"ps_dir",className:"block text-sm",children:"Your photo folder"}),i.jsx("input",{id:"ps_dir",value:h,onChange:w=>o.setDir(w.target.value),placeholder:"/path/to/photos",className:"w-full border rounded px-3 py-2"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"ps_engine",className:"block text-sm",children:"Engine"}),i.jsx("select",{id:"ps_engine",value:y,onChange:w=>o.setEngine(w.target.value),className:"w-full border rounded px-3 py-2",children:Ly.map(w=>i.jsx("option",{value:w.key,children:w.label},w.key))}),i.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[i.jsx("label",{htmlFor:"ps_camera",className:"text-sm",children:"Camera"}),i.jsx("input",{id:"ps_camera",value:x,onChange:w=>o.setCamera(w.target.value),placeholder:"e.g., iPhone",className:"border rounded px-2 py-1"}),i.jsx("label",{htmlFor:"ps_iso_min",className:"text-sm",children:"ISO"}),i.jsx("input",{id:"ps_iso_min",value:P,onChange:w=>o.setIsoMin(w.target.value),placeholder:"min",className:"w-20 border rounded px-2 py-1"}),i.jsx("span",{children:"to"}),i.jsx("input",{id:"ps_iso_max",value:L,onChange:w=>o.setIsoMax(w.target.value),placeholder:"max",className:"w-20 border rounded px-2 py-1"}),i.jsx("label",{htmlFor:"ps_fmin",className:"text-sm",children:"f/"}),i.jsx("input",{id:"ps_fmin",value:F,onChange:w=>o.setFMin(w.target.value),placeholder:"min",className:"w-20 border rounded px-2 py-1"}),i.jsx("span",{children:"to"}),i.jsx("input",{id:"ps_fmax",value:T,onChange:w=>o.setFMax(w.target.value),placeholder:"max",className:"w-20 border rounded px-2 py-1"})]})]}),i.jsxs("div",{className:"lg:col-span-2",children:[i.jsx("label",{htmlFor:"ps_query",className:"block text-sm",children:"Query"}),i.jsx("input",{id:"ps_query",value:W,onChange:w=>a.setQuery(w.target.value),placeholder:"friends on beach",className:"w-full border rounded px-3 py-2"})]}),i.jsx("div",{children:i.jsx("button",{type:"button",onClick:t,className:"w-full mt-2 bg-gray-200 rounded px-3 py-2",children:"Help"})})]}),(R||I)&&i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mt-3",children:[R&&i.jsxs("div",{children:[i.jsx("label",{htmlFor:"ps_hf",className:"block text-sm",children:"HF API token"}),i.jsx("input",{id:"ps_hf",value:g,onChange:w=>o.setHfToken(w.target.value),type:"password",className:"w-full border rounded px-3 py-2"})]}),I&&i.jsxs("div",{children:[i.jsx("label",{htmlFor:"ps_oai",className:"block text-sm",children:"OpenAI API key"}),i.jsx("input",{id:"ps_oai",value:j,onChange:w=>o.setOpenaiKey(w.target.value),type:"password",className:"w-full border rounded px-3 py-2"})]})]}),i.jsxs("div",{className:"flex items-center gap-3 mt-3 flex-wrap",children:[i.jsx("button",{type:"button",onClick:e,className:"bg-blue-600 text-white rounded px-4 py-2",children:"Search"}),i.jsx("div",{className:"text-sm text-gray-700",children:"TopK"}),i.jsx("input",{id:"ps_topk",type:"number",min:1,max:200,value:fe,onChange:w=>a.setTopK(parseInt(w.target.value||"24",10)),className:"w-20 border rounded px-2 py-1"}),i.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[i.jsx("input",{type:"checkbox",checked:le,onChange:w=>a.setFavOnly(w.target.checked)})," ","Favorites only"]}),i.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[i.jsx("input",{type:"checkbox",checked:O,onChange:w=>o.setUseCaps(w.target.checked)})," ","Use captions"]}),i.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[i.jsx("input",{type:"checkbox",checked:p,onChange:w=>o.setUseOcr(w.target.checked)})," ","Use OCR"]}),i.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[i.jsx("input",{type:"checkbox",checked:f,onChange:w=>o.setHasText(w.target.checked)})," ","Has text"]}),i.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[i.jsx("label",{htmlFor:"ps_place",className:"text-sm",children:"Place"}),i.jsx("input",{id:"ps_place",value:m,onChange:w=>o.setPlace(w.target.value),placeholder:"e.g., San Francisco",className:"border rounded px-2 py-1"})]}),i.jsx("div",{className:"text-sm",children:"Filter tags (comma):"}),i.jsx("input",{value:b,onChange:w=>a.setTagFilter(w.target.value),placeholder:"e.g., beach,friends",className:"border rounded px-2 py-1"}),i.jsx("div",{className:"flex gap-1 flex-wrap",children:A.map(w=>{const M=b.split(",").map(Q=>Q.trim()).filter(Boolean).includes(w);return i.jsx("button",{type:"button",onClick:()=>{const Q=new Set(b.split(",").map(J=>J.trim()).filter(Boolean));Q.has(w)?Q.delete(w):Q.add(w),a.setTagFilter(Array.from(Q).join(","))},className:`text-xs px-2 py-1 rounded ${M?"bg-blue-600 text-white":"bg-gray-200"}`,children:w},w)})}),i.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[i.jsx("input",{type:"checkbox",checked:N,onChange:w=>o.setUseFast(w.target.checked)})," ","Use fast index"]}),(()=>{var ne,ie;const w=((ie=(ne=$==null?void 0:$.engines)==null?void 0:ne[0])==null?void 0:ie.fast)||void 0,M=(w==null?void 0:w.faiss)??!0,Q=(w==null?void 0:w.hnsw)??!0,J=(w==null?void 0:w.annoy)??!0;return i.jsxs("select",{value:k,onChange:Ke=>o.setFastKind(Ke.target.value),className:"border rounded px-2 py-1 text-sm",children:[i.jsx("option",{value:"",children:"Auto"}),i.jsxs("option",{value:"faiss",disabled:!M,children:["FAISS",w&&!M?" (not built)":""]}),i.jsxs("option",{value:"hnsw",disabled:!Q,children:["HNSW",w&&!Q?" (not built)":""]}),i.jsxs("option",{value:"annoy",disabled:!J,children:["Annoy",w&&!J?" (not built)":""]})]})})(),i.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[i.jsx("input",{type:"checkbox",checked:Z,onChange:w=>c.setWsToggle(w.target.checked)})," ","Search across workspace"]}),i.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[i.jsx("label",{htmlFor:"ps_view",className:"text-sm",children:"View"}),i.jsxs("select",{id:"ps_view",value:V,onChange:w=>u.setViewMode(w.target.value),className:"border rounded px-2 py-1 text-sm",children:[i.jsx("option",{value:"grid",children:"Grid"}),i.jsx("option",{value:"film",children:"Filmstrip"})]})]}),B&&i.jsx("div",{className:"text-sm text-gray-500","aria-live":"polite",children:B}),_.length>0&&i.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[_.map(w=>i.jsxs("span",{className:"px-2 py-1 bg-blue-600 text-white rounded flex items-center gap-2",children:[w,i.jsx("button",{type:"button",onClick:()=>c.setPersons(_.filter(M=>M!==w)),className:"bg-white/20 rounded px-1","aria-label":`Remove ${w}`,children:""})]},w)),i.jsx("button",{type:"button",onClick:()=>c.setPersons([]),className:"px-2 py-1 bg-gray-200 rounded",children:"Clear"})]})]})]})}function Oy({dir:e,engine:t,busy:n,note:r,diag:l,onIndex:s,onBuildFast:o,onBuildOCR:a,onBuildMetadata:u,onAutoTag:c,onLoadDiag:h}){return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white border rounded p-3",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("h2",{className:"font-semibold",children:"Index Management"}),i.jsx("button",{onClick:s,disabled:!e||!!n,className:"bg-gray-800 text-white rounded px-3 py-2 disabled:opacity-50",children:n||"Build Index"})]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:[i.jsx("button",{onClick:()=>o("faiss"),disabled:!e||!!n,className:"bg-blue-600 text-white rounded px-3 py-2 text-sm disabled:opacity-50",children:"Build FAISS"}),i.jsx("button",{onClick:()=>o("hnsw"),disabled:!e||!!n,className:"bg-blue-600 text-white rounded px-3 py-2 text-sm disabled:opacity-50",children:"Build HNSW"}),i.jsx("button",{onClick:()=>o("annoy"),disabled:!e||!!n,className:"bg-blue-600 text-white rounded px-3 py-2 text-sm disabled:opacity-50",children:"Build Annoy"}),i.jsx("button",{onClick:a,disabled:!e||!!n,className:"bg-green-600 text-white rounded px-3 py-2 text-sm disabled:opacity-50",children:"Build OCR"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-2",children:[i.jsx("button",{onClick:u,disabled:!e||!!n,className:"bg-purple-600 text-white rounded px-3 py-2 text-sm disabled:opacity-50",children:"Build Metadata"}),i.jsx("button",{onClick:c,disabled:!e||!!n,className:"bg-orange-600 text-white rounded px-3 py-2 text-sm disabled:opacity-50",children:"Auto Tag"})]}),r&&i.jsx("div",{className:"mt-2 text-sm text-gray-600 p-2 bg-gray-50 rounded",children:r})]}),i.jsxs("div",{className:"bg-white border rounded p-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"font-semibold",children:"Diagnostics"}),i.jsx("button",{onClick:h,className:"bg-gray-200 rounded px-3 py-1 text-sm",children:"Refresh"})]}),l?i.jsxs("div",{className:"mt-2 text-sm",children:[i.jsxs("div",{children:["Folder: ",i.jsx("span",{className:"font-mono",children:l.folder})]}),i.jsxs("div",{children:["Free disk: ",l.free_gb," GB (OS: ",l.os,")"]}),i.jsxs("div",{className:"mt-2",children:[i.jsx("div",{className:"font-semibold mb-1",children:"Indexes"}),l.engines.length===0?i.jsx("div",{className:"text-gray-600",children:"No indexes found."}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2",children:l.engines.map((y,g)=>i.jsxs("div",{className:"border rounded p-2 flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("div",{className:"font-mono text-xs",children:y.key}),i.jsx("div",{className:"text-xs text-gray-600",children:y.index_dir}),y.fast&&i.jsxs("div",{className:"text-xs mt-1 text-gray-700",children:["Fast: Annoy ",y.fast.annoy?"":"",", FAISS ",y.fast.faiss?"":"",", HNSW ",y.fast.hnsw?"":""]})]}),i.jsxs("div",{className:"text-sm",children:[y.count," photos"]})]},g))})]})]}):i.jsx("div",{className:"text-sm text-gray-600 mt-2",children:"Click Refresh to view."})]})]})}function jf({dir:e,engine:t,library:n,onLoadLibrary:r}){return i.jsxs("div",{className:"bg-white border rounded p-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"font-semibold",children:"Library"}),i.jsx("div",{className:"flex gap-2",children:i.jsx("button",{onClick:()=>r(120,0),className:"bg-gray-200 rounded px-3 py-1 text-sm",children:"Load"})})]}),n.length===0?i.jsx("div",{className:"text-sm text-gray-600 mt-2",children:"No items yet. Build the index, then click Load."}):i.jsx("div",{className:"mt-2 grid grid-cols-3 md:grid-cols-5 lg:grid-cols-8 gap-2",children:n.map((l,s)=>i.jsx("img",{src:_t(e,t,l,196),title:l,className:"w-full h-24 object-cover rounded"},s))})]})}function Ry({dir:e,engine:t,results:n,selected:r,onToggleSelect:l,onOpen:s,showScore:o=!0}){return!n||n.length===0?i.jsx("div",{className:"text-sm text-gray-600 mt-2",children:"No results yet. Type a description and click Search."}):i.jsx("div",{className:"mt-2 grid grid-cols-3 md:grid-cols-5 lg:grid-cols-8 gap-2",role:"grid",children:n.map((a,u)=>{const c=a.path,h=!!r[c];return i.jsxs("div",{className:`relative cursor-pointer border rounded ${h?"ring-2 ring-blue-600":""}`,onClick:()=>l(c),onDoubleClick:()=>s(c),role:"gridcell","aria-selected":h,tabIndex:0,children:[i.jsx("img",{src:_t(e,t,c,256),className:"w-full h-24 object-cover rounded",title:c}),o&&i.jsx("div",{className:"absolute top-1 left-1 bg-white/80 rounded px-1 text-xs",children:(a.score||0).toFixed(2)}),i.jsx("div",{className:"absolute top-1 right-1",children:i.jsx("input",{type:"checkbox",checked:h,onChange:()=>l(c),"aria-label":`Select ${c}`})})]},c)})})}function Nf({dir:e,engine:t,path:n,onPrev:r,onNext:l,onClose:s,onReveal:o,onFavorite:a,onMoreLikeThis:u}){if(!n)return null;const c=S.useRef(null),h=S.useRef(null),[y,g]=S.useState(1),[j,N]=S.useState(0),[k,O]=S.useState(0),[p,f]=S.useState(!1),m=S.useRef({x:0,y:0,tx:0,ty:0}),[x,P]=S.useState(!1),[L,F]=S.useState(!1),[T,R]=S.useState(null);function I(b,A,w){const M=y,Q=Math.min(5,Math.max(1,+(M+b).toFixed(2)));if(Q===M)return;const J=h.current;if(J&&A!==void 0&&w!==void 0){const ne=J.getBoundingClientRect(),ie=A-ne.left,Ke=w-ne.top,X=Q/M;N(j+(ie-ie*X)),O(k+(Ke-Ke*X))}g(Q)}function W(b){b.preventDefault();const A=b.deltaY<0?.1:-.1;I(A,b.clientX,b.clientY)}function fe(b){y!==1&&(f(!0),m.current={x:b.clientX,y:b.clientY,tx:j,ty:k})}function le(b){if(!p)return;const A=b.clientX-m.current.x,w=b.clientY-m.current.y;N(m.current.tx+A),O(m.current.ty+w)}function we(){f(!1)}function V(){f(!1)}function B(){g(1),N(0),O(0)}function Z(){I(.2)}function _(){I(-.2)}function $(b){y===1?I(1,b.clientX,b.clientY):B()}return S.useEffect(()=>{var b;(b=c.current)==null||b.focus()},[n]),S.useEffect(()=>{let b=!1;async function A(){if(!(!x||!n))try{F(!0);const w=await tf(e,n);b||R(w.meta||{})}catch{b||R(null)}finally{b||F(!1)}}return A(),()=>{b=!0}},[x,e,n]),i.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center",onClick:s,onKeyDown:b=>{b.key==="Escape"&&(b.stopPropagation(),s())},children:i.jsxs("div",{className:"relative max-w-6xl w-full p-4",onClick:b=>b.stopPropagation(),ref:c,role:"dialog","aria-modal":"true","aria-label":n,tabIndex:-1,children:[i.jsxs("div",{className:"flex items-center justify-between mb-2 text-white",children:[i.jsx("div",{className:"truncate text-sm",children:n}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{type:"button",onClick:r,className:"bg-white/20 rounded px-2 py-1",children:""}),i.jsx("button",{type:"button",onClick:l,className:"bg-white/20 rounded px-2 py-1",children:""}),i.jsx("button",{type:"button",onClick:()=>P(b=>!b),className:`rounded px-2 py-1 ${x?"bg-blue-600 text-white":"bg-white/20"}`,children:"Info"}),i.jsx("button",{type:"button",onClick:s,className:"bg-white text-black rounded px-2 py-1",children:"Close"})]})]}),i.jsx("div",{className:"relative bg-black/40 rounded overflow-hidden",onWheel:W,onMouseDown:fe,onMouseMove:le,onMouseUp:we,onMouseLeave:V,onDoubleClick:$,style:{cursor:y>1&&p?"grabbing":y>1?"grab":"default"},children:i.jsx("img",{ref:h,src:_t(e,t,n,1024),className:"w-full h-auto select-none",style:{transform:`translate(${j}px, ${k}px) scale(${y})`,transformOrigin:"0 0"},alt:n,draggable:!1})}),i.jsxs("div",{className:"mt-3 flex flex-wrap gap-2 items-center",children:[i.jsxs("div",{className:"flex items-center gap-2 bg-white/10 rounded p-1",children:[i.jsx("button",{type:"button",onClick:_,className:"px-2 py-1 bg-white/20 text-white rounded",children:""}),i.jsxs("div",{className:"text-white text-sm w-12 text-center",children:[Math.round(y*100),"%"]}),i.jsx("button",{type:"button",onClick:Z,className:"px-2 py-1 bg-white/20 text-white rounded",children:"+"}),i.jsx("button",{type:"button",onClick:B,className:"px-2 py-1 bg-white/20 text-white rounded",children:"Reset"})]}),i.jsx("button",{type:"button",onClick:o,className:"px-3 py-1 bg-gray-200 rounded",children:"Reveal in Finder/Explorer"}),i.jsx("button",{type:"button",onClick:a,className:"px-3 py-1 bg-pink-600 text-white rounded",children:" Favorite"}),u&&i.jsx("button",{type:"button",onClick:u,className:"px-3 py-1 bg-blue-600 text-white rounded",children:"More like this"})]}),x&&i.jsx("div",{className:"mt-3 bg-white text-gray-900 rounded p-3 max-h-72 overflow-auto",children:L?i.jsx("div",{className:"text-sm text-gray-600",children:"Loading EXIF"}):T?i.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[T.camera&&i.jsxs("div",{children:[i.jsx("div",{className:"text-gray-500",children:"Camera"}),i.jsx("div",{className:"font-medium",children:T.camera})]}),T.lens&&i.jsxs("div",{children:[i.jsx("div",{className:"text-gray-500",children:"Lens"}),i.jsx("div",{className:"font-medium",children:T.lens})]}),T.iso&&i.jsxs("div",{children:[i.jsx("div",{className:"text-gray-500",children:"ISO"}),i.jsx("div",{className:"font-medium",children:T.iso})]}),T.fnumber&&i.jsxs("div",{children:[i.jsx("div",{className:"text-gray-500",children:"Aperture"}),i.jsxs("div",{className:"font-medium",children:["f/",T.fnumber]})]}),T.shutter&&i.jsxs("div",{children:[i.jsx("div",{className:"text-gray-500",children:"Shutter"}),i.jsx("div",{className:"font-medium",children:T.shutter})]}),T.datetime&&i.jsxs("div",{children:[i.jsx("div",{className:"text-gray-500",children:"Date"}),i.jsx("div",{className:"font-medium",children:new Date(T.datetime*1e3).toLocaleString()})]}),T.place&&i.jsxs("div",{className:"col-span-2",children:[i.jsx("div",{className:"text-gray-500",children:"Place"}),i.jsx("div",{className:"font-medium",children:T.place})]}),Array.isArray(T.tags)&&T.tags.length>0&&i.jsxs("div",{className:"col-span-2",children:[i.jsx("div",{className:"text-gray-500",children:"Tags"}),i.jsx("div",{className:"mt-1 flex flex-wrap gap-1",children:T.tags.map(b=>i.jsx("span",{className:"px-2 py-0.5 bg-gray-100 rounded text-xs",children:b},b))})]})]}):i.jsx("div",{className:"text-sm text-gray-600",children:"No metadata."})})]})})}const Iy=({icon:e,title:t,description:n,action:r,className:l=""})=>i.jsxs("div",{className:`empty-state ${l}`,children:[e&&i.jsx("div",{className:"empty-state-icon",children:e}),i.jsx("h3",{className:"empty-state-title",children:t}),i.jsx("p",{className:"empty-state-description",children:n}),r&&i.jsx("button",{onClick:r.onClick,className:r.variant==="secondary"?"btn-secondary":"btn-primary",children:r.label})]}),Dy=({onSearch:e})=>i.jsx(Iy,{icon:i.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),title:"No results found",description:"Try adjusting your search query or filters to find what you're looking for.",action:e?{label:"New Search",onClick:e}:void 0});function zy(){const e=ff(),t=pf(),n=gf(),r=mf(),l=yf(),s=hf(),[o,a]=S.useState({}),[u,c]=S.useState(null),h=((r==null?void 0:r.length)||0)>0,y=S.useCallback(O=>{const p=r.findIndex(f=>f.path===O);p>=0&&c(p)},[r]),g=S.useCallback(O=>a(p=>({...p,[O]:!p[O]})),[]),j=S.useCallback(()=>{const O={};for(const p of r)O[p.path]=!0;a(O)},[r]),N=S.useCallback(()=>a({}),[]),k=S.useCallback(O=>{c(p=>{if(p===null)return null;const f=p+O;return f<0||f>=r.length?p:f})},[r]);return S.useEffect(()=>{function O(p){const f=p.target;if(!(f&&(f.tagName==="INPUT"||f.tagName==="TEXTAREA"||f.isContentEditable))&&h){if(p.key==="Escape"){c(null);return}if(u!==null){if((p.key==="ArrowLeft"||p.key==="k")&&(p.preventDefault(),k(-1)),(p.key==="ArrowRight"||p.key==="j")&&(p.preventDefault(),k(1)),p.key.toLowerCase()==="f"){p.preventDefault();const m=r[u].path;tn(e,m,!l.includes(m)).catch(()=>{})}return}if(p.key.toLowerCase()==="a"){p.preventDefault(),j();return}if(p.key.toLowerCase()==="c"){p.preventDefault(),N();return}p.key==="Enter"&&(p.preventDefault(),r[0]&&c(0)),p.key===" "&&(p.preventDefault(),r[0]&&g(r[0].path))}}return window.addEventListener("keydown",O),()=>window.removeEventListener("keydown",O)},[r,h,u,e,t,l,k,j,N,g]),i.jsxs("div",{className:"bg-white border rounded p-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"font-semibold",children:"Results"}),i.jsxs("div",{className:"flex gap-2 text-sm",children:[i.jsxs("div",{className:"text-gray-700",children:[r.length," found"]}),i.jsx("button",{onClick:j,className:"bg-gray-200 rounded px-2 py-1",children:"Select all"}),i.jsx("button",{onClick:N,className:"bg-gray-200 rounded px-2 py-1",children:"Clear"}),i.jsx("button",{onClick:async()=>{const O=Object.entries(o).filter(([,f])=>f).map(([f])=>f);if(O.length===0){alert("Select photos first");return}let p=0;for(const f of O)try{await tn(e,f,!l.includes(f)),p++}catch{}},className:"bg-pink-600 text-white rounded px-2 py-1",children:" Favorite selected"})]})]}),h?i.jsx(Ry,{dir:e,engine:t,results:r,selected:o,onToggleSelect:g,onOpen:y,showScore:!0}):s?i.jsx(Dy,{}):i.jsx("div",{className:"text-sm text-gray-600 mt-2",children:"Run a search to see results here."}),u!==null&&r[u]&&i.jsx(Nf,{dir:e,engine:t,path:r[u].path,onPrev:()=>k(-1),onNext:()=>k(1),onClose:()=>c(null),onReveal:()=>rf(e,r[u].path),onFavorite:()=>tn(e,r[u].path,!l.includes(r[u].path)).catch(()=>{})}),n&&n.toLowerCase().includes("search")&&i.jsx("div",{className:"fixed inset-0 pointer-events-none flex items-center justify-center",children:i.jsx("div",{className:"animate-spin h-8 w-8 border-2 border-gray-300 border-t-transparent rounded-full"})})]})}function Sf({dir:e,engine:t,collections:n,onLoadCollections:r,onOpen:l,onDelete:s}){return i.jsxs("div",{className:"bg-white border rounded p-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"font-semibold",children:"Collections"}),i.jsx("button",{onClick:r,className:"bg-gray-200 rounded px-3 py-1 text-sm",children:"Refresh"})]}),Object.keys(n||{}).length===0?i.jsx("div",{className:"text-sm text-gray-600 mt-2",children:"No collections yet."}):i.jsx("div",{className:"mt-2 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 text-sm",children:Object.keys(n).map(o=>{var a;return i.jsxs("div",{className:"border rounded p-2 flex gap-3 items-center",children:[i.jsx("div",{className:"flex gap-1 shrink-0",children:(n[o]||[]).slice(0,3).map(u=>i.jsx("img",{src:_t(e,t,u,96),alt:u.split("/").pop()||u,className:"w-14 h-14 object-cover rounded"},u))}),i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("div",{className:"truncate font-medium",title:o,children:o}),i.jsxs("div",{className:"text-xs text-gray-600",children:[((a=n[o])==null?void 0:a.length)||0," items"]}),i.jsxs("div",{className:"mt-1 flex gap-2",children:[i.jsx("button",{type:"button",onClick:()=>l(o),className:"px-2 py-0.5 rounded bg-blue-600 text-white",children:"Open"}),s&&i.jsx("button",{type:"button",onClick:()=>s(o),className:"px-2 py-0.5 rounded bg-red-600 text-white",children:"Delete"})]})]})]},o)})})]})}function $y({workspace:e,setWorkspace:t}){return i.jsxs("div",{className:"bg-white border rounded p-3",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsx("h2",{className:"font-semibold",children:"Workspace"})}),i.jsxs("div",{className:"mt-2 text-sm",children:[i.jsx("div",{className:"mb-2",children:"Folders:"}),e.length===0?i.jsx("div",{className:"text-gray-600",children:"No extra folders yet."}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:e.map((n,r)=>i.jsxs("div",{className:"border rounded p-2 flex items-center justify-between",children:[i.jsx("div",{className:"font-mono text-xs truncate",title:n,children:n}),i.jsx("button",{onClick:async()=>{try{const l=await ef(n);t(l.folders||[])}catch{}},className:"px-2 py-1 bg-red-600 text-white rounded",children:"Remove"})]},r))}),i.jsxs("div",{className:"mt-2 flex gap-2",children:[i.jsx("input",{id:"ws_add",placeholder:"/path/to/folder",className:"flex-1 border rounded px-2 py-1"}),i.jsx("button",{onClick:async()=>{const n=document.getElementById("ws_add"),r=n.value.trim();if(r)try{const l=await qd(r);t(l.folders||[]),n.value=""}catch{}},className:"px-3 py-1 bg-gray-200 rounded",children:"Add"})]})]})]})}function Cf({dir:e,engine:t,clusters:n,persons:r,setPersons:l,busy:s,setBusy:o,setNote:a,onLoadFaces:u}){return i.jsxs("div",{className:"bg-white border rounded p-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"font-semibold",children:"People"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:async()=>{try{o("Scanning faces");const c=await of(e,t);o(""),a(`Faces: ${c.faces}, clusters: ${c.clusters}`),await u()}catch(c){o(""),a(c.message)}},className:"bg-gray-200 rounded px-3 py-1 text-sm",children:"Build/Update"}),i.jsx("button",{onClick:u,className:"bg-gray-200 rounded px-3 py-1 text-sm",children:"Refresh"})]})]}),n.length===0?i.jsx("div",{className:"text-sm text-gray-600 mt-2",children:"No face clusters yet."}):i.jsx("div",{className:"mt-2 grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2 text-sm",children:n.map(c=>i.jsxs("div",{className:"border rounded p-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("div",{className:"font-semibold truncate",title:c.name||`Cluster ${c.id}`,children:c.name||`Cluster ${c.id}`}),i.jsx("div",{className:"text-xs text-gray-600",children:c.size})]}),i.jsx("div",{className:"mt-2 grid grid-cols-2 gap-1",children:c.examples.map(([h,y],g)=>i.jsx("img",{src:nf(e,t,h,y,196),className:"w-full h-16 object-cover rounded"},g))}),i.jsxs("div",{className:"mt-2 flex gap-2",children:[i.jsx("button",{onClick:()=>{const h=c.name||"";if(!h)return;const y=r.includes(h)?r.filter(g=>g!==h):[...r,h];l(y)},disabled:!c.name,className:`px-2 py-1 rounded ${c.name&&r.includes(c.name)?"bg-blue-700 text-white":c.name?"bg-blue-600 text-white":"bg-gray-200"}`,children:c.name&&r.includes(c.name)?"Remove":"Add"}),i.jsx("button",{onClick:async()=>{const h=prompt("Name this person as",c.name||"")||"";if(h.trim())try{await af(e,String(c.id),h.trim()),await u()}catch{}},className:"px-2 py-1 rounded bg-gray-200",children:"Name"})]})]},c.id))}),r.length>0&&i.jsxs("div",{className:"mt-2 text-sm flex items-center gap-2 flex-wrap",children:[r.map(c=>i.jsxs("span",{className:"px-2 py-1 bg-blue-600 text-white rounded flex items-center gap-2",children:[c," ",i.jsx("button",{onClick:()=>l(r.filter(h=>h!==c)),className:"bg-white/20 rounded px-1",children:""})]},c)),i.jsx("button",{onClick:()=>l([]),className:"px-2 py-1 bg-gray-200 rounded",children:"Clear"})]})]})}function Ef({points:e,onLoadMap:t}){return i.jsxs("div",{className:"bg-white border rounded p-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"font-semibold",children:"Map (GPS)"}),i.jsx("button",{onClick:t,className:"bg-gray-200 rounded px-3 py-1 text-sm",children:"Load"})]}),e.length===0?i.jsx("div",{className:"text-sm text-gray-600 mt-2",children:"No GPS points found."}):i.jsx("div",{className:"mt-2 grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-2 text-xs",children:e.map((n,r)=>i.jsxs("div",{className:"border rounded p-2",children:[n.lat.toFixed(5),", ",n.lon.toFixed(5)]},r))})]})}function _f({dir:e,engine:t,topK:n,smart:r,setSmart:l,setResults:s,setSearchId:o,setNote:a,query:u,favOnly:c,tagFilter:h,useCaps:y,useOcr:g,hasText:j,camera:N,isoMin:k,isoMax:O,fMin:p,fMax:f,place:m,persons:x}){const P=async()=>{const R=(prompt("Save current search as Smart (name):")||"").trim();if(R)try{const I=h.split(",").map(B=>B.trim()).filter(Boolean),W={query:u,favoritesOnly:c,tags:I,useCaptions:y,useOcr:g,hasText:j,camera:N||void 0,isoMin:k?parseInt(k,10):void 0,isoMax:O?parseInt(O,10):void 0,fMin:p?parseFloat(p):void 0,fMax:f?parseFloat(f):void 0,place:m||void 0},fe=x.filter(Boolean);fe.length===1?W.person=fe[0]:fe.length>1&&(W.persons=fe);const{apiSetSmart:le,apiGetSmart:we}=await ge(async()=>{const{apiSetSmart:B,apiGetSmart:Z}=await Promise.resolve().then(()=>ve);return{apiSetSmart:B,apiGetSmart:Z}},void 0,import.meta.url);await le(e,R,W);const V=await we(e);l(V.smart||{}),a("Saved smart collection")}catch(I){a(I.message||"Failed to save smart")}},L=async()=>{try{const{apiGetSmart:R}=await ge(async()=>{const{apiGetSmart:W}=await Promise.resolve().then(()=>ve);return{apiGetSmart:W}},void 0,import.meta.url),I=await R(e);l(I.smart||{})}catch(R){a(R.message||"Failed to load smart")}},F=async R=>{try{const{apiResolveSmart:I}=await ge(async()=>{const{apiResolveSmart:fe}=await Promise.resolve().then(()=>ve);return{apiResolveSmart:fe}},void 0,import.meta.url),W=await I(e,R,t,n);s(W.results||[]),o(W.search_id||""),a(`Opened smart: ${R}`)}catch(I){a(I.message)}},T=async R=>{if(confirm(`Delete smart collection "${R}"?`))try{const{apiDeleteSmart:I,apiGetSmart:W}=await ge(async()=>{const{apiDeleteSmart:le,apiGetSmart:we}=await Promise.resolve().then(()=>ve);return{apiDeleteSmart:le,apiGetSmart:we}},void 0,import.meta.url);await I(e,R);const fe=await W(e);l(fe.smart||{})}catch(I){a(I.message)}};return i.jsxs("div",{className:"bg-white border rounded p-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"font-semibold",children:"Smart Collections"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:L,className:"bg-gray-200 rounded px-3 py-1 text-sm",children:"Refresh"}),i.jsx("button",{onClick:P,className:"bg-blue-600 text-white rounded px-3 py-1 text-sm",children:"Save current as Smart"})]})]}),Object.keys(r||{}).length===0?i.jsx("div",{className:"text-sm text-gray-600 mt-2",children:"No smart collections yet."}):i.jsx("div",{className:"mt-2 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2 text-sm",children:Object.keys(r).map(R=>i.jsxs("div",{className:"border rounded p-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("div",{className:"font-semibold truncate",title:R,children:R}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>F(R),className:"px-2 py-1 bg-blue-600 text-white rounded",children:"Open"}),i.jsx("button",{onClick:()=>T(R),className:"px-2 py-1 bg-red-600 text-white rounded",children:"Delete"})]})]}),i.jsx("div",{className:"mt-1 text-xs text-gray-600 truncate",children:JSON.stringify(r[R])})]},R))})]})}const Ay=e=>e.split("/").pop()||e;function Uy({dir:e,engine:t,groups:n,onLoadLookalikes:r}){const l=async o=>{try{await Zd(e,o),await r()}catch{}},s=async o=>{for(const a of o)try{await tn(e,a,!0)}catch{}alert("Added group to Favorites")};return i.jsxs("div",{className:"bg-white border rounded p-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"font-semibold",children:"Lookalikes"}),i.jsx("button",{onClick:r,className:"bg-gray-200 rounded px-3 py-1 text-sm",children:"Scan"})]}),n.length===0?i.jsx("div",{className:"text-sm text-gray-600 mt-2",children:"No groups yet."}):i.jsx("div",{className:"mt-2 grid grid-cols-1 md:grid-cols-2 gap-3",children:n.map((o,a)=>i.jsxs("div",{className:"border rounded p-2 text-xs",children:[i.jsxs("div",{className:"mb-1 flex items-center justify-between",children:[i.jsxs("div",{className:"font-semibold",children:["Group ",a+1]}),i.jsx("div",{children:o.resolved?"":""})]}),i.jsx("div",{className:"grid grid-cols-3 gap-2",children:o.paths.map((u,c)=>i.jsxs("div",{className:"border rounded p-1",children:[i.jsx("div",{className:"truncate",title:u,children:Ay(u)}),i.jsx("img",{src:_t(e,t,u,196),className:"w-full h-24 object-cover rounded mt-1"})]},c))}),i.jsxs("div",{className:"mt-2 flex gap-2",children:[i.jsx("button",{onClick:()=>l(o.paths),className:"bg-gray-200 rounded px-3 py-1",children:"Mark resolved"}),i.jsx("button",{onClick:()=>s(o.paths),className:"bg-gray-200 rounded px-3 py-1",children:"Add all to Favorites"})]})]},o.id))})]})}function lo({dir:e,engine:t,setBusy:n,setNote:r,setResults:l}){var u,c;const s=async()=>{var h;try{const{apiTripsBuild:y}=await ge(async()=>{const{apiTripsBuild:j}=await Promise.resolve().then(()=>ve);return{apiTripsBuild:j}},void 0,import.meta.url);n("Grouping trips");const g=await y(e,t);n(""),window._trips=g.trips||[],r(`Trips: ${((h=g.trips)==null?void 0:h.length)||0}`)}catch(y){n(""),r(y.message)}},o=async()=>{try{const{apiTripsList:h}=await ge(async()=>{const{apiTripsList:g}=await Promise.resolve().then(()=>ve);return{apiTripsList:g}},void 0,import.meta.url),y=await h(e);window._trips=y.trips||[],r(`Loaded ${y.trips.length} trips`)}catch(h){r(h.message)}},a=h=>{l((h.paths||[]).map(y=>({path:y,score:1}))),r("Opened trip")};return i.jsxs("div",{className:"bg-white border rounded p-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"font-semibold",children:"Trips"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:s,className:"bg-gray-200 rounded px-3 py-1 text-sm",children:"Build"}),i.jsx("button",{onClick:o,className:"bg-gray-200 rounded px-3 py-1 text-sm",children:"Refresh"})]})]}),i.jsx("div",{className:"mt-2 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2 text-sm",children:(c=(u=window._trips)==null?void 0:u.slice(0,6))==null?void 0:c.map((h,y)=>i.jsxs("div",{className:"border rounded p-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("div",{className:"font-semibold truncate",title:h.place||"",children:h.place||"Trip"}),i.jsx("div",{children:h.count})]}),i.jsx("div",{className:"mt-2 grid grid-cols-3 gap-1",children:(h.paths||[]).slice(0,3).map((g,j)=>i.jsx("img",{src:_t(e,t,g,196),className:"w-full h-16 object-cover rounded"},j))}),i.jsx("div",{className:"mt-2 flex gap-2",children:i.jsx("button",{onClick:()=>a(h),className:"bg-blue-600 text-white rounded px-3 py-1",children:"Open"})})]},h.id||y))})]})}const ai={BASE_URL:"./",DEV:!1,MODE:"production",PROD:!0,SSR:!1};function By(){const e=vf(),t=xf(),n=wf(),r=kf();da();const l=fa(),s=pa(),o=ma(),{dir:a,engine:u,hfToken:c,openaiKey:h,needsHf:y,needsOAI:g,camera:j,isoMin:N,isoMax:k,fMin:O,fMax:p,place:f,useCaps:m,useOcr:x,hasText:P,useFast:L,fastKind:F}=e,{results:T,searchId:R,query:I,topK:W,fav:fe,favOnly:le,tags:we,saved:V,collections:B,smart:Z,library:_}=t,{busy:$,note:b,showWelcome:A,showHelp:w,viewMode:M}=n,{workspace:Q,wsToggle:J,persons:ne,clusters:ie,groups:Ke,points:X,diag:bt}=r;async function ll(){try{const U=await na(a);l.setFavorites(U.favorites||[])}catch{}}async function sl(){try{const U=await ra(a);l.setSaved(U.saved||[])}catch{}}async function ar(){try{const U=await sa(a,u);o.setDiag(U)}catch{}}async function ur(){try{const U=await ua(a);l.setTagsMap(U.tags||{}),l.setAllTags(U.all||[])}catch{}}async function Tn(){try{const{apiGetCollections:U}=await ge(async()=>{const{apiGetCollections:ye}=await Promise.resolve().then(()=>ve);return{apiGetCollections:ye}},void 0,import.meta.url),K=await U(a);l.setCollections(K.collections||{})}catch{}}async function an(U=120,K=0){try{if(!a)return;const ye=await Yd(a,u,U,K);l.setLibrary(ye.paths||[])}catch{}}async function un(){try{const U=await ca(a);o.setClusters(U.clusters||[])}catch{}}async function Ts(){try{const U=await la(a);o.setPoints(U.points||[])}catch{}}async function Pn(){try{const U=await Xd(a,5);o.setGroups(U.groups||[])}catch{}}async function Ps(){s.setBusy("Indexing"),s.setNote("");try{const U=await ea(a,u,32,y?c:void 0,g?h:void 0);s.setNote(`Indexed. New ${U.new}, Updated ${U.updated}, Total ${U.total}`),await an(120,0)}catch(U){s.setNote(U.message||"Index failed")}finally{s.setBusy("")}}async function oe(){var U;s.setBusy("Searching"),s.setNote("");try{const K=we.tagFilter.split(",").map(Ue=>Ue.trim()).filter(Boolean);let ye;if(J){const Ue=ne.filter(Boolean);ye=await aa(a,I,u,W,{favoritesOnly:le,tags:K,place:f||void 0,hasText:P,...Ue.length===1?{person:Ue[0]}:Ue.length>1?{persons:Ue}:{}})}else{const Ue=ne.filter(Boolean);ye=await ta(a,I,u,W,{hfToken:y?c:void 0,openaiKey:g?h:void 0,favoritesOnly:le,tags:K,...L?{useFast:!0,fastKind:F||void 0}:{},useCaptions:m,useOcr:x,camera:j||void 0,isoMin:N?parseInt(N,10):void 0,isoMax:k?parseInt(k,10):void 0,fMin:O?parseFloat(O):void 0,fMax:p?parseFloat(p):void 0,place:f||void 0,hasText:P||void 0,...Ue.length===1?{person:Ue[0]}:Ue.length>1?{persons:Ue}:{}})}l.setResults(ye.results||[]),l.setSearchId(ye.search_id),s.setNote(`Found ${((U=ye.results)==null?void 0:U.length)||0} results.`),await Promise.all([ll(),sl(),ur(),ar()])}catch(K){s.setNote(K.message||"Search failed")}finally{s.setBusy("")}}async function G(U){s.setBusy(`Preparing ${U.toUpperCase()}`);try{await ia(a,U,u,y?c:void 0,g?h:void 0),s.setNote(`${U.toUpperCase()} ready`)}catch(K){s.setNote(K.message)}finally{s.setBusy("")}}async function cr(){s.setBusy("Extracting text (OCR)");try{const U=await oa(a,u,["en"],y?c:void 0,g?h:void 0);s.setNote(`OCR updated ${U.updated} images`)}catch(U){s.setNote(U.message)}finally{s.setBusy("")}}async function dr(){s.setBusy("Building metadata");try{const{apiBuildMetadata:U}=await ge(async()=>{const{apiBuildMetadata:ye}=await Promise.resolve().then(()=>ve);return{apiBuildMetadata:ye}},void 0,import.meta.url),K=await U(a,u,y?c:void 0,g?h:void 0);s.setNote(`Metadata ready (${K.updated})`)}catch(U){s.setNote(U.message)}finally{s.setBusy("")}}async function Qe(){s.setBusy("Auto-tagging");try{const U=await fetch(`${(ai==null?void 0:ai.VITE_API_BASE)||window.location.origin}/autotag`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({dir:a,provider:u})});if(!U.ok)throw new Error(await U.text());const K=await U.json();s.setNote(`Auto-tagged ${K.updated} items`),await ur()}catch(U){s.setNote(U.message)}finally{s.setBusy("")}}return S.useEffect(()=>{a&&(ll(),sl(),ur(),ar(),Tn(),un())},[a]),S.useEffect(()=>{Jd().then(U=>o.setWorkspace(U.folders||[])).catch(()=>{})},[]),S.useEffect(()=>{try{localStorage.getItem("ps_if_welcome_done")||s.setShowWelcome(!0)}catch{}},[]),i.jsxs("div",{className:"max-w-7xl mx-auto p-4",children:[i.jsx("h1",{className:"text-2xl font-semibold mb-1",children:" Photo Search  IntentFirst"}),i.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Private by default; choose a cloud engine only if you want."}),i.jsx(Fy,{onSearch:oe,onShowHelp:()=>s.setShowHelp(!0)}),i.jsx("div",{className:"mt-6",children:i.jsx(Oy,{dir:a,engine:u,busy:$,note:b,diag:bt,onIndex:Ps,onBuildFast:G,onBuildOCR:cr,onBuildMetadata:dr,onAutoTag:Qe,onLoadDiag:ar})}),i.jsx("div",{className:"mt-6",children:i.jsx(zy,{})}),i.jsx("div",{className:"mt-6",children:i.jsx(jf,{dir:a,engine:u,library:_,onLoadLibrary:an})}),i.jsx("div",{className:"mt-6",children:i.jsx(Uy,{dir:a,engine:u,groups:Ke,onLoadLookalikes:Pn})}),i.jsx("div",{className:"mt-6",children:i.jsx($y,{workspace:Q,setWorkspace:o.setWorkspace})}),i.jsx("div",{className:"mt-6",children:i.jsx(Ef,{points:X,onLoadMap:Ts})}),i.jsx("div",{className:"mt-6",children:i.jsx(Cf,{dir:a,engine:u,clusters:ie,persons:ne,setPersons:o.setPersons,busy:$,setBusy:s.setBusy,setNote:s.setNote,onLoadFaces:un})}),i.jsx("div",{className:"mt-6",children:i.jsx(Sf,{dir:a,engine:u,collections:B,onLoadCollections:Tn,onOpen:U=>{const K=(B==null?void 0:B[U])||[];l.setResults(K.map(ye=>({path:ye,score:0}))),s.setViewMode("grid"),s.setNote(`${K.length} in ${U}`)}})}),i.jsx("div",{className:"mt-6",children:i.jsx(_f,{dir:a,engine:u,topK:W,smart:Z,setSmart:l.setSmart,setResults:l.setResults,setSearchId:l.setSearchId,setNote:s.setNote,query:I,favOnly:le,tagFilter:we.tagFilter,useCaps:m,useOcr:x,hasText:P,camera:j,isoMin:N,isoMax:k,fMin:O,fMax:p,place:f,persons:ne})}),i.jsx("div",{className:"mt-6",children:i.jsx(lo,{dir:a,engine:u,setBusy:s.setBusy,setNote:s.setNote,setResults:l.setResults})}),A&&i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white w-full max-w-xl rounded shadow p-5",children:[i.jsx("div",{className:"text-lg font-semibold mb-2",children:"Welcome to Photo Search"}),i.jsxs("ol",{className:"list-decimal ml-5 text-sm text-gray-700",children:[i.jsx("li",{children:"Pick your photo folder"}),i.jsx("li",{children:'Click "Build Index"'}),i.jsx("li",{children:"Type a description and Search"})]}),i.jsx("div",{className:"text-xs text-gray-600 mt-2",children:"Tip: Prepare FAISS/HNSW/Annoy; build OCR/Captions to improve recall."}),i.jsx("div",{className:"mt-3 flex justify-end gap-2",children:i.jsx("button",{onClick:()=>{s.setShowWelcome(!1);try{localStorage.setItem("ps_if_welcome_done","1")}catch{}},className:"px-3 py-1 bg-blue-600 text-white rounded",children:"Get started"})})]})}),w&&i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white w-full max-w-lg rounded shadow p-5 text-sm",children:[i.jsx("div",{className:"text-lg font-semibold mb-2",children:"Quick Help"}),i.jsxs("ul",{className:"list-disc ml-5 space-y-1 text-gray-700",children:[i.jsx("li",{children:"Use tag chips and EXIF filters for precision."}),i.jsx("li",{children:"Build Metadata to filter by camera/ISO/f-number."}),i.jsx("li",{children:'Build OCR/Captions and enable "Use captions in search".'}),i.jsx("li",{children:"Select photos to export or save as a collection."}),i.jsx("li",{children:'Try "More like this" on any result.'})]}),i.jsx("div",{className:"mt-3 flex justify-end",children:i.jsx("button",{onClick:()=>s.setShowHelp(!1),className:"px-3 py-1 bg-gray-200 rounded",children:"Close"})})]})})]})}/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vy=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),bf=(...e)=>e.filter((t,n,r)=>!!t&&r.indexOf(t)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Hy={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wy=S.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:l="",children:s,iconNode:o,...a},u)=>S.createElement("svg",{ref:u,...Hy,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:bf("lucide",l),...a},[...o.map(([c,h])=>S.createElement(c,h)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=(e,t)=>{const n=S.forwardRef(({className:r,...l},s)=>S.createElement(Wy,{ref:s,iconNode:t,className:bf(`lucide-${Vy(e)}`,r),...l}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ky=Oe("BookmarkPlus",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}],["line",{x1:"12",x2:"12",y1:"7",y2:"13",key:"1cppfj"}],["line",{x1:"15",x2:"9",y1:"10",y2:"10",key:"1gty7f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qy=Oe("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gy=Oe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yy=Oe("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xy=Oe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zy=Oe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ui=Oe("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fu=Oe("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jy=Oe("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qy=Oe("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bl=Oe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eg=Oe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ou=Oe("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tg=Oe("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ng=Oe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rg=Oe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ru=Oe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);function lg({dir:e,engine:t,items:n,gap:r=8,targetRowHeight:l=196,scrollContainerRef:s,selected:o,onToggleSelect:a,onOpen:u,focusIndex:c=null,onLayout:h,ratingMap:y,showInfoOverlay:g}){var we;const j=S.useRef(null),[N,k]=S.useState(0),[O,p]=S.useState({}),f=4/3;S.useEffect(()=>{const V=s.current;if(!V)return;const B=new ResizeObserver(()=>k(V.clientWidth));return B.observe(V),k(V.clientWidth),()=>B.disconnect()},[s]),S.useEffect(()=>{let V=!1;return n.slice(0,200).forEach(({path:Z})=>{if(O[Z])return;const _=new Image;_.onload=()=>{!V&&_.naturalWidth&&_.naturalHeight&&p($=>({...$,[Z]:_.naturalWidth/_.naturalHeight}))},_.src=_t(e,t,Z,256)}),()=>{V=!0}},[n,e,t]);const m=S.useMemo(()=>{if(!N||n.length===0)return[];const V=[];let B=[],Z=0;const $=Math.max(0,N-2*16);if(n.forEach((b,A)=>{const w=O[b.path]||f;if(B.push(b),Z+=w,Z*l+r*(B.length-1)>=$){const Q=Math.max(120,Math.floor(($-r*(B.length-1))/Z));V.push({items:B,height:Q}),B=[],Z=0}}),B.length>0){const b=Math.min(l,Math.floor(($-r*(B.length-1))/Math.max(1,Z)));V.push({items:B,height:b})}return V},[n,O,N,r,l]),x=S.useMemo(()=>{const V=[];if(!n.length||m.length===0)return V;let B=0;for(const Z of m){const _=[];for(let $=0;$<Z.items.length;$++)_.push(B++);V.push(_)}return V},[m,n.length]);S.useEffect(()=>{h&&h(x)},[x,h]);const[P,L]=S.useState(0),F=((we=s.current)==null?void 0:we.clientHeight)||0;S.useEffect(()=>{const V=s.current;if(!V)return;const B=()=>L(V.scrollTop);return V.addEventListener("scroll",B,{passive:!0}),L(V.scrollTop),()=>V.removeEventListener("scroll",B)},[s]);const{totalH:T,offsets:R}=S.useMemo(()=>{let V=0;const B=[];for(const Z of m)B.push(V),V+=Z.height+r;return{totalH:V,offsets:B}},[m,r]),I=600,W=S.useMemo(()=>{const V=Math.max(0,P-I);let B=0;for(;B<R.length&&R[B]+m[B].height<V;)B++;return B},[R,m,P]),fe=S.useMemo(()=>{const V=P+F+I;let B=W;for(;B<R.length&&R[B]<V;)B++;return Math.min(B+5,m.length)},[R,m,P,F,W]),le=c!==null?`photo-${c}`:void 0;return i.jsx("div",{id:"modern-results-grid",ref:j,className:"relative",style:{height:T},role:"grid","aria-multiselectable":"true","aria-activedescendant":le,tabIndex:0,children:m.slice(W,fe).map((V,B)=>{const Z=W+B,_=R[Z],$=Math.max(0,N-2*16),b=V.items.reduce((w,M)=>w+(O[M.path]||f),0),A=Math.max(120,Math.floor(($-r*(V.items.length-1))/Math.max(.01,b)));return i.jsx("div",{className:"absolute left-0 right-0",style:{top:_},children:i.jsx("div",{className:"flex",style:{gap:r},children:V.items.map((w,M)=>{var bt;const Q=(bt=x[Z])==null?void 0:bt[M],J=O[w.path]||f,ne=Math.floor(A*J),ie=o.has(w.path),Ke=c!==null&&Q===c,X=w.path.split("/").pop()||w.path;return i.jsxs("div",{className:`relative group cursor-pointer rounded-lg overflow-hidden transition-all duration-200 hover:shadow ${ie?"ring-2 ring-blue-500":""} ${Ke?"outline outline-2 outline-indigo-500":""}`,style:{width:ne,height:A},onClick:()=>a(w.path),onDoubleClick:()=>u(w.path),title:w.path,"data-photo-idx":Q,id:`photo-${Q}`,role:"gridcell","aria-selected":ie,tabIndex:Ke?0:-1,children:[i.jsx("img",{src:_t(e,t,w.path,256),alt:w.path,className:"w-full h-full object-cover transition-transform duration-200 group-hover:scale-105",loading:"lazy"}),g&&i.jsxs("div",{className:"absolute inset-x-0 bottom-0 bg-gradient-to-t from-black/60 to-transparent text-white px-1.5 py-1 text-[10px] flex items-center justify-between",children:[i.jsx("span",{className:"truncate mr-2",title:X,children:X}),typeof w.score=="number"&&i.jsx("span",{className:"bg-white/20 rounded px-1",children:w.score.toFixed(2)})]}),y&&typeof y[w.path]=="number"&&y[w.path]>0&&i.jsxs("div",{className:"absolute bottom-1 left-1 px-1 py-0.5 rounded bg-black/50 text-yellow-300 text-[10px] flex items-center gap-0.5",children:[i.jsx("svg",{width:"10",height:"10",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":!0,children:i.jsx("path",{d:"M12 .587l3.668 7.431 8.2 1.193-5.934 5.787 1.401 8.168L12 18.896l-7.335 3.87 1.401-8.168L.132 9.211l8.2-1.193z"})}),i.jsx("span",{children:y[w.path]})]}),typeof w.score=="number"&&i.jsx("div",{className:"absolute top-2 left-2 text-xs bg-white/80 rounded px-1",children:w.score.toFixed(2)}),ie&&i.jsx("div",{className:"absolute top-2 right-2 w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center",children:i.jsx("svg",{className:"w-4 h-4 text-white",viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]},w.path)})})},Z)})})}function sg({saved:e,onRun:t,onDelete:n}){return i.jsxs("div",{className:"bg-white border rounded p-3",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsx("h2",{className:"font-semibold",children:"Saved Searches"})}),!e||e.length===0?i.jsx("div",{className:"text-sm text-gray-600 mt-2",children:"No saved searches yet."}):i.jsx("div",{className:"mt-2 divide-y",children:e.map(r=>i.jsxs("div",{className:"py-2 flex items-center justify-between gap-3",children:[i.jsxs("div",{className:"min-w-0",children:[i.jsx("div",{className:"font-medium truncate",title:r.name,children:r.name}),i.jsx("div",{className:"text-xs text-gray-600 truncate",title:r.query,children:r.query})]}),i.jsxs("div",{className:"flex gap-2 shrink-0",children:[i.jsx("button",{onClick:()=>t(r.name,r.query,r.top_k),className:"px-2 py-1 rounded bg-blue-600 text-white text-sm",children:"Run"}),i.jsx("button",{onClick:()=>n(r.name),className:"px-2 py-1 rounded bg-red-600 text-white text-sm",children:"Delete"})]})]},r.name))})]})}function ig(e){const t=e.split(/\r?\n/),n=[];let r=[];function l(){r.length&&(n.push(i.jsx("ul",{className:"list-disc ml-6 space-y-1",children:r.map((s,o)=>i.jsx("li",{children:s},o))},`ul-${n.length}`)),r=[])}return t.forEach((s,o)=>{const a=s.match(/^(#+)\s+(.*)$/);if(a){l();const c=a[1].length,h=a[2],y=c===1?"h1":c===2?"h2":"h3";n.push(i.jsx(y,{className:"font-semibold mt-4",children:h},`h-${o}`));return}const u=s.match(/^[-*]\s+(.*)$/);if(u){r.push(u[1]);return}if(s.trim()===""){l(),n.push(i.jsx("div",{className:"h-2"},`sp-${o}`));return}l(),n.push(i.jsx("p",{children:s},`p-${o}`))}),l(),n}function og(){const[e,t]=S.useState(""),[n,r]=S.useState(!0),[l,s]=S.useState("");return S.useEffect(()=>{let o=!1;return uf().then(a=>{o||(t(a.text||""),r(!1))}).catch(a=>{o||(s(String(a)),r(!1))}),()=>{o=!0}},[]),i.jsxs("div",{className:"bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded p-4",children:[i.jsx("div",{className:"font-semibold mb-2",children:"Project Tasks (TODO.md)"}),n?i.jsx("div",{className:"text-sm text-gray-600",children:"Loading"}):l?i.jsx("div",{className:"text-sm text-red-600",children:l}):i.jsx("div",{className:"prose prose-sm max-w-none dark:prose-invert",children:ig(e)})]})}const ag=e=>e.split("/").pop()||e;function pn({children:e,onEscape:t}){const n=Fn.useRef(null);return Fn.useEffect(()=>{const r=n.current;if(!r)return;const l=r.querySelectorAll('a[href], button, textarea, input, select, [tabindex]:not([tabindex="-1"])'),s=Array.from(l).filter(a=>!a.hasAttribute("disabled"));s.length>0?(s.find(u=>u.getAttribute("tabindex")!=="-1")||s[0]).focus():(r.setAttribute("tabindex","-1"),r.focus());const o=a=>{if(a.key==="Escape"&&(a.stopPropagation(),a.preventDefault(),t&&t()),a.key==="Tab"){if(s.length===0)return;const u=s.indexOf(document.activeElement),c=a.shiftKey?-1:1;let h=u+c;h<0&&(h=s.length-1),h>=s.length&&(h=0),a.preventDefault(),s[h].focus()}};return document.addEventListener("keydown",o),()=>document.removeEventListener("keydown",o)},[t]),i.jsx("div",{ref:n,children:e})}function ug({selectedView:e,libOffset:t,libLimit:n,libLoading:r,onLoadMore:l,setLibOffset:s,setLibLoading:o,scrollContainerRef:a}){const u=S.useRef(null);return S.useEffect(()=>{if(!u.current)return;const c=u.current,h=new IntersectionObserver(async y=>{for(const g of y)if(g.isIntersecting&&e==="library"&&!r){o(!0);const j=t+n;await l(n,j),s(j),o(!1)}},{root:a.current,rootMargin:"0px",threshold:.1});return h.observe(c),()=>h.disconnect()},[e,t,n,r,l,s,o,a]),i.jsx("div",{ref:u,className:"h-8 w-full flex items-center justify-center text-xs text-gray-500",children:r?"Loading":""})}function cg(){const[e,t]=S.useState(!1);S.useEffect(()=>(t(!0),()=>t(!1)),[]);const n=ff(),r=pf(),l=Gh(),s=Yh(),o=Xh(),a=Zh(),u=Jh(),c=qh(),h=ty(),y=ey(),g=oy(),j=ny(),N=ry(),k=ly(),O=sy(),p=iy(),f=ay(),m=uy(),x=mf(),P=hf(),L=yf(),F=dy(),T=fy(),R=py(),I=my(),W=hy(),fe=yy(),le=gy(),we=gf(),V=xy();wy();const B=jy(),Z=Ny(),_=Sy(),$=Cy(),b=Ey(),A=da(),w=fa(),M=pa(),Q=ma(),[J,ne]=S.useState("library"),[ie,Ke]=S.useState(""),[X,bt]=S.useState(new Set),[ll,sl]=S.useState("medium"),[ar,ur]=S.useState("all"),[Tn,an]=S.useState(!1),[un,Ts]=S.useState(""),[Pn,Ps]=S.useState(""),[oe,G]=S.useState(null),[cr,dr]=S.useState(!1),[Qe,U]=S.useState(null),[K,ye]=S.useState(null),[Ue,Tf]=S.useState([]),il=S.useRef(Ue);S.useEffect(()=>{il.current=Ue},[Ue]);const Pf=S.useCallback((d,v)=>d.length===v.length&&d.every((C,H)=>C.length===v[H].length&&C.every((D,te)=>D===v[H][te])),[]),Ms=S.useRef(null),ha=S.useRef(null),[Mf,ol]=S.useState(!1),[ya,Lf]=S.useState({cameras:[],places:[]}),[al,Ff]=S.useState(0),[Mn,$t]=S.useState(null),wt=S.useRef(null),Ls=S.useMemo(()=>{const d={},v=(R==null?void 0:R.tagsMap)||{};for(const C of Object.keys(v)){const D=(v[C]||[]).find(te=>/^rating:[1-5]$/.test(te));D&&(d[C]=parseInt(D.split(":")[1],10))}return d},[R]);S.useEffect(()=>{try{localStorage.getItem("ps_theme")==="dark"&&document.documentElement.classList.add("dark")}catch{}},[]);const[Of,ga]=S.useState(0),[Rf,If]=S.useState(!1),va=120,Df=S.useMemo(()=>(le||[]).map(d=>({path:d})),[le]),cn=S.useCallback(async()=>{if(n)try{const d=await na(n);w.setFavorites(d.favorites||[])}catch{}},[n,w]),ul=S.useCallback(async()=>{if(n)try{const d=await ra(n);w.setSaved(d.saved||[])}catch{}},[n,w]),kt=S.useCallback(async()=>{if(n)try{const d=await ua(n);w.setTagsMap(d.tags||{}),w.setAllTags(d.all||[])}catch{}},[n,w]),cl=S.useCallback(async()=>{if(n)try{const d=await sa(n,r);Q.setDiag(d)}catch{}},[n,r,Q]),Fs=S.useCallback(async()=>{if(n)try{const d=await ca(n);Q.setClusters(d.clusters||[])}catch{}},[n,Q]),zf=S.useCallback(async()=>{if(n)try{const d=await la(n);Q.setPoints(d.points||[])}catch{}},[n,Q]),dn=S.useCallback(async(d=120,v=0,C=!1)=>{try{if(!n)return;const{apiLibrary:H}=await ge(async()=>{const{apiLibrary:te}=await Promise.resolve().then(()=>ve);return{apiLibrary:te}},void 0,import.meta.url),D=await H(n,r,d,v);if(C){const te=[...le||[],...D.paths||[]];w.setLibrary(te)}else w.setLibrary(D.paths||[])}catch{}},[n,r,le,w]),xa=S.useCallback(async()=>{try{if(!n)return;const d=await(await ge(async()=>{const{apiGetMetadata:v}=await Promise.resolve().then(()=>ve);return{apiGetMetadata:v}},void 0,import.meta.url)).apiGetMetadata(n);Lf({cameras:d.cameras||[],places:d.places||[]})}catch{}},[n]),$f=S.useCallback(async()=>{M.setBusy("Indexing"),M.setNote("");try{const d=await ea(n,r,32,f?l:void 0,m?s:void 0);M.setNote(`Indexed. New ${d.new}, Updated ${d.updated}, Total ${d.total}`),await dn(120,0)}catch(d){M.setNote(d instanceof Error?d.message:"Index failed")}finally{M.setBusy("")}},[n,r,f,l,m,s,dn,M]),fr=S.useCallback(async d=>{var C;const v=(d??ie??"").trim();if(v){w.setQuery(v),M.setBusy("Searching"),M.setNote("");try{const H=R.tagFilter.split(",").map(Ce=>Ce.trim()).filter(Boolean),D=Z.filter(Boolean);let te;const Re=un?Math.floor(new Date(un).getTime()/1e3):void 0,Pe=Pn?Math.floor(new Date(Pn).getTime()/1e3):void 0;B?te=await aa(n,v,r,T,{favoritesOnly:F,tags:H,dateFrom:Re,dateTo:Pe,place:g||void 0,hasText:y,...D.length===1?{person:D[0]}:D.length>1?{persons:D}:{}}):te=await ta(n,v,r,T,{hfToken:f?l:void 0,openaiKey:m?s:void 0,favoritesOnly:F,tags:H,dateFrom:Re,dateTo:Pe,...o?{useFast:!0,fastKind:a||void 0}:{},useCaptions:u,useOcr:c,camera:j||void 0,isoMin:N?parseInt(N,10):void 0,isoMax:k?parseInt(k,10):void 0,fMin:O?parseFloat(O):void 0,fMax:p?parseFloat(p):void 0,place:g||void 0,hasText:y||void 0,...D.length===1?{person:D[0]}:D.length>1?{persons:D}:{}});let q=te.results||[];al>0&&(q=q.filter(Ce=>(Ls[Ce.path]||0)>=al)),w.setResults(q),w.setSearchId(te.search_id||""),M.setNote(`Found ${((C=te.results)==null?void 0:C.length)||0} results.`),await Promise.all([cn(),ul(),kt(),cl()]),ne("results")}catch(H){M.setNote(H instanceof Error?H.message:"Search failed")}finally{M.setBusy("")}}},[ie,w,M,R,Z,un,Pn,B,n,r,T,F,g,y,f,l,m,s,o,a,u,c,j,N,k,O,p,al,Ls,cn,ul,kt,cl]),Af=S.useCallback(async d=>{M.setBusy(`Preparing ${d.toUpperCase()}`);try{await ia(n,d,r,f?l:void 0,m?s:void 0),M.setNote(`${d.toUpperCase()} ready`)}catch(v){M.setNote(v instanceof Error?v.message:"Failed to build index")}finally{M.setBusy("")}},[n,r,f,l,m,s,M]),Uf=S.useCallback(async()=>{M.setBusy("Extracting text (OCR)");try{const d=await oa(n,r,["en"],f?l:void 0,m?s:void 0);M.setNote(`OCR updated ${d.updated} images`),await kt()}catch(d){M.setNote(d instanceof Error?d.message:"OCR failed")}finally{M.setBusy("")}},[n,r,f,l,m,s,kt,M]),Bf=S.useCallback(async()=>{M.setBusy("Building metadata");try{const d=await sf(n,r,f?l:void 0,m?s:void 0);M.setNote(`Metadata ready (${d.updated})`)}catch(d){M.setNote(d instanceof Error?d.message:"Metadata build failed")}finally{M.setBusy("")}},[n,r,f,l,m,s,M]),Os=S.useCallback(d=>{bt(v=>{const C=new Set(v);return C.has(d)?C.delete(d):C.add(d),C})},[]),Vf=S.useCallback(async d=>{if(!(!n||X.size===0))try{const v=await lf(n,Array.from(X),d,"copy",!1,!1);M.setNote(`Exported ${v.copied}, skipped ${v.skipped}, errors ${v.errors}  ${v.dest}`)}catch(v){M.setNote(v instanceof Error?v.message:"Export failed")}},[n,X,M]),Hf=S.useCallback(d=>{const v=(x||[]).findIndex(C=>C.path===d);v>=0&&U(v)},[x]),pr=S.useCallback(d=>{U(v=>{if(v===null)return null;const C=v+d;return!x||C<0||C>=x.length?v:C})},[x]),Wf=S.useCallback(async d=>{if(!n||X.size===0)return;const v=d.split(",").map(C=>C.trim()).filter(Boolean);try{const{apiSetTags:C}=await ge(async()=>{const{apiSetTags:H}=await Promise.resolve().then(()=>ve);return{apiSetTags:H}},void 0,import.meta.url);await Promise.all(Array.from(X).map(H=>C(n,H,v))),M.setNote(`Updated tags for ${X.size} photos`),await kt()}catch(C){M.setNote(C instanceof Error?C.message:"Tag update failed")}},[n,X,kt,M]);S.useCallback(async d=>{if(!(!n||X.size===0))try{const{apiSetTags:v}=await ge(async()=>{const{apiSetTags:D}=await Promise.resolve().then(()=>ve);return{apiSetTags:D}},void 0,import.meta.url),C=/^rating:[1-5]$/,H=Array.from(X);await Promise.all(H.map(async D=>{var Pe;const te=(((Pe=R==null?void 0:R.tagsMap)==null?void 0:Pe[D])||[]).filter(q=>!C.test(q)),Re=d===0?te:[...te,`rating:${d}`];await v(n,D,Re)})),M.setNote(d===0?`Cleared rating for ${X.size}`:`Set rating ${d} for ${X.size}`),await kt()}catch(v){M.setNote(v instanceof Error?v.message:"Rating update failed")}},[n,X,R,kt,M]),S.useEffect(()=>{if(!e)return;const d=P||"";Ke(v=>v===d?v:d)},[P,e]),S.useEffect(()=>{n&&(cn(),ul(),kt(),cl(),Fs(),ga(0),dn(va,0),xa())},[n,cn,ul,kt,cl,Fs,dn,xa]),S.useEffect(()=>{if(!e)return;const d=(x==null?void 0:x.length)??0;ye(v=>{const C=d>0?v===null?0:Math.min(v,d-1):null;return Object.is(v,C)?v:C})},[x==null?void 0:x.length,e]),S.useEffect(()=>{function d(v){var D,te,Re,Pe;const C=v.target;if(C&&(C.tagName==="INPUT"||C.tagName==="TEXTAREA"||C.isContentEditable)||cr||oe||Tn)return;if(v.key==="/"){v.preventDefault(),(D=ha.current)==null||D.focus();return}if(v.key==="?"||v.shiftKey&&v.key==="/"){v.preventDefault(),dr(!0);return}if(!(J!=="results"||!(((x==null?void 0:x.length)||0)>0))){if(v.key==="Escape"){U(null);return}if(Qe!==null){if((v.key==="ArrowLeft"||v.key==="k")&&(v.preventDefault(),pr(-1)),(v.key==="ArrowRight"||v.key==="j")&&(v.preventDefault(),pr(1)),v.key.toLowerCase()==="f"){v.preventDefault();const q=(te=x==null?void 0:x[Qe])==null?void 0:te.path;if(!q)return;tn(n,q,!L.includes(q)).then(cn).catch(()=>{})}return}if(v.key.toLowerCase()==="a"){v.preventDefault(),bt(new Set((x??[]).map(q=>q.path)));return}if(v.key.toLowerCase()==="c"){v.preventDefault(),bt(new Set);return}if(v.key.toLowerCase()==="f"&&K!==null){v.preventDefault();const q=(Re=x==null?void 0:x[K])==null?void 0:Re.path;if(!q)return;tn(n,q,!L.includes(q)).then(cn).catch(()=>{});return}if(v.key==="Enter"&&K!==null){v.preventDefault(),U(K);return}if(v.key===" "&&K!==null){v.preventDefault();const q=(Pe=x==null?void 0:x[K])==null?void 0:Pe.path;if(!q)return;Os(q);return}if(v.key==="ArrowLeft"){v.preventDefault(),K!==null&&ye(Math.max(0,K-1));return}if(v.key==="ArrowRight"){v.preventDefault(),K!==null&&ye(Math.min(((x==null?void 0:x.length)??1)-1,K+1));return}if(v.key==="ArrowUp"&&K!==null){v.preventDefault();const q=il.current;let Ce=q.findIndex(Ie=>Ie.includes(K));if(Ce>0){const Ie=q[Ce].indexOf(K),ft=q[Ce-1],fn=ft[Math.min(Ie,ft.length-1)];typeof fn=="number"&&ye(fn)}return}if(v.key==="ArrowDown"&&K!==null){v.preventDefault();const q=il.current;let Ce=q.findIndex(Ie=>Ie.includes(K));if(Ce>=0&&Ce<q.length-1){const Ie=q[Ce].indexOf(K),ft=q[Ce+1],fn=ft[Math.min(Ie,ft.length-1)];typeof fn=="number"&&ye(fn)}return}if(v.key==="Home"){v.preventDefault(),ye(0);return}if(v.key==="End"){v.preventDefault(),ye(x.length-1);return}if((v.key==="PageUp"||v.key==="PageDown")&&K!==null){v.preventDefault();const q=3,Ce=il.current,Ie=Ce.findIndex(ft=>ft.includes(K));if(Ie>=0){const ft=Ce[Ie].indexOf(K),fn=v.key==="PageUp"?Math.max(0,Ie-q):Math.min(Ce.length-1,Ie+q),wa=Ce[fn],ka=wa[Math.min(ft,wa.length-1)];typeof ka=="number"&&ye(ka)}return}}}return window.addEventListener("keydown",d),()=>window.removeEventListener("keydown",d)},[J,x==null?void 0:x.length,Qe,n,L,pr,Os,cr,oe,Tn]),S.useEffect(()=>{if(K===null)return;const d=document.getElementById("modern-results-grid"),v=d==null?void 0:d.querySelector(`[data-photo-idx="${K}"]`);v&&v.scrollIntoView({block:"nearest",inline:"nearest"})},[K]);const Kf=()=>i.jsxs("div",{className:"p-4",children:[i.jsx(jf,{dir:n,engine:r,library:le,onLoadLibrary:dn}),i.jsx(ug,{selectedView:J,libOffset:Of,libLimit:va,libLoading:Rf,onLoadMore:S.useCallback((d,v)=>dn(d,v,!0),[dn]),setLibOffset:ga,setLibLoading:If,scrollContainerRef:Ms})]}),Qf=()=>i.jsxs("div",{className:"w-64 bg-gray-50 border-r border-gray-200 flex flex-col",children:[i.jsxs("div",{className:"p-4 border-b border-gray-200",children:[i.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"PhotoVault"}),i.jsx("p",{className:"text-sm text-gray-500",children:"AI-Powered Photo Management"})]}),i.jsxs("nav",{className:"flex-1 p-4 space-y-6 overflow-y-auto",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-3",children:"Library"}),i.jsx("div",{className:"space-y-1",children:[{id:"library",label:"All Photos",icon:Fu,count:(le==null?void 0:le.length)||0},{id:"results",label:"Search Results",icon:bl},{id:"map",label:"Map View",icon:qy},{id:"people",label:"People",icon:Ru},{id:"collections",label:"Collections",icon:ui},{id:"smart",label:"Smart Collections",icon:Ou},{id:"trips",label:"Trips",icon:Gy},{id:"saved",label:"Saved Searches",icon:Qy},{id:"memories",label:"Memories",icon:Ou},{id:"tasks",label:"Tasks",icon:Yy}].map(d=>i.jsxs("button",{type:"button",onClick:()=>ne(d.id),className:`w-full flex items-center justify-between px-3 py-2 rounded-lg text-sm transition-colors ${J===d.id?"bg-blue-500 text-white":"text-gray-700 hover:bg-gray-100"}`,children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(d.icon,{className:"w-4 h-4"}),i.jsx("span",{children:d.label})]}),d.count?i.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${J===d.id?"bg-white/20":"bg-gray-200 text-gray-600"}`,children:d.count}):null]},d.id))})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-3",children:"Quick Collections"}),i.jsx("div",{className:"space-y-1",children:Object.entries(W||{}).slice(0,5).map(([d,v])=>i.jsxs("button",{type:"button",onClick:()=>ne("collections"),className:"w-full flex items-center justify-between px-3 py-2 rounded-lg text-sm text-gray-700 hover:bg-gray-100 transition-colors",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-400"}),i.jsx("span",{children:d})]}),i.jsx("span",{className:"text-xs text-gray-500",children:v.length})]},d))})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-3",children:"People"}),i.jsx("div",{className:"space-y-1",children:(_||[]).slice(0,6).map(d=>i.jsxs("button",{type:"button",className:"w-full flex items-center justify-between px-3 py-2 rounded-lg text-sm text-gray-700 hover:bg-gray-100 transition-colors",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Ru,{className:"w-4 h-4"}),i.jsx("span",{children:d.name||"Unnamed"})]}),i.jsx("span",{className:"text-xs text-gray-500",children:d.size})]},d.id))})]})]}),i.jsx("div",{className:"p-4 border-t border-gray-200",children:i.jsxs("button",{type:"button",className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",onClick:()=>{const d=window.prompt("Photo folder path:");d&&A.setDir(d)},children:[i.jsx(rg,{className:"w-4 h-4"}),i.jsx("span",{children:"Select Folder"})]})})]}),Gf=()=>i.jsxs("div",{className:"bg-white border-b border-gray-200 p-4",children:[we&&i.jsx("div",{className:"h-1 w-full bg-blue-100 mb-2 overflow-hidden rounded",children:i.jsx("div",{className:"h-full bg-blue-500 animate-pulse w-1/3"})}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-4 flex-1 max-w-2xl",children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsx(bl,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-4 h-4"}),i.jsx("input",{type:"text",placeholder:"Search by content, people, places",value:ie,onChange:d=>{Ke(d.target.value),ol(!0)},onKeyDown:d=>{d.key==="Enter"&&fr(ie)},onFocus:()=>ol(!0),onBlur:()=>setTimeout(()=>ol(!1),120),ref:ha,className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),Mf&&i.jsx("div",{className:"absolute z-50 mt-1 w-full bg-white border border-gray-200 rounded shadow max-h-64 overflow-auto text-sm",children:(()=>{const d=ie.toLowerCase(),v=(_||[]).map(D=>D.name).filter(Boolean),C=[];for(const D of v)(!d||D.toLowerCase().includes(d))&&C.push({cat:"People",label:D});for(const D of R.allTags||[])(!d||D.toLowerCase().includes(d))&&C.push({cat:"Tag",label:D});for(const D of ya.cameras||[])(!d||D.toLowerCase().includes(d))&&C.push({cat:"Camera",label:D});for(const D of ya.places||[])(!d||String(D).toLowerCase().includes(d))&&C.push({cat:"Place",label:String(D)});const H=C.slice(0,20);return H.length===0?i.jsx("div",{className:"px-3 py-2 text-gray-500",children:"No suggestions"}):H.map((D,te)=>i.jsxs("button",{type:"button",className:"w-full flex items-center justify-between px-3 py-2 hover:bg-gray-50",onMouseDown:Re=>{Re.preventDefault(),Ke(D.label),ol(!1),setTimeout(()=>fr(D.label),0)},children:[i.jsxs("span",{className:"truncate",children:[i.jsxs("span",{className:"text-gray-500 mr-2",children:[D.cat,":"]}),D.label]}),i.jsx("span",{className:"text-xs text-gray-400",children:""})]},`${D.cat}:${D.label}`))})()})]}),i.jsxs("button",{type:"button",className:"flex items-center gap-2 px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",onClick:()=>an(d=>!d),children:[i.jsx(Zy,{className:"w-4 h-4"}),i.jsx("span",{className:"text-sm",children:"Filters"})]}),i.jsxs("button",{type:"button",className:"flex items-center gap-2 px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",onClick:()=>G({kind:"save"}),title:"Save search",children:[i.jsx(Ky,{className:"w-4 h-4"}),i.jsx("span",{className:"text-sm",children:"Save"})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"flex items-center bg-gray-100 rounded-lg p-1",children:["small","medium","large"].map(d=>i.jsx("button",{type:"button",onClick:()=>sl(d),className:`px-3 py-1 text-xs rounded-md transition-colors ${ll===d?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:d.charAt(0).toUpperCase()+d.slice(1)},d))}),i.jsxs("div",{className:"flex items-center bg-gray-100 rounded-lg p-1",children:[i.jsx("button",{type:"button",onClick:()=>ne("results"),className:`p-2 rounded-md transition-colors ${J==="results"?"bg-white shadow-sm":"hover:bg-gray-200"}`,children:i.jsx(Fu,{className:"w-4 h-4"})}),i.jsx("button",{type:"button",onClick:()=>ne("library"),className:`p-2 rounded-md transition-colors ${J==="library"?"bg-white shadow-sm":"hover:bg-gray-200"}`,children:i.jsx(Jy,{className:"w-4 h-4"})})]}),i.jsx("button",{type:"button",className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",title:"Settings & Indexing",onClick:()=>G({kind:"folder"}),children:i.jsx(eg,{className:"w-4 h-4"})}),i.jsx("button",{type:"button",className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",title:"Toggle theme",onClick:()=>{try{const v=document.documentElement.classList.toggle("dark");localStorage.setItem("ps_theme",v?"dark":"light")}catch{}},children:i.jsx("span",{"aria-hidden":!0,children:""})})]})]}),i.jsx("div",{className:"flex items-center gap-2 mt-4",children:["All","Today","This Week","This Month","Favorites","People","Screenshots"].map(d=>i.jsx("button",{type:"button",onClick:()=>{ur(d.toLowerCase()),d==="Favorites"&&(w.setFavOnly(!0),fr(ie))},className:`px-3 py-1 text-sm rounded-full transition-colors ${ar===d.toLowerCase()?"bg-blue-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:d},d))}),i.jsxs("div",{className:"flex items-center gap-1 mt-2 text-sm",children:[i.jsx("span",{children:"Min rating:"}),[0,1,2,3,4,5].map(d=>i.jsx("button",{type:"button",className:`px-2 py-0.5 rounded ${al===d?"bg-blue-600 text-white":"bg-gray-200"}`,onClick:()=>Ff(d),children:d===0?"Any":`${"".repeat(d)}`},d))]}),X.size>0&&i.jsxs("div",{className:"flex items-center justify-between mt-4 p-3 bg-blue-50 rounded-lg",children:[i.jsxs("span",{className:"text-sm text-blue-900",children:[X.size," photo",X.size!==1?"s":""," selected"]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("button",{type:"button",className:"flex items-center gap-1 px-3 py-1 text-sm text-blue-700 hover:bg-blue-100 rounded-md transition-colors",onClick:()=>G({kind:"export"}),children:[i.jsx(Xy,{className:"w-4 h-4"}),"Export"]}),i.jsxs("button",{type:"button",className:"flex items-center gap-1 px-3 py-1 text-sm text-blue-700 hover:bg-blue-100 rounded-md transition-colors",onClick:()=>G({kind:"tag"}),children:[i.jsx(tg,{className:"w-4 h-4"}),"Tag"]}),X.size===1&&i.jsxs("button",{type:"button",className:"flex items-center gap-1 px-3 py-1 text-sm text-blue-700 hover:bg-blue-100 rounded-md transition-colors",onClick:async()=>{const d=Array.from(X)[0],{apiSearchLike:v}=await ge(async()=>{const{apiSearchLike:C}=await Promise.resolve().then(()=>ve);return{apiSearchLike:C}},void 0,import.meta.url);M.setBusy("Searching similar");try{const C=await v(n,d,r,T);w.setResults(C.results||[]),ne("results")}catch(C){M.setNote(C instanceof Error?C.message:"Search failed")}finally{M.setBusy("")}},children:[i.jsx(bl,{className:"w-4 h-4"})," Similar"]}),X.size===1&&i.jsxs("button",{type:"button",className:"flex items-center gap-1 px-3 py-1 text-sm text-blue-700 hover:bg-blue-100 rounded-md transition-colors",onClick:()=>G({kind:"likeplus"}),children:[i.jsx(bl,{className:"w-4 h-4"})," Similar + Text"]}),i.jsxs("button",{type:"button",className:"flex items-center gap-1 px-3 py-1 text-sm text-blue-700 hover:bg-blue-100 rounded-md transition-colors",onClick:()=>G({kind:"collect"}),children:[i.jsx(ui,{className:"w-4 h-4"})," Add to Collection"]}),i.jsxs("button",{type:"button",className:"flex items-center gap-1 px-3 py-1 text-sm text-blue-700 hover:bg-blue-100 rounded-md transition-colors",onClick:()=>G({kind:"removeCollect"}),children:[i.jsx(ui,{className:"w-4 h-4 rotate-180"})," Remove from Collection"]}),i.jsxs("button",{type:"button",className:"flex items-center gap-1 px-3 py-1 text-sm text-red-700 hover:bg-red-100 rounded-md transition-colors",onClick:async()=>{if(X.size!==0&&confirm(`Move ${X.size} item(s) to Trash?`))try{M.setBusy("Deleting");const d=await cf(n,Array.from(X),h);M.setNote(`Moved ${d.moved} to ${h?"OS Trash":"Trash"}`),bt(new Set),h?$t({message:`Moved ${d.moved} to OS Trash`}):(wt.current&&window.clearTimeout(wt.current),$t({message:`Moved ${d.moved} to Trash`,actionLabel:"Undo",onAction:async()=>{try{const v=await df(n);M.setNote(`Restored ${v.restored}`)}catch{}$t(null),wt.current&&(window.clearTimeout(wt.current),wt.current=null)}}),wt.current=window.setTimeout(()=>{$t(null),wt.current=null},1e4))}catch(d){M.setNote(d instanceof Error?d.message:"Delete failed")}finally{M.setBusy("")}},children:[i.jsx(ng,{className:"w-4 h-4"}),"Delete"]})]})]})]}),Yf=()=>{const d=Df.length,v=((b==null?void 0:b.engines)||[]).find(H=>H.key===r),C=(v==null?void 0:v.fast)&&(v.fast.annoy||v.fast.faiss||v.fast.hnsw);return i.jsx("div",{className:"bg-gray-50 border-t border-gray-200 p-4",children:i.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[i.jsxs("div",{className:"flex items-center gap-6",children:[i.jsxs("span",{children:[d," photos"]}),V?i.jsx("span",{className:"text-gray-800",children:V}):null]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:`w-2 h-2 ${v!=null&&v.count?"bg-green-500":"bg-gray-300"} rounded-full`}),i.jsxs("span",{children:["AI Index ",v!=null&&v.count?"Ready":"Empty"]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:`w-2 h-2 ${C?"bg-blue-500":"bg-gray-300"} rounded-full`}),i.jsxs("span",{children:["Fast Index ",C?"Ready":""]})]})]})]})})};return i.jsxs("div",{className:"flex h-screen bg-white dark:bg-gray-950 dark:text-gray-100",children:[i.jsx(Qf,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(Gf,{}),i.jsxs("div",{className:"flex-1 overflow-auto",ref:Ms,children:[J==="results"&&i.jsx("div",{className:"p-4",children:i.jsx(lg,{dir:n,engine:r,items:(x||[]).map(d=>({path:d.path,score:d.score})),selected:X,onToggleSelect:Os,onOpen:d=>Hf(d),scrollContainerRef:Ms,focusIndex:K??void 0,onLayout:d=>Tf(v=>Pf(v,d)?v:d),ratingMap:Ls})}),J==="library"&&i.jsx(Kf,{}),J==="people"&&i.jsx("div",{className:"p-4",children:i.jsx(Cf,{dir:n,engine:r,clusters:_||[],persons:Z,setPersons:Q.setPersons,busy:we,setBusy:M.setBusy,setNote:M.setNote,onLoadFaces:Fs})}),J==="map"&&i.jsx("div",{className:"p-4",children:i.jsx(Ef,{points:$||[],onLoadMap:zf})}),J==="collections"&&i.jsx("div",{className:"p-4",children:i.jsx(Sf,{dir:n,engine:r,collections:W,onLoadCollections:async()=>{const{apiGetCollections:d}=await ge(async()=>{const{apiGetCollections:C}=await Promise.resolve().then(()=>ve);return{apiGetCollections:C}},void 0,import.meta.url),v=await d(n);w.setCollections(v.collections||{})},onOpen:d=>{const v=(W==null?void 0:W[d])||[];w.setResults(v.map(C=>({path:C,score:0}))),ne("results"),M.setNote(`${v.length} in ${d}`)},onDelete:async d=>{try{const{apiDeleteCollection:v,apiGetCollections:C}=await ge(async()=>{const{apiDeleteCollection:D,apiGetCollections:te}=await Promise.resolve().then(()=>ve);return{apiDeleteCollection:D,apiGetCollections:te}},void 0,import.meta.url);await v(n,d);const H=await C(n);w.setCollections(H.collections||{}),$t({message:`Deleted collection ${d}`})}catch(v){M.setNote(v instanceof Error?v.message:"Delete failed")}}})}),J==="saved"&&i.jsx("div",{className:"p-4",children:i.jsx(sg,{saved:I,onRun:(d,v,C)=>{Ke(v),C&&w.setTopK(C),fr(v)},onDelete:async d=>{try{const{apiDeleteSaved:v,apiGetSaved:C}=await ge(async()=>{const{apiDeleteSaved:D,apiGetSaved:te}=await Promise.resolve().then(()=>ve);return{apiDeleteSaved:D,apiGetSaved:te}},void 0,import.meta.url);await v(n,d);const H=await C(n);w.setSaved(H.saved||[])}catch(v){M.setNote(v instanceof Error?v.message:"Delete failed")}}})}),J==="memories"&&i.jsxs("div",{className:"p-4 space-y-4",children:[i.jsxs("div",{className:"bg-white border rounded p-3",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsx("div",{className:"font-semibold",children:"Recent Favorites"})}),L.length===0?i.jsx("div",{className:"text-sm text-gray-600 mt-2",children:"No favorites yet."}):i.jsx("div",{className:"mt-2 grid grid-cols-3 md:grid-cols-5 lg:grid-cols-8 gap-2",children:L.slice(0,24).map(d=>i.jsx("img",{src:_t(n,r,d,196),alt:ag(d),className:"w-full h-24 object-cover rounded"},d))})]}),i.jsx("div",{children:i.jsx(lo,{dir:n,engine:r,setBusy:M.setBusy,setNote:M.setNote,setResults:w.setResults})})]}),J==="tasks"&&i.jsx("div",{className:"p-4",children:i.jsx(og,{})}),J==="smart"&&i.jsx("div",{className:"p-4",children:i.jsx(_f,{dir:n,engine:r,topK:T,smart:fe,setSmart:w.setSmart,setResults:w.setResults,setSearchId:w.setSearchId,setNote:M.setNote,query:P,favOnly:F,tagFilter:R.tagFilter,useCaps:u,useOcr:c,hasText:y,camera:j,isoMin:N,isoMax:k,fMin:O,fMax:p,place:g,persons:Z})}),J==="trips"&&i.jsx("div",{className:"p-4",children:i.jsx(lo,{dir:n,engine:r,setBusy:M.setBusy,setNote:M.setNote,setResults:w.setResults})})]}),i.jsx(Yf,{}),Tn&&i.jsxs("div",{className:"absolute right-6 top-20 z-50 bg-white border border-gray-200 shadow-lg rounded-lg p-4 w-96",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("div",{className:"font-semibold",children:"Filters"}),i.jsx("button",{type:"button",className:"text-sm text-gray-500",onClick:()=>an(!1),children:"Close"})]}),i.jsxs("div",{className:"space-y-3 text-sm",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("label",{htmlFor:"flt-fav",children:"Favorites only"}),i.jsx("input",{id:"flt-fav",type:"checkbox",checked:F,onChange:d=>w.setFavOnly(d.target.checked)})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block mb-1",htmlFor:"flt-tags",children:"Tags (comma)"}),i.jsx("input",{id:"flt-tags",className:"w-full border rounded px-2 py-1",value:R.tagFilter,onChange:d=>w.setTagFilter(d.target.value)})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block mb-1",htmlFor:"flt-camera",children:"Camera"}),i.jsx("input",{id:"flt-camera",className:"w-full border rounded px-2 py-1",value:j,onChange:d=>A.setCamera(d.target.value)})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block mb-1",htmlFor:"flt-iso-min",children:"ISO min"}),i.jsx("input",{id:"flt-iso-min",className:"w-full border rounded px-2 py-1",value:N,onChange:d=>A.setIsoMin(d.target.value)})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block mb-1",htmlFor:"flt-iso-max",children:"ISO max"}),i.jsx("input",{id:"flt-iso-max",className:"w-full border rounded px-2 py-1",value:k,onChange:d=>A.setIsoMax(d.target.value)})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block mb-1",htmlFor:"flt-date-from",children:"Date from"}),i.jsx("input",{id:"flt-date-from",type:"date",className:"w-full border rounded px-2 py-1",value:un,onChange:d=>Ts(d.target.value)})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block mb-1",htmlFor:"flt-date-to",children:"Date to"}),i.jsx("input",{id:"flt-date-to",type:"date",className:"w-full border rounded px-2 py-1",value:Pn,onChange:d=>Ps(d.target.value)})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block mb-1",htmlFor:"flt-fmin",children:"f/ min"}),i.jsx("input",{id:"flt-fmin",className:"w-full border rounded px-2 py-1",value:O,onChange:d=>A.setFMin(d.target.value)})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block mb-1",htmlFor:"flt-fmax",children:"f/ max"}),i.jsx("input",{id:"flt-fmax",className:"w-full border rounded px-2 py-1",value:p,onChange:d=>A.setFMax(d.target.value)})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block mb-1",htmlFor:"flt-place",children:"Place"}),i.jsx("input",{id:"flt-place",className:"w-full border rounded px-2 py-1",value:g,onChange:d=>A.setPlace(d.target.value)})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("label",{htmlFor:"flt-caps",children:"Use captions"}),i.jsx("input",{id:"flt-caps",type:"checkbox",checked:u,onChange:d=>A.setUseCaps(d.target.checked)})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("label",{htmlFor:"flt-ocr",children:"Use OCR"}),i.jsx("input",{id:"flt-ocr",type:"checkbox",checked:c,onChange:d=>A.setUseOcr(d.target.checked)})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("label",{htmlFor:"flt-hastext",children:"Has text"}),i.jsx("input",{id:"flt-hastext",type:"checkbox",checked:y,onChange:d=>A.setHasText(d.target.checked)})]}),i.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[i.jsx("button",{type:"button",className:"px-3 py-1 rounded border",onClick:()=>an(!1),children:"Cancel"}),i.jsx("button",{type:"button",className:"px-3 py-1 rounded bg-blue-600 text-white",onClick:()=>{an(!1),fr(ie)},children:"Apply"})]})]})]}),(oe==null?void 0:oe.kind)==="export"&&i.jsx("div",{className:"fixed inset-0 z-50 bg-black/40 flex items-center justify-center",onKeyDown:d=>{d.key==="Escape"&&G(null)},children:i.jsx(pn,{onEscape:()=>G(null),children:i.jsxs("div",{className:"bg-white rounded-lg p-4 w-full max-w-md",role:"dialog","aria-modal":"true",children:[i.jsx("div",{className:"font-semibold mb-2",children:"Export Selected"}),i.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Choose destination folder"}),i.jsxs("form",{onSubmit:d=>{d.preventDefault();const C=d.target.elements.namedItem("dest").value.trim();C&&(Vf(C),G(null))},children:[i.jsx("input",{name:"dest",className:"w-full border rounded px-2 py-1",placeholder:"/absolute/path"}),i.jsxs("div",{className:"mt-3 flex justify-end gap-2",children:[i.jsx("button",{type:"button",className:"px-3 py-1 rounded border",onClick:()=>G(null),children:"Cancel"}),i.jsx("button",{type:"submit",className:"px-3 py-1 rounded bg-blue-600 text-white",children:"Export"})]})]})]})})}),(oe==null?void 0:oe.kind)==="tag"&&i.jsx("div",{className:"fixed inset-0 z-50 bg-black/40 flex items-center justify-center",onKeyDown:d=>{d.key==="Escape"&&G(null)},children:i.jsx(pn,{onEscape:()=>G(null),children:i.jsxs("div",{className:"bg-white rounded-lg p-4 w-full max-w-md",role:"dialog","aria-modal":"true",children:[i.jsx("div",{className:"font-semibold mb-2",children:"Tag Selected"}),i.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Enter comma-separated tags"}),i.jsxs("form",{onSubmit:d=>{d.preventDefault();const C=d.target.elements.namedItem("tags").value.trim();C&&(Wf(C),G(null))},children:[i.jsx("input",{name:"tags",className:"w-full border rounded px-2 py-1",placeholder:"family, beach, 2024"}),i.jsxs("div",{className:"mt-3 flex justify-end gap-2",children:[i.jsx("button",{type:"button",className:"px-3 py-1 rounded border",onClick:()=>G(null),children:"Cancel"}),i.jsx("button",{type:"submit",className:"px-3 py-1 rounded bg-blue-600 text-white",children:"Save"})]})]})]})})}),(oe==null?void 0:oe.kind)==="folder"&&i.jsx("div",{className:"fixed inset-0 z-50 bg-black/40 flex items-center justify-center",onKeyDown:d=>{d.key==="Escape"&&G(null)},children:i.jsx(pn,{onEscape:()=>G(null),children:i.jsxs("div",{className:"bg-white rounded-lg p-4 w-full max-w-md",role:"dialog","aria-modal":"true",children:[i.jsx("div",{className:"font-semibold mb-2",children:"Set Photo Folder"}),i.jsxs("form",{onSubmit:d=>{d.preventDefault();const C=d.target.elements.namedItem("path").value.trim();C&&(A.setDir(C),G(null))},children:[i.jsx("label",{htmlFor:"sel-folder",className:"block text-sm mb-1",children:"Folder path"}),i.jsx("input",{id:"sel-folder",name:"path",className:"w-full border rounded px-2 py-1",placeholder:"/absolute/folder",defaultValue:n}),i.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[i.jsx("label",{htmlFor:"use-os-trash",className:"text-sm",children:"Use OS Trash (no Undo)"}),i.jsx("input",{id:"use-os-trash",type:"checkbox",checked:h,onChange:d=>A.setUseOsTrash(d.target.checked)})]}),i.jsxs("div",{className:"mt-4 border-t pt-3",children:[i.jsx("div",{className:"font-medium mb-2",children:"Preferences"}),i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("label",{htmlFor:"pref-fast",children:"Use Fast Index"}),i.jsx("input",{id:"pref-fast",type:"checkbox",checked:o,onChange:d=>A.setUseFast(d.target.checked)})]}),i.jsxs("div",{className:"flex items-center justify-between gap-2",children:[i.jsx("label",{htmlFor:"pref-fastkind",children:"Fast Kind"}),i.jsxs("select",{id:"pref-fastkind",className:"border rounded px-2 py-1",value:a,onChange:d=>A.setFastKind(d.target.value),children:[i.jsx("option",{value:"",children:"Auto"}),i.jsx("option",{value:"annoy",children:"Annoy"}),i.jsx("option",{value:"faiss",children:"FAISS"}),i.jsx("option",{value:"hnsw",children:"HNSW"})]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("label",{htmlFor:"pref-caps",children:"Use Captions"}),i.jsx("input",{id:"pref-caps",type:"checkbox",checked:u,onChange:d=>A.setUseCaps(d.target.checked)})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("label",{htmlFor:"pref-ocr",children:"Use OCR"}),i.jsx("input",{id:"pref-ocr",type:"checkbox",checked:c,onChange:d=>A.setUseOcr(d.target.checked)})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("label",{htmlFor:"pref-hastext",children:"Default: Has Text"}),i.jsx("input",{id:"pref-hastext",type:"checkbox",checked:y,onChange:d=>A.setHasText(d.target.checked)})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"pref-vlm",className:"block mb-1",children:"VLM Model"}),i.jsx("input",{id:"pref-vlm",className:"w-full border rounded px-2 py-1",defaultValue:"",onChange:d=>{}})]})]})]}),i.jsxs("div",{className:"mt-3 flex justify-between gap-2",children:[i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{type:"button",className:"px-3 py-1 rounded border",onClick:$f,children:"Index"}),i.jsx("button",{type:"button",className:"px-3 py-1 rounded border",onClick:()=>Af("annoy"),children:"Fast"}),i.jsx("button",{type:"button",className:"px-3 py-1 rounded border",onClick:Uf,children:"OCR"}),i.jsx("button",{type:"button",className:"px-3 py-1 rounded border",onClick:Bf,children:"Metadata"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{type:"button",className:"px-3 py-1 rounded border",onClick:()=>G(null),children:"Close"}),i.jsx("button",{type:"submit",className:"px-3 py-1 rounded bg-blue-600 text-white",children:"Save"})]})]})]})]})})}),(oe==null?void 0:oe.kind)==="likeplus"&&i.jsx("div",{className:"fixed inset-0 z-50 bg-black/40 flex items-center justify-center",onKeyDown:d=>{d.key==="Escape"&&G(null)},children:i.jsx(pn,{onEscape:()=>G(null),children:i.jsxs("div",{className:"bg-white rounded-lg p-4 w-full max-w-md",role:"dialog","aria-modal":"true",children:[i.jsx("div",{className:"font-semibold mb-2",children:"Similar + Text"}),i.jsxs("form",{onSubmit:async d=>{d.preventDefault();const v=d.target,C=v.elements.namedItem("text").value.trim(),H=parseFloat(v.elements.namedItem("weight").value);if(X.size===1)try{const D=Array.from(X)[0],{apiSearchLikePlus:te}=await ge(async()=>{const{apiSearchLikePlus:Pe}=await Promise.resolve().then(()=>ve);return{apiSearchLikePlus:Pe}},void 0,import.meta.url);M.setBusy("Searching");const Re=await te(n,D,r,T,C||void 0,Number.isNaN(H)?.5:H);w.setResults(Re.results||[]),ne("results")}catch(D){M.setNote(D instanceof Error?D.message:"Search failed")}finally{M.setBusy("")}G(null)},children:[i.jsx("label",{className:"block text-sm mb-1",htmlFor:"likeplus-text",children:"Text (optional)"}),i.jsx("input",{id:"likeplus-text",name:"text",className:"w-full border rounded px-2 py-1",placeholder:"e.g. beach at sunset"}),i.jsx("label",{className:"block text-sm mt-3 mb-1",htmlFor:"mix-weight",children:"Weight (image vs text)"}),i.jsx("input",{id:"mix-weight",name:"weight",type:"range",min:"0",max:"1",step:"0.05",defaultValue:"0.5",className:"w-full"}),i.jsxs("div",{className:"mt-3 flex justify-end gap-2",children:[i.jsx("button",{type:"button",className:"px-3 py-1 rounded border",onClick:()=>G(null),children:"Cancel"}),i.jsx("button",{type:"submit",className:"px-3 py-1 rounded bg-blue-600 text-white",children:"Search"})]})]})]})})}),(oe==null?void 0:oe.kind)==="save"&&i.jsx("div",{className:"fixed inset-0 z-50 bg-black/40 flex items-center justify-center",onKeyDown:d=>{d.key==="Escape"&&G(null)},children:i.jsx(pn,{onEscape:()=>G(null),children:i.jsxs("div",{className:"bg-white rounded-lg p-4 w-full max-w-md",role:"dialog","aria-modal":"true",children:[i.jsx("div",{className:"font-semibold mb-2",children:"Save Search"}),i.jsxs("form",{onSubmit:async d=>{d.preventDefault();const C=d.target.elements.namedItem("name").value.trim();if(C){try{const{apiAddSaved:H,apiGetSaved:D}=await ge(async()=>{const{apiAddSaved:Re,apiGetSaved:Pe}=await Promise.resolve().then(()=>ve);return{apiAddSaved:Re,apiGetSaved:Pe}},void 0,import.meta.url);await H(n,C,ie||P||"",T);const te=await D(n);w.setSaved(te.saved||[]),ne("saved")}catch(H){M.setNote(H instanceof Error?H.message:"Save failed")}G(null)}},children:[i.jsx("label",{className:"block text-sm mb-1",htmlFor:"save-name",children:"Name"}),i.jsx("input",{id:"save-name",name:"name",className:"w-full border rounded px-2 py-1",placeholder:"e.g. Dogs on beach"}),i.jsxs("div",{className:"mt-3 flex justify-end gap-2",children:[i.jsx("button",{type:"button",className:"px-3 py-1 rounded border",onClick:()=>G(null),children:"Cancel"}),i.jsx("button",{type:"submit",className:"px-3 py-1 rounded bg-blue-600 text-white",children:"Save"})]})]})]})})}),(oe==null?void 0:oe.kind)==="collect"&&i.jsx("div",{className:"fixed inset-0 z-50 bg-black/40 flex items-center justify-center",onKeyDown:d=>{d.key==="Escape"&&G(null)},children:i.jsx(pn,{onEscape:()=>G(null),children:i.jsxs("div",{className:"bg-white rounded-lg p-4 w-full max-w-md",role:"dialog","aria-modal":"true",children:[i.jsx("div",{className:"font-semibold mb-2",children:"Add to Collection"}),i.jsxs("form",{onSubmit:async d=>{d.preventDefault();const C=d.target.elements.namedItem("name").value.trim();if(C){try{const{apiSetCollection:H,apiGetCollections:D}=await ge(async()=>{const{apiSetCollection:Re,apiGetCollections:Pe}=await Promise.resolve().then(()=>ve);return{apiSetCollection:Re,apiGetCollections:Pe}},void 0,import.meta.url);await H(n,C,Array.from(X));const te=await D(n);w.setCollections(te.collections||{}),$t({message:`Added ${X.size} to ${C}`})}catch(H){M.setNote(H instanceof Error?H.message:"Collection update failed")}G(null)}},children:[i.jsx("label",{className:"block text-sm mb-1",htmlFor:"col-name",children:"Collection"}),i.jsx("input",{id:"col-name",name:"name",list:"collections-list",className:"w-full border rounded px-2 py-1",placeholder:"Type or choose"}),i.jsx("datalist",{id:"collections-list",children:Object.keys(W||{}).map(d=>i.jsx("option",{value:d,children:d},d))}),i.jsxs("div",{className:"mt-3 flex justify-end gap-2",children:[i.jsx("button",{type:"button",className:"px-3 py-1 rounded border",onClick:()=>G(null),children:"Cancel"}),i.jsx("button",{type:"submit",className:"px-3 py-1 rounded bg-blue-600 text-white",children:"Add"})]})]})]})})}),(oe==null?void 0:oe.kind)==="removeCollect"&&i.jsx("div",{className:"fixed inset-0 z-50 bg-black/40 flex items-center justify-center",onKeyDown:d=>{d.key==="Escape"&&G(null)},children:i.jsx(pn,{onEscape:()=>G(null),children:i.jsxs("div",{className:"bg-white rounded-lg p-4 w-full max-w-md",role:"dialog","aria-modal":"true",children:[i.jsx("div",{className:"font-semibold mb-2",children:"Remove from Collection"}),i.jsxs("form",{onSubmit:async d=>{var H;d.preventDefault();const C=d.target.elements.namedItem("name").value.trim();if(C){try{const{apiGetCollections:D,apiSetCollection:te}=await ge(async()=>{const{apiGetCollections:Ie,apiSetCollection:ft}=await Promise.resolve().then(()=>ve);return{apiGetCollections:Ie,apiSetCollection:ft}},void 0,import.meta.url),Pe=((H=(await D(n)).collections)==null?void 0:H[C])||[],q=Pe.filter(Ie=>!X.has(Ie));await te(n,C,q);const Ce=await D(n);w.setCollections(Ce.collections||{}),$t({message:`Removed ${Pe.length-q.length} from ${C}`})}catch(D){M.setNote(D instanceof Error?D.message:"Collection update failed")}G(null)}},children:[i.jsx("label",{className:"block text-sm mb-1",htmlFor:"col-name-remove",children:"Collection"}),i.jsx("input",{id:"col-name-remove",name:"name",list:"collections-list",className:"w-full border rounded px-2 py-1",placeholder:"Choose collection"}),i.jsx("datalist",{id:"collections-list",children:Object.keys(W||{}).map(d=>i.jsx("option",{value:d,children:d},d))}),i.jsxs("div",{className:"mt-3 flex justify-end gap-2",children:[i.jsx("button",{type:"button",className:"px-3 py-1 rounded border",onClick:()=>G(null),children:"Cancel"}),i.jsx("button",{type:"submit",className:"px-3 py-1 rounded bg-blue-600 text-white",children:"Remove"})]})]})]})})}),Qe!==null&&x&&x[Qe]&&i.jsx(Nf,{dir:n,engine:r,path:x[Qe].path,onPrev:()=>pr(-1),onNext:()=>pr(1),onClose:()=>U(null),onReveal:async()=>{var d;try{const{apiOpen:v}=await ge(async()=>{const{apiOpen:H}=await Promise.resolve().then(()=>ve);return{apiOpen:H}},void 0,import.meta.url),C=x&&Qe!==null?(d=x[Qe])==null?void 0:d.path:void 0;C&&await v(n,C)}catch{}},onFavorite:async()=>{var d;try{const v=x&&Qe!==null?(d=x[Qe])==null?void 0:d.path:void 0;v&&(await tn(n,v,!L.includes(v)),await cn())}catch{}},onMoreLikeThis:async()=>{var d;try{const{apiSearchLike:v}=await ge(async()=>{const{apiSearchLike:D}=await Promise.resolve().then(()=>ve);return{apiSearchLike:D}},void 0,import.meta.url),C=x&&Qe!==null?(d=x[Qe])==null?void 0:d.path:void 0;if(!C)return;M.setBusy("Searching similar");const H=await v(n,C,r,T);w.setResults(H.results||[]),ne("results")}catch(v){M.setNote(v instanceof Error?v.message:"Search failed")}finally{M.setBusy("")}}}),cr&&i.jsxs("div",{className:"fixed inset-0 z-[1060] flex items-center justify-center",children:[i.jsx("button",{type:"button","aria-label":"Close shortcuts overlay",className:"absolute inset-0 w-full h-full bg-black/50",onClick:()=>dr(!1)}),i.jsxs("div",{className:"relative z-[1061] bg-white dark:bg-gray-900 rounded-lg shadow p-5 w-full max-w-lg text-sm",role:"dialog","aria-modal":"true",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("div",{className:"font-semibold",children:"Keyboard Shortcuts"}),i.jsx("button",{type:"button",className:"px-2 py-1 border rounded",onClick:()=>dr(!1),children:"Close"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-x-6 gap-y-2",children:[i.jsxs("div",{children:[i.jsx("span",{className:"font-mono",children:"/"})," Focus search"]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-mono",children:"?"})," Shortcuts help"]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-mono",children:"/"})," Move focus"]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-mono",children:"/"})," Row up/down"]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-mono",children:"Home/End"})," Start/end"]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-mono",children:"PgUp/PgDn"})," Jump rows"]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-mono",children:"Space"})," Select focused"]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-mono",children:"A"})," Select all"]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-mono",children:"C"})," Clear selection"]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-mono",children:"Enter"})," Open lightbox"]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-mono",children:"F"})," Favorite"]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-mono",children:"Esc"})," Close panel/lightbox"]})]})]})]}),!!we&&i.jsx("div",{className:"fixed inset-0 z-[1050] bg-black/40 flex items-center justify-center",role:"status","aria-live":"polite",children:i.jsx("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow p-4 w-full max-w-sm text-sm",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"h-6 w-6 border-2 border-gray-300 dark:border-gray-700 border-t-blue-600 rounded-full animate-spin"}),i.jsxs("div",{className:"min-w-0",children:[i.jsx("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:we}),V&&i.jsx("div",{className:"text-gray-600 dark:text-gray-300 truncate",children:V})]})]})})}),Mn&&i.jsx("div",{className:"fixed bottom-4 left-1/2 -translate-x-1/2 z-[1070]",role:"status","aria-live":"polite",children:i.jsxs("div",{className:"flex items-center gap-3 bg-gray-900 text-white px-4 py-2 rounded shadow",children:[i.jsx("span",{className:"text-sm",children:Mn.message}),Mn.actionLabel&&Mn.onAction&&i.jsx("button",{type:"button",className:"text-sm underline",onClick:Mn.onAction,children:Mn.actionLabel}),i.jsx("button",{type:"button","aria-label":"Close",className:"ml-1",onClick:()=>{$t(null),wt.current&&(window.clearTimeout(wt.current),wt.current=null)},children:""})]})})]})]})}function dg(){return i.jsxs("div",{className:"p-4",children:[i.jsx("h1",{className:"text-2xl font-bold",children:"Test App"}),i.jsx("p",{children:"This is a minimal test to see if React is working."})]})}const ci={};function fg(){const t=new URLSearchParams(window.location.search).get("ui")??(ci==null?void 0:ci.VITE_UI)??"modern";return t==="test"?i.jsx(dg,{}):t==="classic"?i.jsx(By,{}):i.jsx(cg,{})}Gd(document.getElementById("root")).render(fg());

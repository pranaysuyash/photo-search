var rp=Object.defineProperty;var lp=(e,t,n)=>t in e?rp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Mo=(e,t,n)=>lp(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const i of l)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(l){const i={};return l.integrity&&(i.integrity=l.integrity),l.referrerPolicy&&(i.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?i.credentials="include":l.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(l){if(l.ep)return;l.ep=!0;const i=n(l);fetch(l.href,i)}})();function sp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Hc={exports:{}},ds={},Wc={exports:{}},q={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qr=Symbol.for("react.element"),ip=Symbol.for("react.portal"),ap=Symbol.for("react.fragment"),op=Symbol.for("react.strict_mode"),cp=Symbol.for("react.profiler"),up=Symbol.for("react.provider"),dp=Symbol.for("react.context"),fp=Symbol.for("react.forward_ref"),pp=Symbol.for("react.suspense"),hp=Symbol.for("react.memo"),mp=Symbol.for("react.lazy"),To=Symbol.iterator;function yp(e){return e===null||typeof e!="object"?null:(e=To&&e[To]||e["@@iterator"],typeof e=="function"?e:null)}var Kc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Qc=Object.assign,Gc={};function Jn(e,t,n){this.props=e,this.context=t,this.refs=Gc,this.updater=n||Kc}Jn.prototype.isReactComponent={};Jn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Jn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Yc(){}Yc.prototype=Jn.prototype;function la(e,t,n){this.props=e,this.context=t,this.refs=Gc,this.updater=n||Kc}var sa=la.prototype=new Yc;sa.constructor=la;Qc(sa,Jn.prototype);sa.isPureReactComponent=!0;var Lo=Array.isArray,Xc=Object.prototype.hasOwnProperty,ia={current:null},qc={key:!0,ref:!0,__self:!0,__source:!0};function Zc(e,t,n){var r,l={},i=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)Xc.call(t,r)&&!qc.hasOwnProperty(r)&&(l[r]=t[r]);var o=arguments.length-2;if(o===1)l.children=n;else if(1<o){for(var c=Array(o),d=0;d<o;d++)c[d]=arguments[d+2];l.children=c}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)l[r]===void 0&&(l[r]=o[r]);return{$$typeof:Qr,type:e,key:i,ref:a,props:l,_owner:ia.current}}function gp(e,t){return{$$typeof:Qr,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function aa(e){return typeof e=="object"&&e!==null&&e.$$typeof===Qr}function xp(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Fo=/\/+/g;function Ds(e,t){return typeof e=="object"&&e!==null&&e.key!=null?xp(""+e.key):t.toString(36)}function Sl(e,t,n,r,l){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Qr:case ip:a=!0}}if(a)return a=e,l=l(a),e=r===""?"."+Ds(a,0):r,Lo(l)?(n="",e!=null&&(n=e.replace(Fo,"$&/")+"/"),Sl(l,t,n,"",function(d){return d})):l!=null&&(aa(l)&&(l=gp(l,n+(!l.key||a&&a.key===l.key?"":(""+l.key).replace(Fo,"$&/")+"/")+e)),t.push(l)),1;if(a=0,r=r===""?".":r+":",Lo(e))for(var o=0;o<e.length;o++){i=e[o];var c=r+Ds(i,o);a+=Sl(i,t,n,c,l)}else if(c=yp(e),typeof c=="function")for(e=c.call(e),o=0;!(i=e.next()).done;)i=i.value,c=r+Ds(i,o++),a+=Sl(i,t,n,c,l);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function al(e,t,n){if(e==null)return e;var r=[],l=0;return Sl(e,r,"","",function(i){return t.call(n,i,l++)}),r}function vp(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Be={current:null},Cl={transition:null},wp={ReactCurrentDispatcher:Be,ReactCurrentBatchConfig:Cl,ReactCurrentOwner:ia};function Jc(){throw Error("act(...) is not supported in production builds of React.")}q.Children={map:al,forEach:function(e,t,n){al(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return al(e,function(){t++}),t},toArray:function(e){return al(e,function(t){return t})||[]},only:function(e){if(!aa(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};q.Component=Jn;q.Fragment=ap;q.Profiler=cp;q.PureComponent=la;q.StrictMode=op;q.Suspense=pp;q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wp;q.act=Jc;q.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Qc({},e.props),l=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=ia.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)Xc.call(t,c)&&!qc.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){o=Array(c);for(var d=0;d<c;d++)o[d]=arguments[d+2];r.children=o}return{$$typeof:Qr,type:e.type,key:l,ref:i,props:r,_owner:a}};q.createContext=function(e){return e={$$typeof:dp,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:up,_context:e},e.Consumer=e};q.createElement=Zc;q.createFactory=function(e){var t=Zc.bind(null,e);return t.type=e,t};q.createRef=function(){return{current:null}};q.forwardRef=function(e){return{$$typeof:fp,render:e}};q.isValidElement=aa;q.lazy=function(e){return{$$typeof:mp,_payload:{_status:-1,_result:e},_init:vp}};q.memo=function(e,t){return{$$typeof:hp,type:e,compare:t===void 0?null:t}};q.startTransition=function(e){var t=Cl.transition;Cl.transition={};try{e()}finally{Cl.transition=t}};q.unstable_act=Jc;q.useCallback=function(e,t){return Be.current.useCallback(e,t)};q.useContext=function(e){return Be.current.useContext(e)};q.useDebugValue=function(){};q.useDeferredValue=function(e){return Be.current.useDeferredValue(e)};q.useEffect=function(e,t){return Be.current.useEffect(e,t)};q.useId=function(){return Be.current.useId()};q.useImperativeHandle=function(e,t,n){return Be.current.useImperativeHandle(e,t,n)};q.useInsertionEffect=function(e,t){return Be.current.useInsertionEffect(e,t)};q.useLayoutEffect=function(e,t){return Be.current.useLayoutEffect(e,t)};q.useMemo=function(e,t){return Be.current.useMemo(e,t)};q.useReducer=function(e,t,n){return Be.current.useReducer(e,t,n)};q.useRef=function(e){return Be.current.useRef(e)};q.useState=function(e){return Be.current.useState(e)};q.useSyncExternalStore=function(e,t,n){return Be.current.useSyncExternalStore(e,t,n)};q.useTransition=function(){return Be.current.useTransition()};q.version="18.3.1";Wc.exports=q;var w=Wc.exports;const Hn=sp(w);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kp=w,jp=Symbol.for("react.element"),Np=Symbol.for("react.fragment"),Sp=Object.prototype.hasOwnProperty,Cp=kp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,bp={key:!0,ref:!0,__self:!0,__source:!0};function eu(e,t,n){var r,l={},i=null,a=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)Sp.call(t,r)&&!bp.hasOwnProperty(r)&&(l[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)l[r]===void 0&&(l[r]=t[r]);return{$$typeof:jp,type:e,key:i,ref:a,props:l,_owner:Cp.current}}ds.Fragment=Np;ds.jsx=eu;ds.jsxs=eu;Hc.exports=ds;var s=Hc.exports,tu={exports:{}},et={},nu={exports:{}},ru={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(F,A){var C=F.length;F.push(A);e:for(;0<C;){var S=C-1>>>1,L=F[S];if(0<l(L,A))F[S]=A,F[C]=L,C=S;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var A=F[0],C=F.pop();if(C!==A){F[0]=C;e:for(var S=0,L=F.length,G=L>>>1;S<G;){var U=2*(S+1)-1,z=F[U],oe=U+1,se=F[oe];if(0>l(z,C))oe<L&&0>l(se,z)?(F[S]=se,F[oe]=C,S=oe):(F[S]=z,F[U]=C,S=U);else if(oe<L&&0>l(se,C))F[S]=se,F[oe]=C,S=oe;else break e}}return A}function l(F,A){var C=F.sortIndex-A.sortIndex;return C!==0?C:F.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var c=[],d=[],y=1,g=null,v=3,j=!1,N=!1,_=!1,H=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function f(F){for(var A=n(d);A!==null;){if(A.callback===null)r(d);else if(A.startTime<=F)r(d),A.sortIndex=A.expirationTime,t(c,A);else break;A=n(d)}}function m(F){if(_=!1,f(F),!N)if(n(c)!==null)N=!0,W(b);else{var A=n(d);A!==null&&J(m,A.startTime-F)}}function b(F,A){N=!1,_&&(_=!1,h(E),E=-1),j=!0;var C=v;try{for(f(A),g=n(c);g!==null&&(!(g.expirationTime>A)||F&&!X());){var S=g.callback;if(typeof S=="function"){g.callback=null,v=g.priorityLevel;var L=S(g.expirationTime<=A);A=e.unstable_now(),typeof L=="function"?g.callback=L:g===n(c)&&r(c),f(A)}else r(c);g=n(c)}if(g!==null)var G=!0;else{var U=n(d);U!==null&&J(m,U.startTime-A),G=!1}return G}finally{g=null,v=C,j=!1}}var k=!1,T=null,E=-1,D=5,I=-1;function X(){return!(e.unstable_now()-I<D)}function ee(){if(T!==null){var F=e.unstable_now();I=F;var A=!0;try{A=T(!0,F)}finally{A?B():(k=!1,T=null)}}else k=!1}var B;if(typeof p=="function")B=function(){p(ee)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,R=K.port2;K.port1.onmessage=ee,B=function(){R.postMessage(null)}}else B=function(){H(ee,0)};function W(F){T=F,k||(k=!0,B())}function J(F,A){E=H(function(){F(e.unstable_now())},A)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(F){F.callback=null},e.unstable_continueExecution=function(){N||j||(N=!0,W(b))},e.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<F?Math.floor(1e3/F):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(F){switch(v){case 1:case 2:case 3:var A=3;break;default:A=v}var C=v;v=A;try{return F()}finally{v=C}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(F,A){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var C=v;v=F;try{return A()}finally{v=C}},e.unstable_scheduleCallback=function(F,A,C){var S=e.unstable_now();switch(typeof C=="object"&&C!==null?(C=C.delay,C=typeof C=="number"&&0<C?S+C:S):C=S,F){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=C+L,F={id:y++,callback:A,priorityLevel:F,startTime:C,expirationTime:L,sortIndex:-1},C>S?(F.sortIndex=C,t(d,F),n(c)===null&&F===n(d)&&(_?(h(E),E=-1):_=!0,J(m,C-S))):(F.sortIndex=L,t(c,F),N||j||(N=!0,W(b))),F},e.unstable_shouldYield=X,e.unstable_wrapCallback=function(F){var A=v;return function(){var C=v;v=A;try{return F.apply(this,arguments)}finally{v=C}}}})(ru);nu.exports=ru;var Ep=nu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _p=w,Je=Ep;function M(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var lu=new Set,Pr={};function jn(e,t){Wn(e,t),Wn(e+"Capture",t)}function Wn(e,t){for(Pr[e]=t,e=0;e<t.length;e++)lu.add(t[e])}var Tt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),di=Object.prototype.hasOwnProperty,Pp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,zo={},Ro={};function Mp(e){return di.call(Ro,e)?!0:di.call(zo,e)?!1:Pp.test(e)?Ro[e]=!0:(zo[e]=!0,!1)}function Tp(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Lp(e,t,n,r){if(t===null||typeof t>"u"||Tp(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ve(e,t,n,r,l,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var Te={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Te[e]=new Ve(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Te[t]=new Ve(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Te[e]=new Ve(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Te[e]=new Ve(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Te[e]=new Ve(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Te[e]=new Ve(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Te[e]=new Ve(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Te[e]=new Ve(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Te[e]=new Ve(e,5,!1,e.toLowerCase(),null,!1,!1)});var oa=/[\-:]([a-z])/g;function ca(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(oa,ca);Te[t]=new Ve(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(oa,ca);Te[t]=new Ve(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(oa,ca);Te[t]=new Ve(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Te[e]=new Ve(e,1,!1,e.toLowerCase(),null,!1,!1)});Te.xlinkHref=new Ve("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Te[e]=new Ve(e,1,!1,e.toLowerCase(),null,!0,!0)});function ua(e,t,n,r){var l=Te.hasOwnProperty(t)?Te[t]:null;(l!==null?l.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Lp(t,n,l,r)&&(n=null),r||l===null?Mp(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,r=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Rt=_p.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ol=Symbol.for("react.element"),bn=Symbol.for("react.portal"),En=Symbol.for("react.fragment"),da=Symbol.for("react.strict_mode"),fi=Symbol.for("react.profiler"),su=Symbol.for("react.provider"),iu=Symbol.for("react.context"),fa=Symbol.for("react.forward_ref"),pi=Symbol.for("react.suspense"),hi=Symbol.for("react.suspense_list"),pa=Symbol.for("react.memo"),$t=Symbol.for("react.lazy"),au=Symbol.for("react.offscreen"),Io=Symbol.iterator;function ir(e){return e===null||typeof e!="object"?null:(e=Io&&e[Io]||e["@@iterator"],typeof e=="function"?e:null)}var ge=Object.assign,Os;function hr(e){if(Os===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Os=t&&t[1]||""}return`
`+Os+e}var $s=!1;function As(e,t){if(!e||$s)return"";$s=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var r=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){r=d}e.call(t.prototype)}else{try{throw Error()}catch(d){r=d}e()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var l=d.stack.split(`
`),i=r.stack.split(`
`),a=l.length-1,o=i.length-1;1<=a&&0<=o&&l[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(l[a]!==i[o]){if(a!==1||o!==1)do if(a--,o--,0>o||l[a]!==i[o]){var c=`
`+l[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=o);break}}}finally{$s=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?hr(e):""}function Fp(e){switch(e.tag){case 5:return hr(e.type);case 16:return hr("Lazy");case 13:return hr("Suspense");case 19:return hr("SuspenseList");case 0:case 2:case 15:return e=As(e.type,!1),e;case 11:return e=As(e.type.render,!1),e;case 1:return e=As(e.type,!0),e;default:return""}}function mi(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case En:return"Fragment";case bn:return"Portal";case fi:return"Profiler";case da:return"StrictMode";case pi:return"Suspense";case hi:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case iu:return(e.displayName||"Context")+".Consumer";case su:return(e._context.displayName||"Context")+".Provider";case fa:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case pa:return t=e.displayName||null,t!==null?t:mi(e.type)||"Memo";case $t:t=e._payload,e=e._init;try{return mi(e(t))}catch{}}return null}function zp(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return mi(t);case 8:return t===da?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Jt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ou(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Rp(e){var t=ou(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function cl(e){e._valueTracker||(e._valueTracker=Rp(e))}function cu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ou(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ol(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function yi(e,t){var n=t.checked;return ge({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Do(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Jt(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function uu(e,t){t=t.checked,t!=null&&ua(e,"checked",t,!1)}function gi(e,t){uu(e,t);var n=Jt(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?xi(e,t.type,n):t.hasOwnProperty("defaultValue")&&xi(e,t.type,Jt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Oo(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function xi(e,t,n){(t!=="number"||Ol(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var mr=Array.isArray;function On(e,t,n,r){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Jt(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,r&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function vi(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(M(91));return ge({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function $o(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(M(92));if(mr(n)){if(1<n.length)throw Error(M(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Jt(n)}}function du(e,t){var n=Jt(t.value),r=Jt(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Ao(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function fu(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wi(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?fu(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ul,pu=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ul=ul||document.createElement("div"),ul.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ul.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Mr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var vr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ip=["Webkit","ms","Moz","O"];Object.keys(vr).forEach(function(e){Ip.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),vr[t]=vr[e]})});function hu(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||vr.hasOwnProperty(e)&&vr[e]?(""+t).trim():t+"px"}function mu(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,l=hu(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,l):e[n]=l}}var Dp=ge({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ki(e,t){if(t){if(Dp[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(M(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(M(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(M(61))}if(t.style!=null&&typeof t.style!="object")throw Error(M(62))}}function ji(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ni=null;function ha(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Si=null,$n=null,An=null;function Uo(e){if(e=Xr(e)){if(typeof Si!="function")throw Error(M(280));var t=e.stateNode;t&&(t=ys(t),Si(e.stateNode,e.type,t))}}function yu(e){$n?An?An.push(e):An=[e]:$n=e}function gu(){if($n){var e=$n,t=An;if(An=$n=null,Uo(e),t)for(e=0;e<t.length;e++)Uo(t[e])}}function xu(e,t){return e(t)}function vu(){}var Us=!1;function wu(e,t,n){if(Us)return e(t,n);Us=!0;try{return xu(e,t,n)}finally{Us=!1,($n!==null||An!==null)&&(vu(),gu())}}function Tr(e,t){var n=e.stateNode;if(n===null)return null;var r=ys(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(M(231,t,typeof n));return n}var Ci=!1;if(Tt)try{var ar={};Object.defineProperty(ar,"passive",{get:function(){Ci=!0}}),window.addEventListener("test",ar,ar),window.removeEventListener("test",ar,ar)}catch{Ci=!1}function Op(e,t,n,r,l,i,a,o,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(y){this.onError(y)}}var wr=!1,$l=null,Al=!1,bi=null,$p={onError:function(e){wr=!0,$l=e}};function Ap(e,t,n,r,l,i,a,o,c){wr=!1,$l=null,Op.apply($p,arguments)}function Up(e,t,n,r,l,i,a,o,c){if(Ap.apply(this,arguments),wr){if(wr){var d=$l;wr=!1,$l=null}else throw Error(M(198));Al||(Al=!0,bi=d)}}function Nn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function ku(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Bo(e){if(Nn(e)!==e)throw Error(M(188))}function Bp(e){var t=e.alternate;if(!t){if(t=Nn(e),t===null)throw Error(M(188));return t!==e?null:e}for(var n=e,r=t;;){var l=n.return;if(l===null)break;var i=l.alternate;if(i===null){if(r=l.return,r!==null){n=r;continue}break}if(l.child===i.child){for(i=l.child;i;){if(i===n)return Bo(l),e;if(i===r)return Bo(l),t;i=i.sibling}throw Error(M(188))}if(n.return!==r.return)n=l,r=i;else{for(var a=!1,o=l.child;o;){if(o===n){a=!0,n=l,r=i;break}if(o===r){a=!0,r=l,n=i;break}o=o.sibling}if(!a){for(o=i.child;o;){if(o===n){a=!0,n=i,r=l;break}if(o===r){a=!0,r=i,n=l;break}o=o.sibling}if(!a)throw Error(M(189))}}if(n.alternate!==r)throw Error(M(190))}if(n.tag!==3)throw Error(M(188));return n.stateNode.current===n?e:t}function ju(e){return e=Bp(e),e!==null?Nu(e):null}function Nu(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Nu(e);if(t!==null)return t;e=e.sibling}return null}var Su=Je.unstable_scheduleCallback,Vo=Je.unstable_cancelCallback,Vp=Je.unstable_shouldYield,Hp=Je.unstable_requestPaint,ve=Je.unstable_now,Wp=Je.unstable_getCurrentPriorityLevel,ma=Je.unstable_ImmediatePriority,Cu=Je.unstable_UserBlockingPriority,Ul=Je.unstable_NormalPriority,Kp=Je.unstable_LowPriority,bu=Je.unstable_IdlePriority,fs=null,St=null;function Qp(e){if(St&&typeof St.onCommitFiberRoot=="function")try{St.onCommitFiberRoot(fs,e,void 0,(e.current.flags&128)===128)}catch{}}var mt=Math.clz32?Math.clz32:Xp,Gp=Math.log,Yp=Math.LN2;function Xp(e){return e>>>=0,e===0?32:31-(Gp(e)/Yp|0)|0}var dl=64,fl=4194304;function yr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Bl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,l=e.suspendedLanes,i=e.pingedLanes,a=n&268435455;if(a!==0){var o=a&~l;o!==0?r=yr(o):(i&=a,i!==0&&(r=yr(i)))}else a=n&~l,a!==0?r=yr(a):i!==0&&(r=yr(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&l)&&(l=r&-r,i=t&-t,l>=i||l===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-mt(t),l=1<<n,r|=e[n],t&=~l;return r}function qp(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zp(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,l=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-mt(i),o=1<<a,c=l[a];c===-1?(!(o&n)||o&r)&&(l[a]=qp(o,t)):c<=t&&(e.expiredLanes|=o),i&=~o}}function Ei(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Eu(){var e=dl;return dl<<=1,!(dl&4194240)&&(dl=64),e}function Bs(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Gr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-mt(t),e[t]=n}function Jp(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-mt(n),i=1<<l;t[l]=0,r[l]=-1,e[l]=-1,n&=~i}}function ya(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-mt(n),l=1<<r;l&t|e[r]&t&&(e[r]|=t),n&=~l}}var le=0;function _u(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Pu,ga,Mu,Tu,Lu,_i=!1,pl=[],Wt=null,Kt=null,Qt=null,Lr=new Map,Fr=new Map,Ut=[],eh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ho(e,t){switch(e){case"focusin":case"focusout":Wt=null;break;case"dragenter":case"dragleave":Kt=null;break;case"mouseover":case"mouseout":Qt=null;break;case"pointerover":case"pointerout":Lr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fr.delete(t.pointerId)}}function or(e,t,n,r,l,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[l]},t!==null&&(t=Xr(t),t!==null&&ga(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function th(e,t,n,r,l){switch(t){case"focusin":return Wt=or(Wt,e,t,n,r,l),!0;case"dragenter":return Kt=or(Kt,e,t,n,r,l),!0;case"mouseover":return Qt=or(Qt,e,t,n,r,l),!0;case"pointerover":var i=l.pointerId;return Lr.set(i,or(Lr.get(i)||null,e,t,n,r,l)),!0;case"gotpointercapture":return i=l.pointerId,Fr.set(i,or(Fr.get(i)||null,e,t,n,r,l)),!0}return!1}function Fu(e){var t=dn(e.target);if(t!==null){var n=Nn(t);if(n!==null){if(t=n.tag,t===13){if(t=ku(n),t!==null){e.blockedOn=t,Lu(e.priority,function(){Mu(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function bl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Pi(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Ni=r,n.target.dispatchEvent(r),Ni=null}else return t=Xr(n),t!==null&&ga(t),e.blockedOn=n,!1;t.shift()}return!0}function Wo(e,t,n){bl(e)&&n.delete(t)}function nh(){_i=!1,Wt!==null&&bl(Wt)&&(Wt=null),Kt!==null&&bl(Kt)&&(Kt=null),Qt!==null&&bl(Qt)&&(Qt=null),Lr.forEach(Wo),Fr.forEach(Wo)}function cr(e,t){e.blockedOn===t&&(e.blockedOn=null,_i||(_i=!0,Je.unstable_scheduleCallback(Je.unstable_NormalPriority,nh)))}function zr(e){function t(l){return cr(l,e)}if(0<pl.length){cr(pl[0],e);for(var n=1;n<pl.length;n++){var r=pl[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Wt!==null&&cr(Wt,e),Kt!==null&&cr(Kt,e),Qt!==null&&cr(Qt,e),Lr.forEach(t),Fr.forEach(t),n=0;n<Ut.length;n++)r=Ut[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Ut.length&&(n=Ut[0],n.blockedOn===null);)Fu(n),n.blockedOn===null&&Ut.shift()}var Un=Rt.ReactCurrentBatchConfig,Vl=!0;function rh(e,t,n,r){var l=le,i=Un.transition;Un.transition=null;try{le=1,xa(e,t,n,r)}finally{le=l,Un.transition=i}}function lh(e,t,n,r){var l=le,i=Un.transition;Un.transition=null;try{le=4,xa(e,t,n,r)}finally{le=l,Un.transition=i}}function xa(e,t,n,r){if(Vl){var l=Pi(e,t,n,r);if(l===null)Zs(e,t,r,Hl,n),Ho(e,r);else if(th(l,e,t,n,r))r.stopPropagation();else if(Ho(e,r),t&4&&-1<eh.indexOf(e)){for(;l!==null;){var i=Xr(l);if(i!==null&&Pu(i),i=Pi(e,t,n,r),i===null&&Zs(e,t,r,Hl,n),i===l)break;l=i}l!==null&&r.stopPropagation()}else Zs(e,t,r,null,n)}}var Hl=null;function Pi(e,t,n,r){if(Hl=null,e=ha(r),e=dn(e),e!==null)if(t=Nn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=ku(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Hl=e,null}function zu(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Wp()){case ma:return 1;case Cu:return 4;case Ul:case Kp:return 16;case bu:return 536870912;default:return 16}default:return 16}}var Vt=null,va=null,El=null;function Ru(){if(El)return El;var e,t=va,n=t.length,r,l="value"in Vt?Vt.value:Vt.textContent,i=l.length;for(e=0;e<n&&t[e]===l[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===l[i-r];r++);return El=l.slice(e,1<r?1-r:void 0)}function _l(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function hl(){return!0}function Ko(){return!1}function tt(e){function t(n,r,l,i,a){this._reactName=n,this._targetInst=l,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?hl:Ko,this.isPropagationStopped=Ko,this}return ge(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=hl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=hl)},persist:function(){},isPersistent:hl}),t}var er={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wa=tt(er),Yr=ge({},er,{view:0,detail:0}),sh=tt(Yr),Vs,Hs,ur,ps=ge({},Yr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ka,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ur&&(ur&&e.type==="mousemove"?(Vs=e.screenX-ur.screenX,Hs=e.screenY-ur.screenY):Hs=Vs=0,ur=e),Vs)},movementY:function(e){return"movementY"in e?e.movementY:Hs}}),Qo=tt(ps),ih=ge({},ps,{dataTransfer:0}),ah=tt(ih),oh=ge({},Yr,{relatedTarget:0}),Ws=tt(oh),ch=ge({},er,{animationName:0,elapsedTime:0,pseudoElement:0}),uh=tt(ch),dh=ge({},er,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),fh=tt(dh),ph=ge({},er,{data:0}),Go=tt(ph),hh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gh(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=yh[e])?!!t[e]:!1}function ka(){return gh}var xh=ge({},Yr,{key:function(e){if(e.key){var t=hh[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=_l(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?mh[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ka,charCode:function(e){return e.type==="keypress"?_l(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?_l(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),vh=tt(xh),wh=ge({},ps,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yo=tt(wh),kh=ge({},Yr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ka}),jh=tt(kh),Nh=ge({},er,{propertyName:0,elapsedTime:0,pseudoElement:0}),Sh=tt(Nh),Ch=ge({},ps,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),bh=tt(Ch),Eh=[9,13,27,32],ja=Tt&&"CompositionEvent"in window,kr=null;Tt&&"documentMode"in document&&(kr=document.documentMode);var _h=Tt&&"TextEvent"in window&&!kr,Iu=Tt&&(!ja||kr&&8<kr&&11>=kr),Xo=" ",qo=!1;function Du(e,t){switch(e){case"keyup":return Eh.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ou(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var _n=!1;function Ph(e,t){switch(e){case"compositionend":return Ou(t);case"keypress":return t.which!==32?null:(qo=!0,Xo);case"textInput":return e=t.data,e===Xo&&qo?null:e;default:return null}}function Mh(e,t){if(_n)return e==="compositionend"||!ja&&Du(e,t)?(e=Ru(),El=va=Vt=null,_n=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Iu&&t.locale!=="ko"?null:t.data;default:return null}}var Th={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Th[e.type]:t==="textarea"}function $u(e,t,n,r){yu(r),t=Wl(t,"onChange"),0<t.length&&(n=new wa("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var jr=null,Rr=null;function Lh(e){Xu(e,0)}function hs(e){var t=Tn(e);if(cu(t))return e}function Fh(e,t){if(e==="change")return t}var Au=!1;if(Tt){var Ks;if(Tt){var Qs="oninput"in document;if(!Qs){var Jo=document.createElement("div");Jo.setAttribute("oninput","return;"),Qs=typeof Jo.oninput=="function"}Ks=Qs}else Ks=!1;Au=Ks&&(!document.documentMode||9<document.documentMode)}function ec(){jr&&(jr.detachEvent("onpropertychange",Uu),Rr=jr=null)}function Uu(e){if(e.propertyName==="value"&&hs(Rr)){var t=[];$u(t,Rr,e,ha(e)),wu(Lh,t)}}function zh(e,t,n){e==="focusin"?(ec(),jr=t,Rr=n,jr.attachEvent("onpropertychange",Uu)):e==="focusout"&&ec()}function Rh(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return hs(Rr)}function Ih(e,t){if(e==="click")return hs(t)}function Dh(e,t){if(e==="input"||e==="change")return hs(t)}function Oh(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var gt=typeof Object.is=="function"?Object.is:Oh;function Ir(e,t){if(gt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var l=n[r];if(!di.call(t,l)||!gt(e[l],t[l]))return!1}return!0}function tc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function nc(e,t){var n=tc(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=tc(n)}}function Bu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Bu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Vu(){for(var e=window,t=Ol();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ol(e.document)}return t}function Na(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function $h(e){var t=Vu(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Bu(n.ownerDocument.documentElement,n)){if(r!==null&&Na(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,i=Math.min(r.start,l);r=r.end===void 0?i:Math.min(r.end,l),!e.extend&&i>r&&(l=r,r=i,i=l),l=nc(n,i);var a=nc(n,r);l&&a&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Ah=Tt&&"documentMode"in document&&11>=document.documentMode,Pn=null,Mi=null,Nr=null,Ti=!1;function rc(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ti||Pn==null||Pn!==Ol(r)||(r=Pn,"selectionStart"in r&&Na(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Nr&&Ir(Nr,r)||(Nr=r,r=Wl(Mi,"onSelect"),0<r.length&&(t=new wa("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Pn)))}function ml(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Mn={animationend:ml("Animation","AnimationEnd"),animationiteration:ml("Animation","AnimationIteration"),animationstart:ml("Animation","AnimationStart"),transitionend:ml("Transition","TransitionEnd")},Gs={},Hu={};Tt&&(Hu=document.createElement("div").style,"AnimationEvent"in window||(delete Mn.animationend.animation,delete Mn.animationiteration.animation,delete Mn.animationstart.animation),"TransitionEvent"in window||delete Mn.transitionend.transition);function ms(e){if(Gs[e])return Gs[e];if(!Mn[e])return e;var t=Mn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Hu)return Gs[e]=t[n];return e}var Wu=ms("animationend"),Ku=ms("animationiteration"),Qu=ms("animationstart"),Gu=ms("transitionend"),Yu=new Map,lc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function tn(e,t){Yu.set(e,t),jn(t,[e])}for(var Ys=0;Ys<lc.length;Ys++){var Xs=lc[Ys],Uh=Xs.toLowerCase(),Bh=Xs[0].toUpperCase()+Xs.slice(1);tn(Uh,"on"+Bh)}tn(Wu,"onAnimationEnd");tn(Ku,"onAnimationIteration");tn(Qu,"onAnimationStart");tn("dblclick","onDoubleClick");tn("focusin","onFocus");tn("focusout","onBlur");tn(Gu,"onTransitionEnd");Wn("onMouseEnter",["mouseout","mouseover"]);Wn("onMouseLeave",["mouseout","mouseover"]);Wn("onPointerEnter",["pointerout","pointerover"]);Wn("onPointerLeave",["pointerout","pointerover"]);jn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));jn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));jn("onBeforeInput",["compositionend","keypress","textInput","paste"]);jn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));jn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));jn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Vh=new Set("cancel close invalid load scroll toggle".split(" ").concat(gr));function sc(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Up(r,t,void 0,e),e.currentTarget=null}function Xu(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],l=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],c=o.instance,d=o.currentTarget;if(o=o.listener,c!==i&&l.isPropagationStopped())break e;sc(l,o,d),i=c}else for(a=0;a<r.length;a++){if(o=r[a],c=o.instance,d=o.currentTarget,o=o.listener,c!==i&&l.isPropagationStopped())break e;sc(l,o,d),i=c}}}if(Al)throw e=bi,Al=!1,bi=null,e}function ue(e,t){var n=t[Ii];n===void 0&&(n=t[Ii]=new Set);var r=e+"__bubble";n.has(r)||(qu(t,e,2,!1),n.add(r))}function qs(e,t,n){var r=0;t&&(r|=4),qu(n,e,r,t)}var yl="_reactListening"+Math.random().toString(36).slice(2);function Dr(e){if(!e[yl]){e[yl]=!0,lu.forEach(function(n){n!=="selectionchange"&&(Vh.has(n)||qs(n,!1,e),qs(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[yl]||(t[yl]=!0,qs("selectionchange",!1,t))}}function qu(e,t,n,r){switch(zu(t)){case 1:var l=rh;break;case 4:l=lh;break;default:l=xa}n=l.bind(null,t,n,e),l=void 0,!Ci||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),r?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function Zs(e,t,n,r,l){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===l||o.nodeType===8&&o.parentNode===l)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===l||c.nodeType===8&&c.parentNode===l))return;a=a.return}for(;o!==null;){if(a=dn(o),a===null)return;if(c=a.tag,c===5||c===6){r=i=a;continue e}o=o.parentNode}}r=r.return}wu(function(){var d=i,y=ha(n),g=[];e:{var v=Yu.get(e);if(v!==void 0){var j=wa,N=e;switch(e){case"keypress":if(_l(n)===0)break e;case"keydown":case"keyup":j=vh;break;case"focusin":N="focus",j=Ws;break;case"focusout":N="blur",j=Ws;break;case"beforeblur":case"afterblur":j=Ws;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=Qo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=ah;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=jh;break;case Wu:case Ku:case Qu:j=uh;break;case Gu:j=Sh;break;case"scroll":j=sh;break;case"wheel":j=bh;break;case"copy":case"cut":case"paste":j=fh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=Yo}var _=(t&4)!==0,H=!_&&e==="scroll",h=_?v!==null?v+"Capture":null:v;_=[];for(var p=d,f;p!==null;){f=p;var m=f.stateNode;if(f.tag===5&&m!==null&&(f=m,h!==null&&(m=Tr(p,h),m!=null&&_.push(Or(p,m,f)))),H)break;p=p.return}0<_.length&&(v=new j(v,N,null,n,y),g.push({event:v,listeners:_}))}}if(!(t&7)){e:{if(v=e==="mouseover"||e==="pointerover",j=e==="mouseout"||e==="pointerout",v&&n!==Ni&&(N=n.relatedTarget||n.fromElement)&&(dn(N)||N[Lt]))break e;if((j||v)&&(v=y.window===y?y:(v=y.ownerDocument)?v.defaultView||v.parentWindow:window,j?(N=n.relatedTarget||n.toElement,j=d,N=N?dn(N):null,N!==null&&(H=Nn(N),N!==H||N.tag!==5&&N.tag!==6)&&(N=null)):(j=null,N=d),j!==N)){if(_=Qo,m="onMouseLeave",h="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(_=Yo,m="onPointerLeave",h="onPointerEnter",p="pointer"),H=j==null?v:Tn(j),f=N==null?v:Tn(N),v=new _(m,p+"leave",j,n,y),v.target=H,v.relatedTarget=f,m=null,dn(y)===d&&(_=new _(h,p+"enter",N,n,y),_.target=f,_.relatedTarget=H,m=_),H=m,j&&N)t:{for(_=j,h=N,p=0,f=_;f;f=Cn(f))p++;for(f=0,m=h;m;m=Cn(m))f++;for(;0<p-f;)_=Cn(_),p--;for(;0<f-p;)h=Cn(h),f--;for(;p--;){if(_===h||h!==null&&_===h.alternate)break t;_=Cn(_),h=Cn(h)}_=null}else _=null;j!==null&&ic(g,v,j,_,!1),N!==null&&H!==null&&ic(g,H,N,_,!0)}}e:{if(v=d?Tn(d):window,j=v.nodeName&&v.nodeName.toLowerCase(),j==="select"||j==="input"&&v.type==="file")var b=Fh;else if(Zo(v))if(Au)b=Dh;else{b=Rh;var k=zh}else(j=v.nodeName)&&j.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(b=Ih);if(b&&(b=b(e,d))){$u(g,b,n,y);break e}k&&k(e,v,d),e==="focusout"&&(k=v._wrapperState)&&k.controlled&&v.type==="number"&&xi(v,"number",v.value)}switch(k=d?Tn(d):window,e){case"focusin":(Zo(k)||k.contentEditable==="true")&&(Pn=k,Mi=d,Nr=null);break;case"focusout":Nr=Mi=Pn=null;break;case"mousedown":Ti=!0;break;case"contextmenu":case"mouseup":case"dragend":Ti=!1,rc(g,n,y);break;case"selectionchange":if(Ah)break;case"keydown":case"keyup":rc(g,n,y)}var T;if(ja)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else _n?Du(e,n)&&(E="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(Iu&&n.locale!=="ko"&&(_n||E!=="onCompositionStart"?E==="onCompositionEnd"&&_n&&(T=Ru()):(Vt=y,va="value"in Vt?Vt.value:Vt.textContent,_n=!0)),k=Wl(d,E),0<k.length&&(E=new Go(E,e,null,n,y),g.push({event:E,listeners:k}),T?E.data=T:(T=Ou(n),T!==null&&(E.data=T)))),(T=_h?Ph(e,n):Mh(e,n))&&(d=Wl(d,"onBeforeInput"),0<d.length&&(y=new Go("onBeforeInput","beforeinput",null,n,y),g.push({event:y,listeners:d}),y.data=T))}Xu(g,t)})}function Or(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wl(e,t){for(var n=t+"Capture",r=[];e!==null;){var l=e,i=l.stateNode;l.tag===5&&i!==null&&(l=i,i=Tr(e,n),i!=null&&r.unshift(Or(e,i,l)),i=Tr(e,t),i!=null&&r.push(Or(e,i,l))),e=e.return}return r}function Cn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ic(e,t,n,r,l){for(var i=t._reactName,a=[];n!==null&&n!==r;){var o=n,c=o.alternate,d=o.stateNode;if(c!==null&&c===r)break;o.tag===5&&d!==null&&(o=d,l?(c=Tr(n,i),c!=null&&a.unshift(Or(n,c,o))):l||(c=Tr(n,i),c!=null&&a.push(Or(n,c,o)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var Hh=/\r\n?/g,Wh=/\u0000|\uFFFD/g;function ac(e){return(typeof e=="string"?e:""+e).replace(Hh,`
`).replace(Wh,"")}function gl(e,t,n){if(t=ac(t),ac(e)!==t&&n)throw Error(M(425))}function Kl(){}var Li=null,Fi=null;function zi(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ri=typeof setTimeout=="function"?setTimeout:void 0,Kh=typeof clearTimeout=="function"?clearTimeout:void 0,oc=typeof Promise=="function"?Promise:void 0,Qh=typeof queueMicrotask=="function"?queueMicrotask:typeof oc<"u"?function(e){return oc.resolve(null).then(e).catch(Gh)}:Ri;function Gh(e){setTimeout(function(){throw e})}function Js(e,t){var n=t,r=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(r===0){e.removeChild(l),zr(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=l}while(n);zr(t)}function Gt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function cc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var tr=Math.random().toString(36).slice(2),Nt="__reactFiber$"+tr,$r="__reactProps$"+tr,Lt="__reactContainer$"+tr,Ii="__reactEvents$"+tr,Yh="__reactListeners$"+tr,Xh="__reactHandles$"+tr;function dn(e){var t=e[Nt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Lt]||n[Nt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=cc(e);e!==null;){if(n=e[Nt])return n;e=cc(e)}return t}e=n,n=e.parentNode}return null}function Xr(e){return e=e[Nt]||e[Lt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Tn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(M(33))}function ys(e){return e[$r]||null}var Di=[],Ln=-1;function nn(e){return{current:e}}function de(e){0>Ln||(e.current=Di[Ln],Di[Ln]=null,Ln--)}function ce(e,t){Ln++,Di[Ln]=e.current,e.current=t}var en={},$e=nn(en),Qe=nn(!1),yn=en;function Kn(e,t){var n=e.type.contextTypes;if(!n)return en;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var l={},i;for(i in n)l[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function Ge(e){return e=e.childContextTypes,e!=null}function Ql(){de(Qe),de($e)}function uc(e,t,n){if($e.current!==en)throw Error(M(168));ce($e,t),ce(Qe,n)}function Zu(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var l in r)if(!(l in t))throw Error(M(108,zp(e)||"Unknown",l));return ge({},n,r)}function Gl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||en,yn=$e.current,ce($e,e),ce(Qe,Qe.current),!0}function dc(e,t,n){var r=e.stateNode;if(!r)throw Error(M(169));n?(e=Zu(e,t,yn),r.__reactInternalMemoizedMergedChildContext=e,de(Qe),de($e),ce($e,e)):de(Qe),ce(Qe,n)}var Et=null,gs=!1,ei=!1;function Ju(e){Et===null?Et=[e]:Et.push(e)}function qh(e){gs=!0,Ju(e)}function rn(){if(!ei&&Et!==null){ei=!0;var e=0,t=le;try{var n=Et;for(le=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Et=null,gs=!1}catch(l){throw Et!==null&&(Et=Et.slice(e+1)),Su(ma,rn),l}finally{le=t,ei=!1}}return null}var Fn=[],zn=0,Yl=null,Xl=0,rt=[],lt=0,gn=null,_t=1,Pt="";function cn(e,t){Fn[zn++]=Xl,Fn[zn++]=Yl,Yl=e,Xl=t}function ed(e,t,n){rt[lt++]=_t,rt[lt++]=Pt,rt[lt++]=gn,gn=e;var r=_t;e=Pt;var l=32-mt(r)-1;r&=~(1<<l),n+=1;var i=32-mt(t)+l;if(30<i){var a=l-l%5;i=(r&(1<<a)-1).toString(32),r>>=a,l-=a,_t=1<<32-mt(t)+l|n<<l|r,Pt=i+e}else _t=1<<i|n<<l|r,Pt=e}function Sa(e){e.return!==null&&(cn(e,1),ed(e,1,0))}function Ca(e){for(;e===Yl;)Yl=Fn[--zn],Fn[zn]=null,Xl=Fn[--zn],Fn[zn]=null;for(;e===gn;)gn=rt[--lt],rt[lt]=null,Pt=rt[--lt],rt[lt]=null,_t=rt[--lt],rt[lt]=null}var Ze=null,qe=null,fe=!1,ht=null;function td(e,t){var n=st(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function fc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ze=e,qe=Gt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ze=e,qe=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=gn!==null?{id:_t,overflow:Pt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=st(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ze=e,qe=null,!0):!1;default:return!1}}function Oi(e){return(e.mode&1)!==0&&(e.flags&128)===0}function $i(e){if(fe){var t=qe;if(t){var n=t;if(!fc(e,t)){if(Oi(e))throw Error(M(418));t=Gt(n.nextSibling);var r=Ze;t&&fc(e,t)?td(r,n):(e.flags=e.flags&-4097|2,fe=!1,Ze=e)}}else{if(Oi(e))throw Error(M(418));e.flags=e.flags&-4097|2,fe=!1,Ze=e}}}function pc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ze=e}function xl(e){if(e!==Ze)return!1;if(!fe)return pc(e),fe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!zi(e.type,e.memoizedProps)),t&&(t=qe)){if(Oi(e))throw nd(),Error(M(418));for(;t;)td(e,t),t=Gt(t.nextSibling)}if(pc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(M(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){qe=Gt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}qe=null}}else qe=Ze?Gt(e.stateNode.nextSibling):null;return!0}function nd(){for(var e=qe;e;)e=Gt(e.nextSibling)}function Qn(){qe=Ze=null,fe=!1}function ba(e){ht===null?ht=[e]:ht.push(e)}var Zh=Rt.ReactCurrentBatchConfig;function dr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(M(309));var r=n.stateNode}if(!r)throw Error(M(147,e));var l=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var o=l.refs;a===null?delete o[i]:o[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(M(284));if(!n._owner)throw Error(M(290,e))}return e}function vl(e,t){throw e=Object.prototype.toString.call(t),Error(M(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function hc(e){var t=e._init;return t(e._payload)}function rd(e){function t(h,p){if(e){var f=h.deletions;f===null?(h.deletions=[p],h.flags|=16):f.push(p)}}function n(h,p){if(!e)return null;for(;p!==null;)t(h,p),p=p.sibling;return null}function r(h,p){for(h=new Map;p!==null;)p.key!==null?h.set(p.key,p):h.set(p.index,p),p=p.sibling;return h}function l(h,p){return h=Zt(h,p),h.index=0,h.sibling=null,h}function i(h,p,f){return h.index=f,e?(f=h.alternate,f!==null?(f=f.index,f<p?(h.flags|=2,p):f):(h.flags|=2,p)):(h.flags|=1048576,p)}function a(h){return e&&h.alternate===null&&(h.flags|=2),h}function o(h,p,f,m){return p===null||p.tag!==6?(p=ai(f,h.mode,m),p.return=h,p):(p=l(p,f),p.return=h,p)}function c(h,p,f,m){var b=f.type;return b===En?y(h,p,f.props.children,m,f.key):p!==null&&(p.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===$t&&hc(b)===p.type)?(m=l(p,f.props),m.ref=dr(h,p,f),m.return=h,m):(m=Rl(f.type,f.key,f.props,null,h.mode,m),m.ref=dr(h,p,f),m.return=h,m)}function d(h,p,f,m){return p===null||p.tag!==4||p.stateNode.containerInfo!==f.containerInfo||p.stateNode.implementation!==f.implementation?(p=oi(f,h.mode,m),p.return=h,p):(p=l(p,f.children||[]),p.return=h,p)}function y(h,p,f,m,b){return p===null||p.tag!==7?(p=mn(f,h.mode,m,b),p.return=h,p):(p=l(p,f),p.return=h,p)}function g(h,p,f){if(typeof p=="string"&&p!==""||typeof p=="number")return p=ai(""+p,h.mode,f),p.return=h,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case ol:return f=Rl(p.type,p.key,p.props,null,h.mode,f),f.ref=dr(h,null,p),f.return=h,f;case bn:return p=oi(p,h.mode,f),p.return=h,p;case $t:var m=p._init;return g(h,m(p._payload),f)}if(mr(p)||ir(p))return p=mn(p,h.mode,f,null),p.return=h,p;vl(h,p)}return null}function v(h,p,f,m){var b=p!==null?p.key:null;if(typeof f=="string"&&f!==""||typeof f=="number")return b!==null?null:o(h,p,""+f,m);if(typeof f=="object"&&f!==null){switch(f.$$typeof){case ol:return f.key===b?c(h,p,f,m):null;case bn:return f.key===b?d(h,p,f,m):null;case $t:return b=f._init,v(h,p,b(f._payload),m)}if(mr(f)||ir(f))return b!==null?null:y(h,p,f,m,null);vl(h,f)}return null}function j(h,p,f,m,b){if(typeof m=="string"&&m!==""||typeof m=="number")return h=h.get(f)||null,o(p,h,""+m,b);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case ol:return h=h.get(m.key===null?f:m.key)||null,c(p,h,m,b);case bn:return h=h.get(m.key===null?f:m.key)||null,d(p,h,m,b);case $t:var k=m._init;return j(h,p,f,k(m._payload),b)}if(mr(m)||ir(m))return h=h.get(f)||null,y(p,h,m,b,null);vl(p,m)}return null}function N(h,p,f,m){for(var b=null,k=null,T=p,E=p=0,D=null;T!==null&&E<f.length;E++){T.index>E?(D=T,T=null):D=T.sibling;var I=v(h,T,f[E],m);if(I===null){T===null&&(T=D);break}e&&T&&I.alternate===null&&t(h,T),p=i(I,p,E),k===null?b=I:k.sibling=I,k=I,T=D}if(E===f.length)return n(h,T),fe&&cn(h,E),b;if(T===null){for(;E<f.length;E++)T=g(h,f[E],m),T!==null&&(p=i(T,p,E),k===null?b=T:k.sibling=T,k=T);return fe&&cn(h,E),b}for(T=r(h,T);E<f.length;E++)D=j(T,h,E,f[E],m),D!==null&&(e&&D.alternate!==null&&T.delete(D.key===null?E:D.key),p=i(D,p,E),k===null?b=D:k.sibling=D,k=D);return e&&T.forEach(function(X){return t(h,X)}),fe&&cn(h,E),b}function _(h,p,f,m){var b=ir(f);if(typeof b!="function")throw Error(M(150));if(f=b.call(f),f==null)throw Error(M(151));for(var k=b=null,T=p,E=p=0,D=null,I=f.next();T!==null&&!I.done;E++,I=f.next()){T.index>E?(D=T,T=null):D=T.sibling;var X=v(h,T,I.value,m);if(X===null){T===null&&(T=D);break}e&&T&&X.alternate===null&&t(h,T),p=i(X,p,E),k===null?b=X:k.sibling=X,k=X,T=D}if(I.done)return n(h,T),fe&&cn(h,E),b;if(T===null){for(;!I.done;E++,I=f.next())I=g(h,I.value,m),I!==null&&(p=i(I,p,E),k===null?b=I:k.sibling=I,k=I);return fe&&cn(h,E),b}for(T=r(h,T);!I.done;E++,I=f.next())I=j(T,h,E,I.value,m),I!==null&&(e&&I.alternate!==null&&T.delete(I.key===null?E:I.key),p=i(I,p,E),k===null?b=I:k.sibling=I,k=I);return e&&T.forEach(function(ee){return t(h,ee)}),fe&&cn(h,E),b}function H(h,p,f,m){if(typeof f=="object"&&f!==null&&f.type===En&&f.key===null&&(f=f.props.children),typeof f=="object"&&f!==null){switch(f.$$typeof){case ol:e:{for(var b=f.key,k=p;k!==null;){if(k.key===b){if(b=f.type,b===En){if(k.tag===7){n(h,k.sibling),p=l(k,f.props.children),p.return=h,h=p;break e}}else if(k.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===$t&&hc(b)===k.type){n(h,k.sibling),p=l(k,f.props),p.ref=dr(h,k,f),p.return=h,h=p;break e}n(h,k);break}else t(h,k);k=k.sibling}f.type===En?(p=mn(f.props.children,h.mode,m,f.key),p.return=h,h=p):(m=Rl(f.type,f.key,f.props,null,h.mode,m),m.ref=dr(h,p,f),m.return=h,h=m)}return a(h);case bn:e:{for(k=f.key;p!==null;){if(p.key===k)if(p.tag===4&&p.stateNode.containerInfo===f.containerInfo&&p.stateNode.implementation===f.implementation){n(h,p.sibling),p=l(p,f.children||[]),p.return=h,h=p;break e}else{n(h,p);break}else t(h,p);p=p.sibling}p=oi(f,h.mode,m),p.return=h,h=p}return a(h);case $t:return k=f._init,H(h,p,k(f._payload),m)}if(mr(f))return N(h,p,f,m);if(ir(f))return _(h,p,f,m);vl(h,f)}return typeof f=="string"&&f!==""||typeof f=="number"?(f=""+f,p!==null&&p.tag===6?(n(h,p.sibling),p=l(p,f),p.return=h,h=p):(n(h,p),p=ai(f,h.mode,m),p.return=h,h=p),a(h)):n(h,p)}return H}var Gn=rd(!0),ld=rd(!1),ql=nn(null),Zl=null,Rn=null,Ea=null;function _a(){Ea=Rn=Zl=null}function Pa(e){var t=ql.current;de(ql),e._currentValue=t}function Ai(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Bn(e,t){Zl=e,Ea=Rn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ke=!0),e.firstContext=null)}function at(e){var t=e._currentValue;if(Ea!==e)if(e={context:e,memoizedValue:t,next:null},Rn===null){if(Zl===null)throw Error(M(308));Rn=e,Zl.dependencies={lanes:0,firstContext:e}}else Rn=Rn.next=e;return t}var fn=null;function Ma(e){fn===null?fn=[e]:fn.push(e)}function sd(e,t,n,r){var l=t.interleaved;return l===null?(n.next=n,Ma(t)):(n.next=l.next,l.next=n),t.interleaved=n,Ft(e,r)}function Ft(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var At=!1;function Ta(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function id(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Mt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Yt(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,te&2){var l=r.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),r.pending=t,Ft(e,n)}return l=r.interleaved,l===null?(t.next=t,Ma(r)):(t.next=l.next,l.next=t),r.interleaved=t,Ft(e,n)}function Pl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ya(e,n)}}function mc(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var l=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?l=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?l=i=t:i=i.next=t}else l=i=t;n={baseState:r.baseState,firstBaseUpdate:l,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Jl(e,t,n,r){var l=e.updateQueue;At=!1;var i=l.firstBaseUpdate,a=l.lastBaseUpdate,o=l.shared.pending;if(o!==null){l.shared.pending=null;var c=o,d=c.next;c.next=null,a===null?i=d:a.next=d,a=c;var y=e.alternate;y!==null&&(y=y.updateQueue,o=y.lastBaseUpdate,o!==a&&(o===null?y.firstBaseUpdate=d:o.next=d,y.lastBaseUpdate=c))}if(i!==null){var g=l.baseState;a=0,y=d=c=null,o=i;do{var v=o.lane,j=o.eventTime;if((r&v)===v){y!==null&&(y=y.next={eventTime:j,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var N=e,_=o;switch(v=t,j=n,_.tag){case 1:if(N=_.payload,typeof N=="function"){g=N.call(j,g,v);break e}g=N;break e;case 3:N.flags=N.flags&-65537|128;case 0:if(N=_.payload,v=typeof N=="function"?N.call(j,g,v):N,v==null)break e;g=ge({},g,v);break e;case 2:At=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,v=l.effects,v===null?l.effects=[o]:v.push(o))}else j={eventTime:j,lane:v,tag:o.tag,payload:o.payload,callback:o.callback,next:null},y===null?(d=y=j,c=g):y=y.next=j,a|=v;if(o=o.next,o===null){if(o=l.shared.pending,o===null)break;v=o,o=v.next,v.next=null,l.lastBaseUpdate=v,l.shared.pending=null}}while(!0);if(y===null&&(c=g),l.baseState=c,l.firstBaseUpdate=d,l.lastBaseUpdate=y,t=l.shared.interleaved,t!==null){l=t;do a|=l.lane,l=l.next;while(l!==t)}else i===null&&(l.shared.lanes=0);vn|=a,e.lanes=a,e.memoizedState=g}}function yc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],l=r.callback;if(l!==null){if(r.callback=null,r=n,typeof l!="function")throw Error(M(191,l));l.call(r)}}}var qr={},Ct=nn(qr),Ar=nn(qr),Ur=nn(qr);function pn(e){if(e===qr)throw Error(M(174));return e}function La(e,t){switch(ce(Ur,t),ce(Ar,e),ce(Ct,qr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:wi(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=wi(t,e)}de(Ct),ce(Ct,t)}function Yn(){de(Ct),de(Ar),de(Ur)}function ad(e){pn(Ur.current);var t=pn(Ct.current),n=wi(t,e.type);t!==n&&(ce(Ar,e),ce(Ct,n))}function Fa(e){Ar.current===e&&(de(Ct),de(Ar))}var me=nn(0);function es(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ti=[];function za(){for(var e=0;e<ti.length;e++)ti[e]._workInProgressVersionPrimary=null;ti.length=0}var Ml=Rt.ReactCurrentDispatcher,ni=Rt.ReactCurrentBatchConfig,xn=0,ye=null,Ne=null,Ee=null,ts=!1,Sr=!1,Br=0,Jh=0;function Ie(){throw Error(M(321))}function Ra(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!gt(e[n],t[n]))return!1;return!0}function Ia(e,t,n,r,l,i){if(xn=i,ye=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ml.current=e===null||e.memoizedState===null?rm:lm,e=n(r,l),Sr){i=0;do{if(Sr=!1,Br=0,25<=i)throw Error(M(301));i+=1,Ee=Ne=null,t.updateQueue=null,Ml.current=sm,e=n(r,l)}while(Sr)}if(Ml.current=ns,t=Ne!==null&&Ne.next!==null,xn=0,Ee=Ne=ye=null,ts=!1,t)throw Error(M(300));return e}function Da(){var e=Br!==0;return Br=0,e}function jt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ee===null?ye.memoizedState=Ee=e:Ee=Ee.next=e,Ee}function ot(){if(Ne===null){var e=ye.alternate;e=e!==null?e.memoizedState:null}else e=Ne.next;var t=Ee===null?ye.memoizedState:Ee.next;if(t!==null)Ee=t,Ne=e;else{if(e===null)throw Error(M(310));Ne=e,e={memoizedState:Ne.memoizedState,baseState:Ne.baseState,baseQueue:Ne.baseQueue,queue:Ne.queue,next:null},Ee===null?ye.memoizedState=Ee=e:Ee=Ee.next=e}return Ee}function Vr(e,t){return typeof t=="function"?t(e):t}function ri(e){var t=ot(),n=t.queue;if(n===null)throw Error(M(311));n.lastRenderedReducer=e;var r=Ne,l=r.baseQueue,i=n.pending;if(i!==null){if(l!==null){var a=l.next;l.next=i.next,i.next=a}r.baseQueue=l=i,n.pending=null}if(l!==null){i=l.next,r=r.baseState;var o=a=null,c=null,d=i;do{var y=d.lane;if((xn&y)===y)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var g={lane:y,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(o=c=g,a=r):c=c.next=g,ye.lanes|=y,vn|=y}d=d.next}while(d!==null&&d!==i);c===null?a=r:c.next=o,gt(r,t.memoizedState)||(Ke=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){l=e;do i=l.lane,ye.lanes|=i,vn|=i,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function li(e){var t=ot(),n=t.queue;if(n===null)throw Error(M(311));n.lastRenderedReducer=e;var r=n.dispatch,l=n.pending,i=t.memoizedState;if(l!==null){n.pending=null;var a=l=l.next;do i=e(i,a.action),a=a.next;while(a!==l);gt(i,t.memoizedState)||(Ke=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function od(){}function cd(e,t){var n=ye,r=ot(),l=t(),i=!gt(r.memoizedState,l);if(i&&(r.memoizedState=l,Ke=!0),r=r.queue,Oa(fd.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Ee!==null&&Ee.memoizedState.tag&1){if(n.flags|=2048,Hr(9,dd.bind(null,n,r,l,t),void 0,null),_e===null)throw Error(M(349));xn&30||ud(n,t,l)}return l}function ud(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ye.updateQueue,t===null?(t={lastEffect:null,stores:null},ye.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function dd(e,t,n,r){t.value=n,t.getSnapshot=r,pd(t)&&hd(e)}function fd(e,t,n){return n(function(){pd(t)&&hd(e)})}function pd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!gt(e,n)}catch{return!0}}function hd(e){var t=Ft(e,1);t!==null&&yt(t,e,1,-1)}function gc(e){var t=jt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vr,lastRenderedState:e},t.queue=e,e=e.dispatch=nm.bind(null,ye,e),[t.memoizedState,e]}function Hr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ye.updateQueue,t===null?(t={lastEffect:null,stores:null},ye.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function md(){return ot().memoizedState}function Tl(e,t,n,r){var l=jt();ye.flags|=e,l.memoizedState=Hr(1|t,n,void 0,r===void 0?null:r)}function xs(e,t,n,r){var l=ot();r=r===void 0?null:r;var i=void 0;if(Ne!==null){var a=Ne.memoizedState;if(i=a.destroy,r!==null&&Ra(r,a.deps)){l.memoizedState=Hr(t,n,i,r);return}}ye.flags|=e,l.memoizedState=Hr(1|t,n,i,r)}function xc(e,t){return Tl(8390656,8,e,t)}function Oa(e,t){return xs(2048,8,e,t)}function yd(e,t){return xs(4,2,e,t)}function gd(e,t){return xs(4,4,e,t)}function xd(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function vd(e,t,n){return n=n!=null?n.concat([e]):null,xs(4,4,xd.bind(null,t,e),n)}function $a(){}function wd(e,t){var n=ot();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ra(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function kd(e,t){var n=ot();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ra(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function jd(e,t,n){return xn&21?(gt(n,t)||(n=Eu(),ye.lanes|=n,vn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ke=!0),e.memoizedState=n)}function em(e,t){var n=le;le=n!==0&&4>n?n:4,e(!0);var r=ni.transition;ni.transition={};try{e(!1),t()}finally{le=n,ni.transition=r}}function Nd(){return ot().memoizedState}function tm(e,t,n){var r=qt(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Sd(e))Cd(t,n);else if(n=sd(e,t,n,r),n!==null){var l=Ue();yt(n,e,r,l),bd(n,t,r)}}function nm(e,t,n){var r=qt(e),l={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Sd(e))Cd(t,l);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,o=i(a,n);if(l.hasEagerState=!0,l.eagerState=o,gt(o,a)){var c=t.interleaved;c===null?(l.next=l,Ma(t)):(l.next=c.next,c.next=l),t.interleaved=l;return}}catch{}finally{}n=sd(e,t,l,r),n!==null&&(l=Ue(),yt(n,e,r,l),bd(n,t,r))}}function Sd(e){var t=e.alternate;return e===ye||t!==null&&t===ye}function Cd(e,t){Sr=ts=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function bd(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ya(e,n)}}var ns={readContext:at,useCallback:Ie,useContext:Ie,useEffect:Ie,useImperativeHandle:Ie,useInsertionEffect:Ie,useLayoutEffect:Ie,useMemo:Ie,useReducer:Ie,useRef:Ie,useState:Ie,useDebugValue:Ie,useDeferredValue:Ie,useTransition:Ie,useMutableSource:Ie,useSyncExternalStore:Ie,useId:Ie,unstable_isNewReconciler:!1},rm={readContext:at,useCallback:function(e,t){return jt().memoizedState=[e,t===void 0?null:t],e},useContext:at,useEffect:xc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Tl(4194308,4,xd.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Tl(4194308,4,e,t)},useInsertionEffect:function(e,t){return Tl(4,2,e,t)},useMemo:function(e,t){var n=jt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=jt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tm.bind(null,ye,e),[r.memoizedState,e]},useRef:function(e){var t=jt();return e={current:e},t.memoizedState=e},useState:gc,useDebugValue:$a,useDeferredValue:function(e){return jt().memoizedState=e},useTransition:function(){var e=gc(!1),t=e[0];return e=em.bind(null,e[1]),jt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ye,l=jt();if(fe){if(n===void 0)throw Error(M(407));n=n()}else{if(n=t(),_e===null)throw Error(M(349));xn&30||ud(r,t,n)}l.memoizedState=n;var i={value:n,getSnapshot:t};return l.queue=i,xc(fd.bind(null,r,i,e),[e]),r.flags|=2048,Hr(9,dd.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=jt(),t=_e.identifierPrefix;if(fe){var n=Pt,r=_t;n=(r&~(1<<32-mt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Br++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Jh++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},lm={readContext:at,useCallback:wd,useContext:at,useEffect:Oa,useImperativeHandle:vd,useInsertionEffect:yd,useLayoutEffect:gd,useMemo:kd,useReducer:ri,useRef:md,useState:function(){return ri(Vr)},useDebugValue:$a,useDeferredValue:function(e){var t=ot();return jd(t,Ne.memoizedState,e)},useTransition:function(){var e=ri(Vr)[0],t=ot().memoizedState;return[e,t]},useMutableSource:od,useSyncExternalStore:cd,useId:Nd,unstable_isNewReconciler:!1},sm={readContext:at,useCallback:wd,useContext:at,useEffect:Oa,useImperativeHandle:vd,useInsertionEffect:yd,useLayoutEffect:gd,useMemo:kd,useReducer:li,useRef:md,useState:function(){return li(Vr)},useDebugValue:$a,useDeferredValue:function(e){var t=ot();return Ne===null?t.memoizedState=e:jd(t,Ne.memoizedState,e)},useTransition:function(){var e=li(Vr)[0],t=ot().memoizedState;return[e,t]},useMutableSource:od,useSyncExternalStore:cd,useId:Nd,unstable_isNewReconciler:!1};function dt(e,t){if(e&&e.defaultProps){t=ge({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Ui(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ge({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var vs={isMounted:function(e){return(e=e._reactInternals)?Nn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ue(),l=qt(e),i=Mt(r,l);i.payload=t,n!=null&&(i.callback=n),t=Yt(e,i,l),t!==null&&(yt(t,e,l,r),Pl(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ue(),l=qt(e),i=Mt(r,l);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Yt(e,i,l),t!==null&&(yt(t,e,l,r),Pl(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ue(),r=qt(e),l=Mt(n,r);l.tag=2,t!=null&&(l.callback=t),t=Yt(e,l,r),t!==null&&(yt(t,e,r,n),Pl(t,e,r))}};function vc(e,t,n,r,l,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,a):t.prototype&&t.prototype.isPureReactComponent?!Ir(n,r)||!Ir(l,i):!0}function Ed(e,t,n){var r=!1,l=en,i=t.contextType;return typeof i=="object"&&i!==null?i=at(i):(l=Ge(t)?yn:$e.current,r=t.contextTypes,i=(r=r!=null)?Kn(e,l):en),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=vs,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=i),t}function wc(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&vs.enqueueReplaceState(t,t.state,null)}function Bi(e,t,n,r){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},Ta(e);var i=t.contextType;typeof i=="object"&&i!==null?l.context=at(i):(i=Ge(t)?yn:$e.current,l.context=Kn(e,i)),l.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Ui(e,t,i,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&vs.enqueueReplaceState(l,l.state,null),Jl(e,n,l,r),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function Xn(e,t){try{var n="",r=t;do n+=Fp(r),r=r.return;while(r);var l=n}catch(i){l=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:l,digest:null}}function si(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Vi(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var im=typeof WeakMap=="function"?WeakMap:Map;function _d(e,t,n){n=Mt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ls||(ls=!0,Ji=r),Vi(e,t)},n}function Pd(e,t,n){n=Mt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var l=t.value;n.payload=function(){return r(l)},n.callback=function(){Vi(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Vi(e,t),typeof r!="function"&&(Xt===null?Xt=new Set([this]):Xt.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function kc(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new im;var l=new Set;r.set(t,l)}else l=r.get(t),l===void 0&&(l=new Set,r.set(t,l));l.has(n)||(l.add(n),e=wm.bind(null,e,t,n),t.then(e,e))}function jc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Nc(e,t,n,r,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Mt(-1,1),t.tag=2,Yt(n,t,1))),n.lanes|=1),e)}var am=Rt.ReactCurrentOwner,Ke=!1;function Ae(e,t,n,r){t.child=e===null?ld(t,null,n,r):Gn(t,e.child,n,r)}function Sc(e,t,n,r,l){n=n.render;var i=t.ref;return Bn(t,l),r=Ia(e,t,n,r,i,l),n=Da(),e!==null&&!Ke?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,zt(e,t,l)):(fe&&n&&Sa(t),t.flags|=1,Ae(e,t,r,l),t.child)}function Cc(e,t,n,r,l){if(e===null){var i=n.type;return typeof i=="function"&&!Qa(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,Md(e,t,i,r,l)):(e=Rl(n.type,null,r,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&l)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ir,n(a,r)&&e.ref===t.ref)return zt(e,t,l)}return t.flags|=1,e=Zt(i,r),e.ref=t.ref,e.return=t,t.child=e}function Md(e,t,n,r,l){if(e!==null){var i=e.memoizedProps;if(Ir(i,r)&&e.ref===t.ref)if(Ke=!1,t.pendingProps=r=i,(e.lanes&l)!==0)e.flags&131072&&(Ke=!0);else return t.lanes=e.lanes,zt(e,t,l)}return Hi(e,t,n,r,l)}function Td(e,t,n){var r=t.pendingProps,l=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ce(Dn,Xe),Xe|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ce(Dn,Xe),Xe|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ce(Dn,Xe),Xe|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,ce(Dn,Xe),Xe|=r;return Ae(e,t,l,n),t.child}function Ld(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Hi(e,t,n,r,l){var i=Ge(n)?yn:$e.current;return i=Kn(t,i),Bn(t,l),n=Ia(e,t,n,r,i,l),r=Da(),e!==null&&!Ke?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,zt(e,t,l)):(fe&&r&&Sa(t),t.flags|=1,Ae(e,t,n,l),t.child)}function bc(e,t,n,r,l){if(Ge(n)){var i=!0;Gl(t)}else i=!1;if(Bn(t,l),t.stateNode===null)Ll(e,t),Ed(t,n,r),Bi(t,n,r,l),r=!0;else if(e===null){var a=t.stateNode,o=t.memoizedProps;a.props=o;var c=a.context,d=n.contextType;typeof d=="object"&&d!==null?d=at(d):(d=Ge(n)?yn:$e.current,d=Kn(t,d));var y=n.getDerivedStateFromProps,g=typeof y=="function"||typeof a.getSnapshotBeforeUpdate=="function";g||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||c!==d)&&wc(t,a,r,d),At=!1;var v=t.memoizedState;a.state=v,Jl(t,r,a,l),c=t.memoizedState,o!==r||v!==c||Qe.current||At?(typeof y=="function"&&(Ui(t,n,y,r),c=t.memoizedState),(o=At||vc(t,n,o,r,v,c,d))?(g||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=d,r=o):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,id(e,t),o=t.memoizedProps,d=t.type===t.elementType?o:dt(t.type,o),a.props=d,g=t.pendingProps,v=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=at(c):(c=Ge(n)?yn:$e.current,c=Kn(t,c));var j=n.getDerivedStateFromProps;(y=typeof j=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==g||v!==c)&&wc(t,a,r,c),At=!1,v=t.memoizedState,a.state=v,Jl(t,r,a,l);var N=t.memoizedState;o!==g||v!==N||Qe.current||At?(typeof j=="function"&&(Ui(t,n,j,r),N=t.memoizedState),(d=At||vc(t,n,d,r,v,N,c)||!1)?(y||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,N,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,N,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=N),a.props=r,a.state=N,a.context=c,r=d):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),r=!1)}return Wi(e,t,n,r,i,l)}function Wi(e,t,n,r,l,i){Ld(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return l&&dc(t,n,!1),zt(e,t,i);r=t.stateNode,am.current=t;var o=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=Gn(t,e.child,null,i),t.child=Gn(t,null,o,i)):Ae(e,t,o,i),t.memoizedState=r.state,l&&dc(t,n,!0),t.child}function Fd(e){var t=e.stateNode;t.pendingContext?uc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&uc(e,t.context,!1),La(e,t.containerInfo)}function Ec(e,t,n,r,l){return Qn(),ba(l),t.flags|=256,Ae(e,t,n,r),t.child}var Ki={dehydrated:null,treeContext:null,retryLane:0};function Qi(e){return{baseLanes:e,cachePool:null,transitions:null}}function zd(e,t,n){var r=t.pendingProps,l=me.current,i=!1,a=(t.flags&128)!==0,o;if((o=a)||(o=e!==null&&e.memoizedState===null?!1:(l&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),ce(me,l&1),e===null)return $i(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,i?(r=t.mode,i=t.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=js(a,r,0,null),e=mn(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Qi(n),t.memoizedState=Ki,e):Aa(t,a));if(l=e.memoizedState,l!==null&&(o=l.dehydrated,o!==null))return om(e,t,a,r,o,l,n);if(i){i=r.fallback,a=t.mode,l=e.child,o=l.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&t.child!==l?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Zt(l,c),r.subtreeFlags=l.subtreeFlags&14680064),o!==null?i=Zt(o,i):(i=mn(i,a,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,a=e.child.memoizedState,a=a===null?Qi(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~n,t.memoizedState=Ki,r}return i=e.child,e=i.sibling,r=Zt(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Aa(e,t){return t=js({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function wl(e,t,n,r){return r!==null&&ba(r),Gn(t,e.child,null,n),e=Aa(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function om(e,t,n,r,l,i,a){if(n)return t.flags&256?(t.flags&=-257,r=si(Error(M(422))),wl(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,l=t.mode,r=js({mode:"visible",children:r.children},l,0,null),i=mn(i,l,a,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Gn(t,e.child,null,a),t.child.memoizedState=Qi(a),t.memoizedState=Ki,i);if(!(t.mode&1))return wl(e,t,a,null);if(l.data==="$!"){if(r=l.nextSibling&&l.nextSibling.dataset,r)var o=r.dgst;return r=o,i=Error(M(419)),r=si(i,r,void 0),wl(e,t,a,r)}if(o=(a&e.childLanes)!==0,Ke||o){if(r=_e,r!==null){switch(a&-a){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(r.suspendedLanes|a)?0:l,l!==0&&l!==i.retryLane&&(i.retryLane=l,Ft(e,l),yt(r,e,l,-1))}return Ka(),r=si(Error(M(421))),wl(e,t,a,r)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=km.bind(null,e),l._reactRetry=t,null):(e=i.treeContext,qe=Gt(l.nextSibling),Ze=t,fe=!0,ht=null,e!==null&&(rt[lt++]=_t,rt[lt++]=Pt,rt[lt++]=gn,_t=e.id,Pt=e.overflow,gn=t),t=Aa(t,r.children),t.flags|=4096,t)}function _c(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ai(e.return,t,n)}function ii(e,t,n,r,l){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:l}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=l)}function Rd(e,t,n){var r=t.pendingProps,l=r.revealOrder,i=r.tail;if(Ae(e,t,r.children,n),r=me.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&_c(e,n,t);else if(e.tag===19)_c(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ce(me,r),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&es(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),ii(t,!1,l,n,i);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&es(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}ii(t,!0,n,null,i);break;case"together":ii(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ll(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function zt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),vn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(M(153));if(t.child!==null){for(e=t.child,n=Zt(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Zt(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function cm(e,t,n){switch(t.tag){case 3:Fd(t),Qn();break;case 5:ad(t);break;case 1:Ge(t.type)&&Gl(t);break;case 4:La(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,l=t.memoizedProps.value;ce(ql,r._currentValue),r._currentValue=l;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ce(me,me.current&1),t.flags|=128,null):n&t.child.childLanes?zd(e,t,n):(ce(me,me.current&1),e=zt(e,t,n),e!==null?e.sibling:null);ce(me,me.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Rd(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),ce(me,me.current),r)break;return null;case 22:case 23:return t.lanes=0,Td(e,t,n)}return zt(e,t,n)}var Id,Gi,Dd,Od;Id=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Gi=function(){};Dd=function(e,t,n,r){var l=e.memoizedProps;if(l!==r){e=t.stateNode,pn(Ct.current);var i=null;switch(n){case"input":l=yi(e,l),r=yi(e,r),i=[];break;case"select":l=ge({},l,{value:void 0}),r=ge({},r,{value:void 0}),i=[];break;case"textarea":l=vi(e,l),r=vi(e,r),i=[];break;default:typeof l.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Kl)}ki(n,r);var a;n=null;for(d in l)if(!r.hasOwnProperty(d)&&l.hasOwnProperty(d)&&l[d]!=null)if(d==="style"){var o=l[d];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Pr.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var c=r[d];if(o=l!=null?l[d]:void 0,r.hasOwnProperty(d)&&c!==o&&(c!=null||o!=null))if(d==="style")if(o){for(a in o)!o.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&o[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(i||(i=[]),i.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Pr.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&ue("scroll",e),i||o===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};Od=function(e,t,n,r){n!==r&&(t.flags|=4)};function fr(e,t){if(!fe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function De(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags&14680064,r|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags,r|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function um(e,t,n){var r=t.pendingProps;switch(Ca(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return De(t),null;case 1:return Ge(t.type)&&Ql(),De(t),null;case 3:return r=t.stateNode,Yn(),de(Qe),de($e),za(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(xl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ht!==null&&(na(ht),ht=null))),Gi(e,t),De(t),null;case 5:Fa(t);var l=pn(Ur.current);if(n=t.type,e!==null&&t.stateNode!=null)Dd(e,t,n,r,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(M(166));return De(t),null}if(e=pn(Ct.current),xl(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Nt]=t,r[$r]=i,e=(t.mode&1)!==0,n){case"dialog":ue("cancel",r),ue("close",r);break;case"iframe":case"object":case"embed":ue("load",r);break;case"video":case"audio":for(l=0;l<gr.length;l++)ue(gr[l],r);break;case"source":ue("error",r);break;case"img":case"image":case"link":ue("error",r),ue("load",r);break;case"details":ue("toggle",r);break;case"input":Do(r,i),ue("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ue("invalid",r);break;case"textarea":$o(r,i),ue("invalid",r)}ki(n,i),l=null;for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];a==="children"?typeof o=="string"?r.textContent!==o&&(i.suppressHydrationWarning!==!0&&gl(r.textContent,o,e),l=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&gl(r.textContent,o,e),l=["children",""+o]):Pr.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&ue("scroll",r)}switch(n){case"input":cl(r),Oo(r,i,!0);break;case"textarea":cl(r),Ao(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Kl)}r=l,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=fu(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[Nt]=t,e[$r]=r,Id(e,t,!1,!1),t.stateNode=e;e:{switch(a=ji(n,r),n){case"dialog":ue("cancel",e),ue("close",e),l=r;break;case"iframe":case"object":case"embed":ue("load",e),l=r;break;case"video":case"audio":for(l=0;l<gr.length;l++)ue(gr[l],e);l=r;break;case"source":ue("error",e),l=r;break;case"img":case"image":case"link":ue("error",e),ue("load",e),l=r;break;case"details":ue("toggle",e),l=r;break;case"input":Do(e,r),l=yi(e,r),ue("invalid",e);break;case"option":l=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},l=ge({},r,{value:void 0}),ue("invalid",e);break;case"textarea":$o(e,r),l=vi(e,r),ue("invalid",e);break;default:l=r}ki(n,l),o=l;for(i in o)if(o.hasOwnProperty(i)){var c=o[i];i==="style"?mu(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&pu(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Mr(e,c):typeof c=="number"&&Mr(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Pr.hasOwnProperty(i)?c!=null&&i==="onScroll"&&ue("scroll",e):c!=null&&ua(e,i,c,a))}switch(n){case"input":cl(e),Oo(e,r,!1);break;case"textarea":cl(e),Ao(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Jt(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?On(e,!!r.multiple,i,!1):r.defaultValue!=null&&On(e,!!r.multiple,r.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=Kl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return De(t),null;case 6:if(e&&t.stateNode!=null)Od(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(M(166));if(n=pn(Ur.current),pn(Ct.current),xl(t)){if(r=t.stateNode,n=t.memoizedProps,r[Nt]=t,(i=r.nodeValue!==n)&&(e=Ze,e!==null))switch(e.tag){case 3:gl(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&gl(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Nt]=t,t.stateNode=r}return De(t),null;case 13:if(de(me),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(fe&&qe!==null&&t.mode&1&&!(t.flags&128))nd(),Qn(),t.flags|=98560,i=!1;else if(i=xl(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(M(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(M(317));i[Nt]=t}else Qn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;De(t),i=!1}else ht!==null&&(na(ht),ht=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||me.current&1?Se===0&&(Se=3):Ka())),t.updateQueue!==null&&(t.flags|=4),De(t),null);case 4:return Yn(),Gi(e,t),e===null&&Dr(t.stateNode.containerInfo),De(t),null;case 10:return Pa(t.type._context),De(t),null;case 17:return Ge(t.type)&&Ql(),De(t),null;case 19:if(de(me),i=t.memoizedState,i===null)return De(t),null;if(r=(t.flags&128)!==0,a=i.rendering,a===null)if(r)fr(i,!1);else{if(Se!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=es(e),a!==null){for(t.flags|=128,fr(i,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ce(me,me.current&1|2),t.child}e=e.sibling}i.tail!==null&&ve()>qn&&(t.flags|=128,r=!0,fr(i,!1),t.lanes=4194304)}else{if(!r)if(e=es(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),fr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!fe)return De(t),null}else 2*ve()-i.renderingStartTime>qn&&n!==1073741824&&(t.flags|=128,r=!0,fr(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(n=i.last,n!==null?n.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ve(),t.sibling=null,n=me.current,ce(me,r?n&1|2:n&1),t):(De(t),null);case 22:case 23:return Wa(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Xe&1073741824&&(De(t),t.subtreeFlags&6&&(t.flags|=8192)):De(t),null;case 24:return null;case 25:return null}throw Error(M(156,t.tag))}function dm(e,t){switch(Ca(t),t.tag){case 1:return Ge(t.type)&&Ql(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Yn(),de(Qe),de($e),za(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Fa(t),null;case 13:if(de(me),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(M(340));Qn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return de(me),null;case 4:return Yn(),null;case 10:return Pa(t.type._context),null;case 22:case 23:return Wa(),null;case 24:return null;default:return null}}var kl=!1,Oe=!1,fm=typeof WeakSet=="function"?WeakSet:Set,O=null;function In(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){xe(e,t,r)}else n.current=null}function Yi(e,t,n){try{n()}catch(r){xe(e,t,r)}}var Pc=!1;function pm(e,t){if(Li=Vl,e=Vu(),Na(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var l=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,o=-1,c=-1,d=0,y=0,g=e,v=null;t:for(;;){for(var j;g!==n||l!==0&&g.nodeType!==3||(o=a+l),g!==i||r!==0&&g.nodeType!==3||(c=a+r),g.nodeType===3&&(a+=g.nodeValue.length),(j=g.firstChild)!==null;)v=g,g=j;for(;;){if(g===e)break t;if(v===n&&++d===l&&(o=a),v===i&&++y===r&&(c=a),(j=g.nextSibling)!==null)break;g=v,v=g.parentNode}g=j}n=o===-1||c===-1?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Fi={focusedElem:e,selectionRange:n},Vl=!1,O=t;O!==null;)if(t=O,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,O=e;else for(;O!==null;){t=O;try{var N=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(N!==null){var _=N.memoizedProps,H=N.memoizedState,h=t.stateNode,p=h.getSnapshotBeforeUpdate(t.elementType===t.type?_:dt(t.type,_),H);h.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var f=t.stateNode.containerInfo;f.nodeType===1?f.textContent="":f.nodeType===9&&f.documentElement&&f.removeChild(f.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(M(163))}}catch(m){xe(t,t.return,m)}if(e=t.sibling,e!==null){e.return=t.return,O=e;break}O=t.return}return N=Pc,Pc=!1,N}function Cr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var l=r=r.next;do{if((l.tag&e)===e){var i=l.destroy;l.destroy=void 0,i!==void 0&&Yi(t,n,i)}l=l.next}while(l!==r)}}function ws(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Xi(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function $d(e){var t=e.alternate;t!==null&&(e.alternate=null,$d(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Nt],delete t[$r],delete t[Ii],delete t[Yh],delete t[Xh])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ad(e){return e.tag===5||e.tag===3||e.tag===4}function Mc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ad(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function qi(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Kl));else if(r!==4&&(e=e.child,e!==null))for(qi(e,t,n),e=e.sibling;e!==null;)qi(e,t,n),e=e.sibling}function Zi(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Zi(e,t,n),e=e.sibling;e!==null;)Zi(e,t,n),e=e.sibling}var Pe=null,pt=!1;function Ot(e,t,n){for(n=n.child;n!==null;)Ud(e,t,n),n=n.sibling}function Ud(e,t,n){if(St&&typeof St.onCommitFiberUnmount=="function")try{St.onCommitFiberUnmount(fs,n)}catch{}switch(n.tag){case 5:Oe||In(n,t);case 6:var r=Pe,l=pt;Pe=null,Ot(e,t,n),Pe=r,pt=l,Pe!==null&&(pt?(e=Pe,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Pe.removeChild(n.stateNode));break;case 18:Pe!==null&&(pt?(e=Pe,n=n.stateNode,e.nodeType===8?Js(e.parentNode,n):e.nodeType===1&&Js(e,n),zr(e)):Js(Pe,n.stateNode));break;case 4:r=Pe,l=pt,Pe=n.stateNode.containerInfo,pt=!0,Ot(e,t,n),Pe=r,pt=l;break;case 0:case 11:case 14:case 15:if(!Oe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){l=r=r.next;do{var i=l,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&Yi(n,t,a),l=l.next}while(l!==r)}Ot(e,t,n);break;case 1:if(!Oe&&(In(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){xe(n,t,o)}Ot(e,t,n);break;case 21:Ot(e,t,n);break;case 22:n.mode&1?(Oe=(r=Oe)||n.memoizedState!==null,Ot(e,t,n),Oe=r):Ot(e,t,n);break;default:Ot(e,t,n)}}function Tc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new fm),t.forEach(function(r){var l=jm.bind(null,e,r);n.has(r)||(n.add(r),r.then(l,l))})}}function ut(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];try{var i=e,a=t,o=a;e:for(;o!==null;){switch(o.tag){case 5:Pe=o.stateNode,pt=!1;break e;case 3:Pe=o.stateNode.containerInfo,pt=!0;break e;case 4:Pe=o.stateNode.containerInfo,pt=!0;break e}o=o.return}if(Pe===null)throw Error(M(160));Ud(i,a,l),Pe=null,pt=!1;var c=l.alternate;c!==null&&(c.return=null),l.return=null}catch(d){xe(l,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Bd(t,e),t=t.sibling}function Bd(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ut(t,e),kt(e),r&4){try{Cr(3,e,e.return),ws(3,e)}catch(_){xe(e,e.return,_)}try{Cr(5,e,e.return)}catch(_){xe(e,e.return,_)}}break;case 1:ut(t,e),kt(e),r&512&&n!==null&&In(n,n.return);break;case 5:if(ut(t,e),kt(e),r&512&&n!==null&&In(n,n.return),e.flags&32){var l=e.stateNode;try{Mr(l,"")}catch(_){xe(e,e.return,_)}}if(r&4&&(l=e.stateNode,l!=null)){var i=e.memoizedProps,a=n!==null?n.memoizedProps:i,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&uu(l,i),ji(o,a);var d=ji(o,i);for(a=0;a<c.length;a+=2){var y=c[a],g=c[a+1];y==="style"?mu(l,g):y==="dangerouslySetInnerHTML"?pu(l,g):y==="children"?Mr(l,g):ua(l,y,g,d)}switch(o){case"input":gi(l,i);break;case"textarea":du(l,i);break;case"select":var v=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!i.multiple;var j=i.value;j!=null?On(l,!!i.multiple,j,!1):v!==!!i.multiple&&(i.defaultValue!=null?On(l,!!i.multiple,i.defaultValue,!0):On(l,!!i.multiple,i.multiple?[]:"",!1))}l[$r]=i}catch(_){xe(e,e.return,_)}}break;case 6:if(ut(t,e),kt(e),r&4){if(e.stateNode===null)throw Error(M(162));l=e.stateNode,i=e.memoizedProps;try{l.nodeValue=i}catch(_){xe(e,e.return,_)}}break;case 3:if(ut(t,e),kt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{zr(t.containerInfo)}catch(_){xe(e,e.return,_)}break;case 4:ut(t,e),kt(e);break;case 13:ut(t,e),kt(e),l=e.child,l.flags&8192&&(i=l.memoizedState!==null,l.stateNode.isHidden=i,!i||l.alternate!==null&&l.alternate.memoizedState!==null||(Va=ve())),r&4&&Tc(e);break;case 22:if(y=n!==null&&n.memoizedState!==null,e.mode&1?(Oe=(d=Oe)||y,ut(t,e),Oe=d):ut(t,e),kt(e),r&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!y&&e.mode&1)for(O=e,y=e.child;y!==null;){for(g=O=y;O!==null;){switch(v=O,j=v.child,v.tag){case 0:case 11:case 14:case 15:Cr(4,v,v.return);break;case 1:In(v,v.return);var N=v.stateNode;if(typeof N.componentWillUnmount=="function"){r=v,n=v.return;try{t=r,N.props=t.memoizedProps,N.state=t.memoizedState,N.componentWillUnmount()}catch(_){xe(r,n,_)}}break;case 5:In(v,v.return);break;case 22:if(v.memoizedState!==null){Fc(g);continue}}j!==null?(j.return=v,O=j):Fc(g)}y=y.sibling}e:for(y=null,g=e;;){if(g.tag===5){if(y===null){y=g;try{l=g.stateNode,d?(i=l.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=g.stateNode,c=g.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=hu("display",a))}catch(_){xe(e,e.return,_)}}}else if(g.tag===6){if(y===null)try{g.stateNode.nodeValue=d?"":g.memoizedProps}catch(_){xe(e,e.return,_)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===e)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===e)break e;for(;g.sibling===null;){if(g.return===null||g.return===e)break e;y===g&&(y=null),g=g.return}y===g&&(y=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:ut(t,e),kt(e),r&4&&Tc(e);break;case 21:break;default:ut(t,e),kt(e)}}function kt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Ad(n)){var r=n;break e}n=n.return}throw Error(M(160))}switch(r.tag){case 5:var l=r.stateNode;r.flags&32&&(Mr(l,""),r.flags&=-33);var i=Mc(e);Zi(e,i,l);break;case 3:case 4:var a=r.stateNode.containerInfo,o=Mc(e);qi(e,o,a);break;default:throw Error(M(161))}}catch(c){xe(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function hm(e,t,n){O=e,Vd(e)}function Vd(e,t,n){for(var r=(e.mode&1)!==0;O!==null;){var l=O,i=l.child;if(l.tag===22&&r){var a=l.memoizedState!==null||kl;if(!a){var o=l.alternate,c=o!==null&&o.memoizedState!==null||Oe;o=kl;var d=Oe;if(kl=a,(Oe=c)&&!d)for(O=l;O!==null;)a=O,c=a.child,a.tag===22&&a.memoizedState!==null?zc(l):c!==null?(c.return=a,O=c):zc(l);for(;i!==null;)O=i,Vd(i),i=i.sibling;O=l,kl=o,Oe=d}Lc(e)}else l.subtreeFlags&8772&&i!==null?(i.return=l,O=i):Lc(e)}}function Lc(e){for(;O!==null;){var t=O;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Oe||ws(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Oe)if(n===null)r.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:dt(t.type,n.memoizedProps);r.componentDidUpdate(l,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&yc(t,i,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}yc(t,a,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var y=d.memoizedState;if(y!==null){var g=y.dehydrated;g!==null&&zr(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(M(163))}Oe||t.flags&512&&Xi(t)}catch(v){xe(t,t.return,v)}}if(t===e){O=null;break}if(n=t.sibling,n!==null){n.return=t.return,O=n;break}O=t.return}}function Fc(e){for(;O!==null;){var t=O;if(t===e){O=null;break}var n=t.sibling;if(n!==null){n.return=t.return,O=n;break}O=t.return}}function zc(e){for(;O!==null;){var t=O;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ws(4,t)}catch(c){xe(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var l=t.return;try{r.componentDidMount()}catch(c){xe(t,l,c)}}var i=t.return;try{Xi(t)}catch(c){xe(t,i,c)}break;case 5:var a=t.return;try{Xi(t)}catch(c){xe(t,a,c)}}}catch(c){xe(t,t.return,c)}if(t===e){O=null;break}var o=t.sibling;if(o!==null){o.return=t.return,O=o;break}O=t.return}}var mm=Math.ceil,rs=Rt.ReactCurrentDispatcher,Ua=Rt.ReactCurrentOwner,it=Rt.ReactCurrentBatchConfig,te=0,_e=null,we=null,Me=0,Xe=0,Dn=nn(0),Se=0,Wr=null,vn=0,ks=0,Ba=0,br=null,We=null,Va=0,qn=1/0,bt=null,ls=!1,Ji=null,Xt=null,jl=!1,Ht=null,ss=0,Er=0,ea=null,Fl=-1,zl=0;function Ue(){return te&6?ve():Fl!==-1?Fl:Fl=ve()}function qt(e){return e.mode&1?te&2&&Me!==0?Me&-Me:Zh.transition!==null?(zl===0&&(zl=Eu()),zl):(e=le,e!==0||(e=window.event,e=e===void 0?16:zu(e.type)),e):1}function yt(e,t,n,r){if(50<Er)throw Er=0,ea=null,Error(M(185));Gr(e,n,r),(!(te&2)||e!==_e)&&(e===_e&&(!(te&2)&&(ks|=n),Se===4&&Bt(e,Me)),Ye(e,r),n===1&&te===0&&!(t.mode&1)&&(qn=ve()+500,gs&&rn()))}function Ye(e,t){var n=e.callbackNode;Zp(e,t);var r=Bl(e,e===_e?Me:0);if(r===0)n!==null&&Vo(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Vo(n),t===1)e.tag===0?qh(Rc.bind(null,e)):Ju(Rc.bind(null,e)),Qh(function(){!(te&6)&&rn()}),n=null;else{switch(_u(r)){case 1:n=ma;break;case 4:n=Cu;break;case 16:n=Ul;break;case 536870912:n=bu;break;default:n=Ul}n=qd(n,Hd.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Hd(e,t){if(Fl=-1,zl=0,te&6)throw Error(M(327));var n=e.callbackNode;if(Vn()&&e.callbackNode!==n)return null;var r=Bl(e,e===_e?Me:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=is(e,r);else{t=r;var l=te;te|=2;var i=Kd();(_e!==e||Me!==t)&&(bt=null,qn=ve()+500,hn(e,t));do try{xm();break}catch(o){Wd(e,o)}while(!0);_a(),rs.current=i,te=l,we!==null?t=0:(_e=null,Me=0,t=Se)}if(t!==0){if(t===2&&(l=Ei(e),l!==0&&(r=l,t=ta(e,l))),t===1)throw n=Wr,hn(e,0),Bt(e,r),Ye(e,ve()),n;if(t===6)Bt(e,r);else{if(l=e.current.alternate,!(r&30)&&!ym(l)&&(t=is(e,r),t===2&&(i=Ei(e),i!==0&&(r=i,t=ta(e,i))),t===1))throw n=Wr,hn(e,0),Bt(e,r),Ye(e,ve()),n;switch(e.finishedWork=l,e.finishedLanes=r,t){case 0:case 1:throw Error(M(345));case 2:un(e,We,bt);break;case 3:if(Bt(e,r),(r&130023424)===r&&(t=Va+500-ve(),10<t)){if(Bl(e,0)!==0)break;if(l=e.suspendedLanes,(l&r)!==r){Ue(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=Ri(un.bind(null,e,We,bt),t);break}un(e,We,bt);break;case 4:if(Bt(e,r),(r&4194240)===r)break;for(t=e.eventTimes,l=-1;0<r;){var a=31-mt(r);i=1<<a,a=t[a],a>l&&(l=a),r&=~i}if(r=l,r=ve()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*mm(r/1960))-r,10<r){e.timeoutHandle=Ri(un.bind(null,e,We,bt),r);break}un(e,We,bt);break;case 5:un(e,We,bt);break;default:throw Error(M(329))}}}return Ye(e,ve()),e.callbackNode===n?Hd.bind(null,e):null}function ta(e,t){var n=br;return e.current.memoizedState.isDehydrated&&(hn(e,t).flags|=256),e=is(e,t),e!==2&&(t=We,We=n,t!==null&&na(t)),e}function na(e){We===null?We=e:We.push.apply(We,e)}function ym(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var l=n[r],i=l.getSnapshot;l=l.value;try{if(!gt(i(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Bt(e,t){for(t&=~Ba,t&=~ks,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-mt(t),r=1<<n;e[n]=-1,t&=~r}}function Rc(e){if(te&6)throw Error(M(327));Vn();var t=Bl(e,0);if(!(t&1))return Ye(e,ve()),null;var n=is(e,t);if(e.tag!==0&&n===2){var r=Ei(e);r!==0&&(t=r,n=ta(e,r))}if(n===1)throw n=Wr,hn(e,0),Bt(e,t),Ye(e,ve()),n;if(n===6)throw Error(M(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,un(e,We,bt),Ye(e,ve()),null}function Ha(e,t){var n=te;te|=1;try{return e(t)}finally{te=n,te===0&&(qn=ve()+500,gs&&rn())}}function wn(e){Ht!==null&&Ht.tag===0&&!(te&6)&&Vn();var t=te;te|=1;var n=it.transition,r=le;try{if(it.transition=null,le=1,e)return e()}finally{le=r,it.transition=n,te=t,!(te&6)&&rn()}}function Wa(){Xe=Dn.current,de(Dn)}function hn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Kh(n)),we!==null)for(n=we.return;n!==null;){var r=n;switch(Ca(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ql();break;case 3:Yn(),de(Qe),de($e),za();break;case 5:Fa(r);break;case 4:Yn();break;case 13:de(me);break;case 19:de(me);break;case 10:Pa(r.type._context);break;case 22:case 23:Wa()}n=n.return}if(_e=e,we=e=Zt(e.current,null),Me=Xe=t,Se=0,Wr=null,Ba=ks=vn=0,We=br=null,fn!==null){for(t=0;t<fn.length;t++)if(n=fn[t],r=n.interleaved,r!==null){n.interleaved=null;var l=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=l,r.next=a}n.pending=r}fn=null}return e}function Wd(e,t){do{var n=we;try{if(_a(),Ml.current=ns,ts){for(var r=ye.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}ts=!1}if(xn=0,Ee=Ne=ye=null,Sr=!1,Br=0,Ua.current=null,n===null||n.return===null){Se=1,Wr=t,we=null;break}e:{var i=e,a=n.return,o=n,c=t;if(t=Me,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,y=o,g=y.tag;if(!(y.mode&1)&&(g===0||g===11||g===15)){var v=y.alternate;v?(y.updateQueue=v.updateQueue,y.memoizedState=v.memoizedState,y.lanes=v.lanes):(y.updateQueue=null,y.memoizedState=null)}var j=jc(a);if(j!==null){j.flags&=-257,Nc(j,a,o,i,t),j.mode&1&&kc(i,d,t),t=j,c=d;var N=t.updateQueue;if(N===null){var _=new Set;_.add(c),t.updateQueue=_}else N.add(c);break e}else{if(!(t&1)){kc(i,d,t),Ka();break e}c=Error(M(426))}}else if(fe&&o.mode&1){var H=jc(a);if(H!==null){!(H.flags&65536)&&(H.flags|=256),Nc(H,a,o,i,t),ba(Xn(c,o));break e}}i=c=Xn(c,o),Se!==4&&(Se=2),br===null?br=[i]:br.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var h=_d(i,c,t);mc(i,h);break e;case 1:o=c;var p=i.type,f=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Xt===null||!Xt.has(f)))){i.flags|=65536,t&=-t,i.lanes|=t;var m=Pd(i,o,t);mc(i,m);break e}}i=i.return}while(i!==null)}Gd(n)}catch(b){t=b,we===n&&n!==null&&(we=n=n.return);continue}break}while(!0)}function Kd(){var e=rs.current;return rs.current=ns,e===null?ns:e}function Ka(){(Se===0||Se===3||Se===2)&&(Se=4),_e===null||!(vn&268435455)&&!(ks&268435455)||Bt(_e,Me)}function is(e,t){var n=te;te|=2;var r=Kd();(_e!==e||Me!==t)&&(bt=null,hn(e,t));do try{gm();break}catch(l){Wd(e,l)}while(!0);if(_a(),te=n,rs.current=r,we!==null)throw Error(M(261));return _e=null,Me=0,Se}function gm(){for(;we!==null;)Qd(we)}function xm(){for(;we!==null&&!Vp();)Qd(we)}function Qd(e){var t=Xd(e.alternate,e,Xe);e.memoizedProps=e.pendingProps,t===null?Gd(e):we=t,Ua.current=null}function Gd(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=dm(n,t),n!==null){n.flags&=32767,we=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Se=6,we=null;return}}else if(n=um(n,t,Xe),n!==null){we=n;return}if(t=t.sibling,t!==null){we=t;return}we=t=e}while(t!==null);Se===0&&(Se=5)}function un(e,t,n){var r=le,l=it.transition;try{it.transition=null,le=1,vm(e,t,n,r)}finally{it.transition=l,le=r}return null}function vm(e,t,n,r){do Vn();while(Ht!==null);if(te&6)throw Error(M(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(M(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Jp(e,i),e===_e&&(we=_e=null,Me=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||jl||(jl=!0,qd(Ul,function(){return Vn(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=it.transition,it.transition=null;var a=le;le=1;var o=te;te|=4,Ua.current=null,pm(e,n),Bd(n,e),$h(Fi),Vl=!!Li,Fi=Li=null,e.current=n,hm(n),Hp(),te=o,le=a,it.transition=i}else e.current=n;if(jl&&(jl=!1,Ht=e,ss=l),i=e.pendingLanes,i===0&&(Xt=null),Qp(n.stateNode),Ye(e,ve()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],r(l.value,{componentStack:l.stack,digest:l.digest});if(ls)throw ls=!1,e=Ji,Ji=null,e;return ss&1&&e.tag!==0&&Vn(),i=e.pendingLanes,i&1?e===ea?Er++:(Er=0,ea=e):Er=0,rn(),null}function Vn(){if(Ht!==null){var e=_u(ss),t=it.transition,n=le;try{if(it.transition=null,le=16>e?16:e,Ht===null)var r=!1;else{if(e=Ht,Ht=null,ss=0,te&6)throw Error(M(331));var l=te;for(te|=4,O=e.current;O!==null;){var i=O,a=i.child;if(O.flags&16){var o=i.deletions;if(o!==null){for(var c=0;c<o.length;c++){var d=o[c];for(O=d;O!==null;){var y=O;switch(y.tag){case 0:case 11:case 15:Cr(8,y,i)}var g=y.child;if(g!==null)g.return=y,O=g;else for(;O!==null;){y=O;var v=y.sibling,j=y.return;if($d(y),y===d){O=null;break}if(v!==null){v.return=j,O=v;break}O=j}}}var N=i.alternate;if(N!==null){var _=N.child;if(_!==null){N.child=null;do{var H=_.sibling;_.sibling=null,_=H}while(_!==null)}}O=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,O=a;else e:for(;O!==null;){if(i=O,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Cr(9,i,i.return)}var h=i.sibling;if(h!==null){h.return=i.return,O=h;break e}O=i.return}}var p=e.current;for(O=p;O!==null;){a=O;var f=a.child;if(a.subtreeFlags&2064&&f!==null)f.return=a,O=f;else e:for(a=p;O!==null;){if(o=O,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:ws(9,o)}}catch(b){xe(o,o.return,b)}if(o===a){O=null;break e}var m=o.sibling;if(m!==null){m.return=o.return,O=m;break e}O=o.return}}if(te=l,rn(),St&&typeof St.onPostCommitFiberRoot=="function")try{St.onPostCommitFiberRoot(fs,e)}catch{}r=!0}return r}finally{le=n,it.transition=t}}return!1}function Ic(e,t,n){t=Xn(n,t),t=_d(e,t,1),e=Yt(e,t,1),t=Ue(),e!==null&&(Gr(e,1,t),Ye(e,t))}function xe(e,t,n){if(e.tag===3)Ic(e,e,n);else for(;t!==null;){if(t.tag===3){Ic(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Xt===null||!Xt.has(r))){e=Xn(n,e),e=Pd(t,e,1),t=Yt(t,e,1),e=Ue(),t!==null&&(Gr(t,1,e),Ye(t,e));break}}t=t.return}}function wm(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ue(),e.pingedLanes|=e.suspendedLanes&n,_e===e&&(Me&n)===n&&(Se===4||Se===3&&(Me&130023424)===Me&&500>ve()-Va?hn(e,0):Ba|=n),Ye(e,t)}function Yd(e,t){t===0&&(e.mode&1?(t=fl,fl<<=1,!(fl&130023424)&&(fl=4194304)):t=1);var n=Ue();e=Ft(e,t),e!==null&&(Gr(e,t,n),Ye(e,n))}function km(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Yd(e,n)}function jm(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(M(314))}r!==null&&r.delete(t),Yd(e,n)}var Xd;Xd=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Qe.current)Ke=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ke=!1,cm(e,t,n);Ke=!!(e.flags&131072)}else Ke=!1,fe&&t.flags&1048576&&ed(t,Xl,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ll(e,t),e=t.pendingProps;var l=Kn(t,$e.current);Bn(t,n),l=Ia(null,t,r,e,l,n);var i=Da();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ge(r)?(i=!0,Gl(t)):i=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,Ta(t),l.updater=vs,t.stateNode=l,l._reactInternals=t,Bi(t,r,e,n),t=Wi(null,t,r,!0,i,n)):(t.tag=0,fe&&i&&Sa(t),Ae(null,t,l,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ll(e,t),e=t.pendingProps,l=r._init,r=l(r._payload),t.type=r,l=t.tag=Sm(r),e=dt(r,e),l){case 0:t=Hi(null,t,r,e,n);break e;case 1:t=bc(null,t,r,e,n);break e;case 11:t=Sc(null,t,r,e,n);break e;case 14:t=Cc(null,t,r,dt(r.type,e),n);break e}throw Error(M(306,r,""))}return t;case 0:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:dt(r,l),Hi(e,t,r,l,n);case 1:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:dt(r,l),bc(e,t,r,l,n);case 3:e:{if(Fd(t),e===null)throw Error(M(387));r=t.pendingProps,i=t.memoizedState,l=i.element,id(e,t),Jl(t,r,null,n);var a=t.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){l=Xn(Error(M(423)),t),t=Ec(e,t,r,n,l);break e}else if(r!==l){l=Xn(Error(M(424)),t),t=Ec(e,t,r,n,l);break e}else for(qe=Gt(t.stateNode.containerInfo.firstChild),Ze=t,fe=!0,ht=null,n=ld(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Qn(),r===l){t=zt(e,t,n);break e}Ae(e,t,r,n)}t=t.child}return t;case 5:return ad(t),e===null&&$i(t),r=t.type,l=t.pendingProps,i=e!==null?e.memoizedProps:null,a=l.children,zi(r,l)?a=null:i!==null&&zi(r,i)&&(t.flags|=32),Ld(e,t),Ae(e,t,a,n),t.child;case 6:return e===null&&$i(t),null;case 13:return zd(e,t,n);case 4:return La(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Gn(t,null,r,n):Ae(e,t,r,n),t.child;case 11:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:dt(r,l),Sc(e,t,r,l,n);case 7:return Ae(e,t,t.pendingProps,n),t.child;case 8:return Ae(e,t,t.pendingProps.children,n),t.child;case 12:return Ae(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,l=t.pendingProps,i=t.memoizedProps,a=l.value,ce(ql,r._currentValue),r._currentValue=a,i!==null)if(gt(i.value,a)){if(i.children===l.children&&!Qe.current){t=zt(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){a=i.child;for(var c=o.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Mt(-1,n&-n),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var y=d.pending;y===null?c.next=c:(c.next=y.next,y.next=c),d.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Ai(i.return,n,t),o.lanes|=n;break}c=c.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(M(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),Ai(a,n,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Ae(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,r=t.pendingProps.children,Bn(t,n),l=at(l),r=r(l),t.flags|=1,Ae(e,t,r,n),t.child;case 14:return r=t.type,l=dt(r,t.pendingProps),l=dt(r.type,l),Cc(e,t,r,l,n);case 15:return Md(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:dt(r,l),Ll(e,t),t.tag=1,Ge(r)?(e=!0,Gl(t)):e=!1,Bn(t,n),Ed(t,r,l),Bi(t,r,l,n),Wi(null,t,r,!0,e,n);case 19:return Rd(e,t,n);case 22:return Td(e,t,n)}throw Error(M(156,t.tag))};function qd(e,t){return Su(e,t)}function Nm(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function st(e,t,n,r){return new Nm(e,t,n,r)}function Qa(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Sm(e){if(typeof e=="function")return Qa(e)?1:0;if(e!=null){if(e=e.$$typeof,e===fa)return 11;if(e===pa)return 14}return 2}function Zt(e,t){var n=e.alternate;return n===null?(n=st(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Rl(e,t,n,r,l,i){var a=2;if(r=e,typeof e=="function")Qa(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case En:return mn(n.children,l,i,t);case da:a=8,l|=8;break;case fi:return e=st(12,n,t,l|2),e.elementType=fi,e.lanes=i,e;case pi:return e=st(13,n,t,l),e.elementType=pi,e.lanes=i,e;case hi:return e=st(19,n,t,l),e.elementType=hi,e.lanes=i,e;case au:return js(n,l,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case su:a=10;break e;case iu:a=9;break e;case fa:a=11;break e;case pa:a=14;break e;case $t:a=16,r=null;break e}throw Error(M(130,e==null?e:typeof e,""))}return t=st(a,n,t,l),t.elementType=e,t.type=r,t.lanes=i,t}function mn(e,t,n,r){return e=st(7,e,r,t),e.lanes=n,e}function js(e,t,n,r){return e=st(22,e,r,t),e.elementType=au,e.lanes=n,e.stateNode={isHidden:!1},e}function ai(e,t,n){return e=st(6,e,null,t),e.lanes=n,e}function oi(e,t,n){return t=st(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Cm(e,t,n,r,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Bs(0),this.expirationTimes=Bs(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bs(0),this.identifierPrefix=r,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function Ga(e,t,n,r,l,i,a,o,c){return e=new Cm(e,t,n,o,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=st(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ta(i),e}function bm(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:bn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Zd(e){if(!e)return en;e=e._reactInternals;e:{if(Nn(e)!==e||e.tag!==1)throw Error(M(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ge(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(M(171))}if(e.tag===1){var n=e.type;if(Ge(n))return Zu(e,n,t)}return t}function Jd(e,t,n,r,l,i,a,o,c){return e=Ga(n,r,!0,e,l,i,a,o,c),e.context=Zd(null),n=e.current,r=Ue(),l=qt(n),i=Mt(r,l),i.callback=t??null,Yt(n,i,l),e.current.lanes=l,Gr(e,l,r),Ye(e,r),e}function Ns(e,t,n,r){var l=t.current,i=Ue(),a=qt(l);return n=Zd(n),t.context===null?t.context=n:t.pendingContext=n,t=Mt(i,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Yt(l,t,a),e!==null&&(yt(e,l,a,i),Pl(e,l,a)),a}function as(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Dc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ya(e,t){Dc(e,t),(e=e.alternate)&&Dc(e,t)}function Em(){return null}var ef=typeof reportError=="function"?reportError:function(e){console.error(e)};function Xa(e){this._internalRoot=e}Ss.prototype.render=Xa.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(M(409));Ns(e,t,null,null)};Ss.prototype.unmount=Xa.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;wn(function(){Ns(null,e,null,null)}),t[Lt]=null}};function Ss(e){this._internalRoot=e}Ss.prototype.unstable_scheduleHydration=function(e){if(e){var t=Tu();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ut.length&&t!==0&&t<Ut[n].priority;n++);Ut.splice(n,0,e),n===0&&Fu(e)}};function qa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Cs(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Oc(){}function _m(e,t,n,r,l){if(l){if(typeof r=="function"){var i=r;r=function(){var d=as(a);i.call(d)}}var a=Jd(t,r,e,0,null,!1,!1,"",Oc);return e._reactRootContainer=a,e[Lt]=a.current,Dr(e.nodeType===8?e.parentNode:e),wn(),a}for(;l=e.lastChild;)e.removeChild(l);if(typeof r=="function"){var o=r;r=function(){var d=as(c);o.call(d)}}var c=Ga(e,0,!1,null,null,!1,!1,"",Oc);return e._reactRootContainer=c,e[Lt]=c.current,Dr(e.nodeType===8?e.parentNode:e),wn(function(){Ns(t,c,n,r)}),c}function bs(e,t,n,r,l){var i=n._reactRootContainer;if(i){var a=i;if(typeof l=="function"){var o=l;l=function(){var c=as(a);o.call(c)}}Ns(t,a,e,l)}else a=_m(n,t,e,l,r);return as(a)}Pu=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=yr(t.pendingLanes);n!==0&&(ya(t,n|1),Ye(t,ve()),!(te&6)&&(qn=ve()+500,rn()))}break;case 13:wn(function(){var r=Ft(e,1);if(r!==null){var l=Ue();yt(r,e,1,l)}}),Ya(e,1)}};ga=function(e){if(e.tag===13){var t=Ft(e,134217728);if(t!==null){var n=Ue();yt(t,e,134217728,n)}Ya(e,134217728)}};Mu=function(e){if(e.tag===13){var t=qt(e),n=Ft(e,t);if(n!==null){var r=Ue();yt(n,e,t,r)}Ya(e,t)}};Tu=function(){return le};Lu=function(e,t){var n=le;try{return le=e,t()}finally{le=n}};Si=function(e,t,n){switch(t){case"input":if(gi(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var l=ys(r);if(!l)throw Error(M(90));cu(r),gi(r,l)}}}break;case"textarea":du(e,n);break;case"select":t=n.value,t!=null&&On(e,!!n.multiple,t,!1)}};xu=Ha;vu=wn;var Pm={usingClientEntryPoint:!1,Events:[Xr,Tn,ys,yu,gu,Ha]},pr={findFiberByHostInstance:dn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Mm={bundleType:pr.bundleType,version:pr.version,rendererPackageName:pr.rendererPackageName,rendererConfig:pr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Rt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ju(e),e===null?null:e.stateNode},findFiberByHostInstance:pr.findFiberByHostInstance||Em,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nl.isDisabled&&Nl.supportsFiber)try{fs=Nl.inject(Mm),St=Nl}catch{}}et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Pm;et.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qa(t))throw Error(M(200));return bm(e,t,null,n)};et.createRoot=function(e,t){if(!qa(e))throw Error(M(299));var n=!1,r="",l=ef;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=Ga(e,1,!1,null,null,n,!1,r,l),e[Lt]=t.current,Dr(e.nodeType===8?e.parentNode:e),new Xa(t)};et.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(M(188)):(e=Object.keys(e).join(","),Error(M(268,e)));return e=ju(t),e=e===null?null:e.stateNode,e};et.flushSync=function(e){return wn(e)};et.hydrate=function(e,t,n){if(!Cs(t))throw Error(M(200));return bs(null,e,t,!0,n)};et.hydrateRoot=function(e,t,n){if(!qa(e))throw Error(M(405));var r=n!=null&&n.hydratedSources||null,l=!1,i="",a=ef;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=Jd(t,null,e,1,n??null,l,!1,i,a),e[Lt]=t.current,Dr(e),r)for(e=0;e<r.length;e++)n=r[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new Ss(t)};et.render=function(e,t,n){if(!Cs(t))throw Error(M(200));return bs(null,e,t,!1,n)};et.unmountComponentAtNode=function(e){if(!Cs(e))throw Error(M(40));return e._reactRootContainer?(wn(function(){bs(null,null,e,!1,function(){e._reactRootContainer=null,e[Lt]=null})}),!0):!1};et.unstable_batchedUpdates=Ha;et.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Cs(n))throw Error(M(200));if(e==null||e._reactInternals===void 0)throw Error(M(38));return bs(e,t,n,!1,r)};et.version="18.3.1-next-f1338f8080-20240426";function tf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(tf)}catch(e){console.error(e)}}tf(),tu.exports=et;var Tm=tu.exports,nf,$c=Tm;nf=$c.createRoot,$c.hydrateRoot;const Lm="modulepreload",Fm=function(e,t){return new URL(e,t).href},Ac={},Ce=function(t,n,r){let l=Promise.resolve();if(n&&n.length>0){const a=document.getElementsByTagName("link"),o=document.querySelector("meta[property=csp-nonce]"),c=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));l=Promise.allSettled(n.map(d=>{if(d=Fm(d,r),d in Ac)return;Ac[d]=!0;const y=d.endsWith(".css"),g=y?'[rel="stylesheet"]':"";if(!!r)for(let N=a.length-1;N>=0;N--){const _=a[N];if(_.href===d&&(!y||_.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${d}"]${g}`))return;const j=document.createElement("link");if(j.rel=y?"stylesheet":Lm,y||(j.as="script"),j.crossOrigin="",j.href=d,c&&j.setAttribute("nonce",c),document.head.appendChild(j),y)return new Promise((N,_)=>{j.addEventListener("load",N),j.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${d}`)))})}))}function i(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return l.then(a=>{for(const o of a||[])o.status==="rejected"&&i(o.reason);return t().catch(i)})};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zm=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),rf=(...e)=>e.filter((t,n,r)=>!!t&&r.indexOf(t)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Rm={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Im=w.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:l="",children:i,iconNode:a,...o},c)=>w.createElement("svg",{ref:c,...Rm,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:rf("lucide",l),...o},[...a.map(([d,y])=>w.createElement(d,y)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=(e,t)=>{const n=w.forwardRef(({className:r,...l},i)=>w.createElement(Im,{ref:i,iconNode:t,className:rf(`lucide-${zm(e)}`,r),...l}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dm=Q("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Om=Q("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $m=Q("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Am=Q("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Um=Q("BookmarkPlus",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}],["line",{x1:"12",x2:"12",y1:"7",y2:"13",key:"1cppfj"}],["line",{x1:"15",x2:"9",y1:"10",y2:"10",key:"1gty7f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bm=Q("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vm=Q("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hm=Q("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wm=Q("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Za=Q("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uc=Q("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ra=Q("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Km=Q("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qm=Q("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gm=Q("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ym=Q("Crop",[["path",{d:"M6 2v14a2 2 0 0 0 2 2h14",key:"ron5a4"}],["path",{d:"M18 22V8a2 2 0 0 0-2-2H2",key:"7s9ehn"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xm=Q("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ja=Q("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qm=Q("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Il=Q("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zm=Q("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bc=Q("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zn=Q("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jm=Q("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ey=Q("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ty=Q("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ny=Q("Library",[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lf=Q("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ry=Q("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eo=Q("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ly=Q("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sy=Q("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iy=Q("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ay=Q("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oy=Q("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cy=Q("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uy=Q("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xr=Q("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sf=Q("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dy=Q("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kr=Q("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fy=Q("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const py=Q("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=Q("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hy=Q("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dl=Q("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const my=Q("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kn=Q("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cs=Q("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),ci={},ke=(ci==null?void 0:ci.VITE_API_BASE)||"http://127.0.0.1:5001";async function re(e,t){const n=await fetch(`${ke}${e}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!n.ok)throw new Error(await n.text());return n.json()}async function to(e,t,n=32,r,l){return re("/index",{dir:e,provider:t,batch_size:n,hf_token:r,openai_key:l})}async function Es(e,t,n,r=24,l){return re("/search",{dir:e,provider:n,query:t,top_k:r,hf_token:l==null?void 0:l.hfToken,openai_key:l==null?void 0:l.openaiKey,favorites_only:l==null?void 0:l.favoritesOnly,tags:l==null?void 0:l.tags,date_from:l==null?void 0:l.dateFrom,date_to:l==null?void 0:l.dateTo,use_fast:l==null?void 0:l.useFast,fast_kind:l==null?void 0:l.fastKind,use_captions:l==null?void 0:l.useCaptions,use_ocr:l==null?void 0:l.useOcr,camera:l==null?void 0:l.camera,iso_min:l==null?void 0:l.isoMin,iso_max:l==null?void 0:l.isoMax,f_min:l==null?void 0:l.fMin,f_max:l==null?void 0:l.fMax,flash:l==null?void 0:l.flash,wb:l==null?void 0:l.wb,metering:l==null?void 0:l.metering,alt_min:l==null?void 0:l.altMin,alt_max:l==null?void 0:l.altMax,heading_min:l==null?void 0:l.headingMin,heading_max:l==null?void 0:l.headingMax,place:l==null?void 0:l.place,has_text:l==null?void 0:l.hasText,person:l==null?void 0:l.person,persons:l==null?void 0:l.persons,sharp_only:l==null?void 0:l.sharpOnly,exclude_underexp:l==null?void 0:l.excludeUnder,exclude_overexp:l==null?void 0:l.excludeOver})}async function af(e,t,n,r=24,l,i=.5){return re("/search_like_plus",{dir:e,path:t,provider:n,top_k:r,text:l,weight:i})}async function of(e,t,n,r,l){return re("/captions/build",{dir:e,vlm_model:t,provider:n,hf_token:r,openai_key:l})}async function cf(e,t,n,r,l){return re("/feedback",{dir:e,search_id:t,query:n,positives:r,note:l})}async function no(e){const t=await fetch(`${ke}/favorites?dir=${encodeURIComponent(e)}`);if(!t.ok)throw new Error(await t.text());return t.json()}async function _r(e,t,n){return re("/favorites",{dir:e,path:t,favorite:n})}async function ro(e){const t=await fetch(`${ke}/saved?dir=${encodeURIComponent(e)}`);if(!t.ok)throw new Error(await t.text());return t.json()}async function uf(e,t,n,r){return re("/saved",{dir:e,name:t,query:n,top_k:r})}async function df(e,t){return re("/saved/delete",{dir:e,name:t})}async function lo(e){const t=await fetch(`${ke}/map?dir=${encodeURIComponent(e)}`);if(!t.ok)throw new Error(await t.text());return t.json()}async function so(e,t,n,r){const l=new URLSearchParams({dir:e});t&&l.set("provider",t),r&&l.set("hf_token",r),n&&l.set("openai_key",n);const i=await fetch(`${ke}/diagnostics?${l.toString()}`);if(!i.ok)throw new Error(await i.text());return i.json()}async function _s(e,t,n=120,r=0,l){const i=new URLSearchParams({dir:e,provider:t,limit:String(n),offset:String(r)});l!=null&&l.hfToken&&i.set("hf_token",l.hfToken),l!=null&&l.openaiKey&&i.set("openai_key",l.openaiKey);const a=await fetch(`${ke}/library?${i.toString()}`);if(!a.ok)throw new Error(await a.text());return a.json()}async function io(e,t,n,r,l){return re("/fast/build",{dir:e,kind:t,provider:n,hf_token:r,openai_key:l})}async function ao(e,t,n,r,l){return re("/ocr/build",{dir:e,provider:t,languages:n,hf_token:r,openai_key:l})}async function ff(e,t=5){const n=await fetch(`${ke}/lookalikes?dir=${encodeURIComponent(e)}&max_distance=${t}`);if(!n.ok)throw new Error(await n.text());return n.json()}async function pf(e,t){return re("/lookalikes/resolve",{dir:e,group_paths:t})}async function oo(){const e=await fetch(`${ke}/workspace`);if(!e.ok)throw new Error(await e.text());return e.json()}async function Ps(e){return re("/workspace/add",{path:e})}async function hf(e){return re("/workspace/remove",{path:e})}async function co(e,t){const n=await fetch(`${ke}/metadata/detail?dir=${encodeURIComponent(e)}&path=${encodeURIComponent(t)}`);if(!n.ok)throw new Error(await n.text());return n.json()}async function uo(e,t,n,r=24,l){return re("/search_workspace",{dir:e,provider:n,query:t,top_k:r,favorites_only:l==null?void 0:l.favoritesOnly,tags:l==null?void 0:l.tags,date_from:l==null?void 0:l.dateFrom,date_to:l==null?void 0:l.dateTo,place:l==null?void 0:l.place,has_text:l==null?void 0:l.hasText,person:l==null?void 0:l.person,persons:l==null?void 0:l.persons})}async function fo(e){const t=await fetch(`${ke}/tags?dir=${encodeURIComponent(e)}`);if(!t.ok)throw new Error(await t.text());return t.json()}async function mf(e,t,n){return re("/tags",{dir:e,path:t,tags:n})}function xt(e,t,n,r=256){const l=new URLSearchParams({dir:e,provider:t,path:n,size:String(r)});return`${ke}/thumb?${l.toString()}`}function po(e,t,n,r,l=196){const i=new URLSearchParams({dir:e,provider:t,path:n,emb:String(r),size:String(l)});return`${ke}/thumb_face?${i.toString()}`}async function yf(e,t){return re("/open",{dir:e,path:t})}async function gf(e,t,n){return re("/edit/ops",{dir:e,path:t,rotate:n.rotate||0,flip:n.flip,crop:n.crop})}async function xf(e,t,n=2,r="pil"){return re("/edit/upscale",{dir:e,path:t,scale:n,engine:r})}async function ho(e,t,n,r="copy",l=!1,i=!1){return re("/export",{dir:e,paths:t,dest:n,mode:r,strip_exif:l,overwrite:i})}async function mo(e,t,n,r){return re("/metadata/build",{dir:e,provider:t,hf_token:n,openai_key:r})}async function yo(e){const t=await fetch(`${ke}/metadata?dir=${encodeURIComponent(e)}`);if(!t.ok)throw new Error(await t.text());return t.json()}async function vf(e,t,n,r=24){return re("/search_like",{dir:e,path:t,provider:n,top_k:r})}async function wf(e){const t=await fetch(`${ke}/collections?dir=${encodeURIComponent(e)}`);if(!t.ok)throw new Error(await t.text());return t.json()}async function kf(e,t,n){return re("/collections",{dir:e,name:t,paths:n})}async function jf(e,t){return re("/collections/delete",{dir:e,name:t})}async function Nf(e){const t=await fetch(`${ke}/smart_collections?dir=${encodeURIComponent(e)}`);if(!t.ok)throw new Error(await t.text());return t.json()}async function Sf(e,t,n){return re("/smart_collections",{dir:e,name:t,rules:n})}async function Cf(e,t){return re("/smart_collections/delete",{dir:e,name:t})}async function bf(e,t,n,r=24){return re("/smart_collections/resolve",{dir:e,name:t,provider:n,top_k:r})}async function Ef(e,t,n=160){return re("/ocr/snippets",{dir:e,paths:t,limit:n})}async function go(e,t){return re("/faces/build",{dir:e,provider:t})}async function xo(e){const t=await fetch(`${ke}/faces/clusters?dir=${encodeURIComponent(e)}`);if(!t.ok)throw new Error(await t.text());return t.json()}async function vo(e,t,n){return re("/faces/name",{dir:e,cluster_id:t,name:n})}async function _f(e,t){return re("/trips/build",{dir:e,provider:t})}async function Pf(e){const t=await fetch(`${ke}/trips?dir=${encodeURIComponent(e)}`);if(!t.ok)throw new Error(await t.text());return t.json()}async function wo(){const e=await fetch(`${ke}/todo`);if(!e.ok)throw new Error(await e.text());return e.json()}async function Mf(e,t){return re("/autotag",{dir:e,provider:t})}async function ko(e,t,n){const r=await fetch(`${ke}/delete`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({dir:e,paths:t,os_trash:!!n})});if(!r.ok)throw new Error(await r.text());return r.json()}async function jo(e){const t=await fetch(`${ke}/undo_delete`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({dir:e})});if(!t.ok)throw new Error(await t.text());return t.json()}const be=Object.freeze(Object.defineProperty({__proto__:null,apiAddSaved:uf,apiAutotag:Mf,apiBuildCaptions:of,apiBuildFaces:go,apiBuildFast:io,apiBuildMetadata:mo,apiBuildOCR:ao,apiDelete:ko,apiDeleteCollection:jf,apiDeleteSaved:df,apiDeleteSmart:Cf,apiDiagnostics:so,apiEditOps:gf,apiExport:ho,apiFacesClusters:xo,apiFacesName:vo,apiFeedback:cf,apiGetCollections:wf,apiGetFavorites:no,apiGetMetadata:yo,apiGetSaved:ro,apiGetSmart:Nf,apiGetTags:fo,apiIndex:to,apiLibrary:_s,apiLookalikes:ff,apiMap:lo,apiMetadataDetail:co,apiOcrSnippets:Ef,apiOpen:yf,apiResolveLookalike:pf,apiResolveSmart:bf,apiSearch:Es,apiSearchLike:vf,apiSearchLikePlus:af,apiSearchWorkspace:uo,apiSetCollection:kf,apiSetFavorite:_r,apiSetSmart:Sf,apiSetTags:mf,apiTodo:wo,apiTripsBuild:_f,apiTripsList:Pf,apiUndoDelete:jo,apiUpscale:xf,apiWorkspaceAdd:Ps,apiWorkspaceList:oo,apiWorkspaceRemove:hf,thumbFaceUrl:po,thumbUrl:xt},Symbol.toStringTag,{value:"Module"})),yy={settings:{dir:"",engine:"local",hfToken:"",openaiKey:"",useFast:!1,fastKind:"faiss",useCaps:!1,vlmModel:"gpt-4o",useOcr:!1,hasText:!1,useOsTrash:!1,camera:"",isoMin:0,isoMax:25600,fMin:.7,fMax:32,place:""},photo:{results:[],searchId:"",query:"",topK:24,fav:[],favOnly:!1,tags:{allTags:[],tagsMap:{},tagFilter:""},saved:[],collections:{},smart:{},library:[],libHasMore:!0},ui:{busy:"",note:"",viewMode:"grid",showWelcome:!1,showHelp:!1},workspace:{workspace:"",wsToggle:!1,persons:[],clusters:[],groups:[],points:[],diag:null}},Tf=w.createContext(null),gy=({children:e})=>{const[t,n]=w.useState(yy),r=w.useCallback(o=>{n(c=>({...c,settings:{...c.settings,...o}}))},[]),l=w.useCallback(o=>{n(c=>({...c,photo:{...c.photo,...typeof o=="function"?o(c):o}}))},[]),i=w.useCallback(o=>{n(c=>({...c,ui:{...c.ui,...o}}))},[]),a=w.useCallback(o=>{n(c=>({...c,workspace:{...c.workspace,...o}}))},[]);return s.jsx(Tf.Provider,{value:{state:t,setSettings:r,setPhoto:l,setUI:i,setWorkspace:a},children:e})},Y=()=>{const e=w.useContext(Tf);if(!e)throw new Error("useSimpleStore must be used within SimpleStoreProvider");return e},xy=()=>Y().state.settings.dir,vy=()=>Y().state.settings.engine,wy=()=>Y().state.settings.hfToken,ky=()=>Y().state.settings.openaiKey,jy=()=>Y().state.settings.engine.startsWith("hf"),Ny=()=>Y().state.settings.engine==="openai",Sy=()=>Y().state.settings.camera,Cy=()=>Y().state.settings.isoMin,by=()=>Y().state.settings.isoMax,Ey=()=>Y().state.settings.fMin,_y=()=>Y().state.settings.fMax,Py=()=>Y().state.settings.place,My=()=>Y().state.settings.useCaps,Ty=()=>Y().state.settings.useOcr,Ly=()=>Y().state.settings.hasText,Fy=()=>Y().state.settings.useFast,zy=()=>Y().state.settings.fastKind,Ry=()=>Y().state.settings.useOsTrash,Iy=()=>Y().state.photo.results,Dy=()=>Y().state.photo.query,Oy=()=>Y().state.photo.topK,$y=()=>Y().state.photo.fav,Ay=()=>Y().state.photo.favOnly,Uy=()=>Y().state.photo.tags.tagFilter,By=()=>Y().state.photo.tags.allTags,Vy=()=>Y().state.photo.tags.tagsMap,Hy=()=>Y().state.photo.saved,Wy=()=>Y().state.photo.collections,Ky=()=>Y().state.photo.smart,Qy=()=>Y().state.photo.library,Gy=()=>Y().state.photo.libHasMore,Yy=()=>Y().state.ui.busy,Xy=()=>Y().state.ui.note,qy=()=>Y().state.ui.showHelp,Zy=()=>Y().state.workspace.wsToggle,Jy=()=>Y().state.workspace.persons,eg=()=>Y().state.workspace.clusters,tg=()=>Y().state.workspace.points,ng=()=>Y().state.workspace.diag,rg=()=>{const{setSettings:e}=Y();return Hn.useMemo(()=>({setDir:t=>e({dir:t}),setEngine:t=>e({engine:t}),setHfToken:t=>e({hfToken:t}),setOpenaiKey:t=>e({openaiKey:t}),setUseFast:t=>e({useFast:t}),setFastKind:t=>e({fastKind:t}),setUseCaps:t=>e({useCaps:t}),setVlmModel:t=>e({vlmModel:t}),setUseOcr:t=>e({useOcr:t}),setHasText:t=>e({hasText:t}),setUseOsTrash:t=>e({useOsTrash:t}),setCamera:t=>e({camera:t}),setIsoMin:t=>e({isoMin:t}),setIsoMax:t=>e({isoMax:t}),setFMin:t=>e({fMin:t}),setFMax:t=>e({fMax:t}),setPlace:t=>e({place:t})}),[e])},lg=()=>{const{setPhoto:e}=Y();return Hn.useMemo(()=>({setResults:t=>e({results:t}),setSearchId:t=>e({searchId:t}),setQuery:t=>e({query:t}),setTopK:t=>e({topK:t}),setFavorites:t=>e({fav:t}),setFavOnly:t=>e({favOnly:t}),setAllTags:t=>e(n=>({tags:{...n.photo.tags,allTags:t}})),setTagsMap:t=>e(n=>({tags:{...n.photo.tags,tagsMap:t}})),setTagFilter:t=>e(n=>({tags:{...n.photo.tags,tagFilter:t}})),setSaved:t=>e({saved:t}),setCollections:t=>e({collections:t}),setSmart:t=>e({smart:t}),setLibrary:t=>e({library:t}),setLibHasMore:t=>e({libHasMore:t}),appendLibrary:t=>e(n=>({library:[...n.photo.library,...t]})),resetSearch:()=>e({results:[],searchId:"",query:""})}),[e])},sg=()=>{const{setUI:e}=Y();return Hn.useMemo(()=>({setBusy:t=>e({busy:t}),setNote:t=>e({note:t}),setViewMode:t=>e({viewMode:t}),setShowWelcome:t=>e({showWelcome:t}),setShowHelp:t=>e({showHelp:t})}),[e])},ig=()=>{const{setWorkspace:e}=Y();return Hn.useMemo(()=>({setWorkspace:t=>e({workspace:t}),setWsToggle:t=>e({wsToggle:t}),setPersons:t=>e({persons:t}),setClusters:t=>e({clusters:t}),setGroups:t=>e({groups:t}),setPoints:t=>e({points:t}),setDiag:t=>e({diag:t})}),[e])};function ag({dir:e,engine:t,items:n,gap:r=8,targetRowHeight:l=196,scrollContainerRef:i,selected:a,onToggleSelect:o,onOpen:c,focusIndex:d=null,onLayout:y,ratingMap:g,showInfoOverlay:v}){var K;const j=w.useRef(null),[N,_]=w.useState(0),[H,h]=w.useState({}),p=4/3;w.useEffect(()=>{const R=i.current;if(!R)return;const W=new ResizeObserver(()=>_(R.clientWidth));return W.observe(R),_(R.clientWidth),()=>W.disconnect()},[i]),w.useEffect(()=>{let R=!1;return n.slice(0,200).forEach(({path:J})=>{if(H[J])return;const F=new Image;F.onload=()=>{!R&&F.naturalWidth&&F.naturalHeight&&h(A=>({...A,[J]:F.naturalWidth/F.naturalHeight}))},F.src=xt(e,t,J,256)}),()=>{R=!0}},[n,e,t]);const f=w.useMemo(()=>{if(!N||n.length===0)return[];const R=[];let W=[],J=0;const A=Math.max(0,N-2*16);if(n.forEach((C,S)=>{const L=H[C.path]||p;if(W.push(C),J+=L,J*l+r*(W.length-1)>=A){const U=Math.max(120,Math.floor((A-r*(W.length-1))/J));R.push({items:W,height:U}),W=[],J=0}}),W.length>0){const C=Math.min(l,Math.floor((A-r*(W.length-1))/Math.max(1,J)));R.push({items:W,height:C})}return R},[n,H,N,r,l]),m=w.useMemo(()=>{const R=[];if(!n.length||f.length===0)return R;let W=0;for(const J of f){const F=[];for(let A=0;A<J.items.length;A++)F.push(W++);R.push(F)}return R},[f,n.length]);w.useEffect(()=>{y&&y(m)},[m,y]);const[b,k]=w.useState(0),T=((K=i.current)==null?void 0:K.clientHeight)||0;w.useEffect(()=>{const R=i.current;if(!R)return;const W=()=>k(R.scrollTop);return R.addEventListener("scroll",W,{passive:!0}),k(R.scrollTop),()=>R.removeEventListener("scroll",W)},[i]);const{totalH:E,offsets:D}=w.useMemo(()=>{let R=0;const W=[];for(const J of f)W.push(R),R+=J.height+r;return{totalH:R,offsets:W}},[f,r]),I=600,X=w.useMemo(()=>{const R=Math.max(0,b-I);let W=0;for(;W<D.length&&D[W]+f[W].height<R;)W++;return W},[D,f,b]),ee=w.useMemo(()=>{const R=b+T+I;let W=X;for(;W<D.length&&D[W]<R;)W++;return Math.min(W+5,f.length)},[D,f,b,T,X]),B=d!==null?`photo-${d}`:void 0;return s.jsx("div",{id:"modern-results-grid",ref:j,className:"relative",style:{height:E},role:"grid","aria-multiselectable":"true","aria-activedescendant":B,tabIndex:0,children:f.slice(X,ee).map((R,W)=>{const J=X+W,F=D[J],A=Math.max(0,N-2*16),C=R.items.reduce((L,G)=>L+(H[G.path]||p),0),S=Math.max(120,Math.floor((A-r*(R.items.length-1))/Math.max(.01,C)));return s.jsx("div",{className:"absolute left-0 right-0",style:{top:F},children:s.jsx("div",{className:"flex",style:{gap:r},children:R.items.map((L,G)=>{var ln;const U=(ln=m[J])==null?void 0:ln[G],z=H[L.path]||p,oe=Math.floor(S*z),se=a.has(L.path),Le=d!==null&&U===d,He=L.path.split("/").pop()||L.path;return s.jsxs("div",{className:`relative group cursor-pointer rounded-lg overflow-hidden transition-all duration-200 hover:shadow ${se?"ring-2 ring-blue-500":""} ${Le?"outline outline-2 outline-indigo-500":""}`,style:{width:oe,height:S},onClick:()=>o(L.path),onDoubleClick:()=>c(L.path),title:L.path,"data-photo-idx":U,id:`photo-${U}`,role:"gridcell","aria-selected":se,tabIndex:Le?0:-1,children:[s.jsx("img",{src:xt(e,t,L.path,256),alt:L.path,className:"w-full h-full object-cover transition-transform duration-200 group-hover:scale-105",loading:"lazy"}),v&&s.jsxs("div",{className:"absolute inset-x-0 bottom-0 bg-gradient-to-t from-black/60 to-transparent text-white px-1.5 py-1 text-[10px] flex items-center justify-between",children:[s.jsx("span",{className:"truncate mr-2",title:He,children:He}),typeof L.score=="number"&&s.jsx("span",{className:"bg-white/20 rounded px-1",children:L.score.toFixed(2)})]}),g&&typeof g[L.path]=="number"&&g[L.path]>0&&s.jsxs("div",{className:"absolute bottom-1 left-1 px-1 py-0.5 rounded bg-black/50 text-yellow-300 text-[10px] flex items-center gap-0.5",children:[s.jsx("svg",{width:"10",height:"10",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":!0,children:s.jsx("path",{d:"M12 .587l3.668 7.431 8.2 1.193-5.934 5.787 1.401 8.168L12 18.896l-7.335 3.87 1.401-8.168L.132 9.211l8.2-1.193z"})}),s.jsx("span",{children:g[L.path]})]}),typeof L.score=="number"&&s.jsx("div",{className:"absolute top-2 left-2 text-xs bg-white/80 rounded px-1",children:L.score.toFixed(2)}),se&&s.jsx("div",{className:"absolute top-2 right-2 w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center",children:s.jsx("svg",{className:"w-4 h-4 text-white",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]},L.path)})})},J)})})}function og({dir:e,engine:t,path:n,onPrev:r,onNext:l,onClose:i,onReveal:a,onFavorite:o,onMoreLikeThis:c}){if(!n)return null;const d=w.useRef(null),y=w.useRef(null),[g,v]=w.useState(1),[j,N]=w.useState(0),[_,H]=w.useState(0),[h,p]=w.useState(!1),f=w.useRef({x:0,y:0,tx:0,ty:0}),[m,b]=w.useState(!1),[k,T]=w.useState(!1),[E,D]=w.useState(null);function I(C,S,L){const G=g,U=Math.min(5,Math.max(1,+(G+C).toFixed(2)));if(U===G)return;const z=y.current;if(z&&S!==void 0&&L!==void 0){const oe=z.getBoundingClientRect(),se=S-oe.left,Le=L-oe.top,He=U/G;N(j+(se-se*He)),H(_+(Le-Le*He))}v(U)}function X(C){C.preventDefault();const S=C.deltaY<0?.1:-.1;I(S,C.clientX,C.clientY)}function ee(C){g!==1&&(p(!0),f.current={x:C.clientX,y:C.clientY,tx:j,ty:_})}function B(C){if(!h)return;const S=C.clientX-f.current.x,L=C.clientY-f.current.y;N(f.current.tx+S),H(f.current.ty+L)}function K(){p(!1)}function R(){p(!1)}function W(){v(1),N(0),H(0)}function J(){I(.2)}function F(){I(-.2)}function A(C){g===1?I(1,C.clientX,C.clientY):W()}return w.useEffect(()=>{var C;(C=d.current)==null||C.focus()},[n]),w.useEffect(()=>{let C=!1;async function S(){if(!(!m||!n))try{T(!0);const L=await co(e,n);C||D(L.meta||{})}catch{C||D(null)}finally{C||T(!1)}}return S(),()=>{C=!0}},[m,e,n]),s.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center",onClick:i,onKeyDown:C=>{C.key==="Escape"&&(C.stopPropagation(),i())},children:s.jsxs("div",{className:"relative max-w-6xl w-full p-4",onClick:C=>C.stopPropagation(),ref:d,role:"dialog","aria-modal":"true","aria-label":n,tabIndex:-1,children:[s.jsxs("div",{className:"flex items-center justify-between mb-2 text-white",children:[s.jsx("div",{className:"truncate text-sm",children:n}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{type:"button",onClick:r,className:"bg-white/20 rounded px-2 py-1",children:""}),s.jsx("button",{type:"button",onClick:l,className:"bg-white/20 rounded px-2 py-1",children:""}),s.jsx("button",{type:"button",onClick:()=>b(C=>!C),className:`rounded px-2 py-1 ${m?"bg-blue-600 text-white":"bg-white/20"}`,children:"Info"}),s.jsx("button",{type:"button",onClick:i,className:"bg-white text-black rounded px-2 py-1",children:"Close"})]})]}),s.jsx("div",{className:"relative bg-black/40 rounded overflow-hidden",onWheel:X,onMouseDown:ee,onMouseMove:B,onMouseUp:K,onMouseLeave:R,onDoubleClick:A,style:{cursor:g>1&&h?"grabbing":g>1?"grab":"default"},children:s.jsx("img",{ref:y,src:xt(e,t,n,1024),className:"w-full h-auto select-none",style:{transform:`translate(${j}px, ${_}px) scale(${g})`,transformOrigin:"0 0"},alt:n,draggable:!1})}),s.jsxs("div",{className:"mt-3 flex flex-wrap gap-2 items-center",children:[s.jsxs("div",{className:"flex items-center gap-2 bg-white/10 rounded p-1",children:[s.jsx("button",{type:"button",onClick:F,className:"px-2 py-1 bg-white/20 text-white rounded",children:""}),s.jsxs("div",{className:"text-white text-sm w-12 text-center",children:[Math.round(g*100),"%"]}),s.jsx("button",{type:"button",onClick:J,className:"px-2 py-1 bg-white/20 text-white rounded",children:"+"}),s.jsx("button",{type:"button",onClick:W,className:"px-2 py-1 bg-white/20 text-white rounded",children:"Reset"})]}),s.jsx("button",{type:"button",onClick:a,className:"px-3 py-1 bg-gray-200 rounded",children:"Reveal in Finder/Explorer"}),s.jsx("button",{type:"button",onClick:o,className:"px-3 py-1 bg-pink-600 text-white rounded",children:" Favorite"}),c&&s.jsx("button",{type:"button",onClick:c,className:"px-3 py-1 bg-blue-600 text-white rounded",children:"More like this"})]}),m&&s.jsx("div",{className:"mt-3 bg-white text-gray-900 rounded p-3 max-h-72 overflow-auto",children:k?s.jsx("div",{className:"text-sm text-gray-600",children:"Loading EXIF"}):E?s.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[E.camera&&s.jsxs("div",{children:[s.jsx("div",{className:"text-gray-500",children:"Camera"}),s.jsx("div",{className:"font-medium",children:E.camera})]}),E.lens&&s.jsxs("div",{children:[s.jsx("div",{className:"text-gray-500",children:"Lens"}),s.jsx("div",{className:"font-medium",children:E.lens})]}),E.iso&&s.jsxs("div",{children:[s.jsx("div",{className:"text-gray-500",children:"ISO"}),s.jsx("div",{className:"font-medium",children:E.iso})]}),E.fnumber&&s.jsxs("div",{children:[s.jsx("div",{className:"text-gray-500",children:"Aperture"}),s.jsxs("div",{className:"font-medium",children:["f/",E.fnumber]})]}),E.shutter&&s.jsxs("div",{children:[s.jsx("div",{className:"text-gray-500",children:"Shutter"}),s.jsx("div",{className:"font-medium",children:E.shutter})]}),E.datetime&&s.jsxs("div",{children:[s.jsx("div",{className:"text-gray-500",children:"Date"}),s.jsx("div",{className:"font-medium",children:new Date(E.datetime*1e3).toLocaleString()})]}),E.place&&s.jsxs("div",{className:"col-span-2",children:[s.jsx("div",{className:"text-gray-500",children:"Place"}),s.jsx("div",{className:"font-medium",children:E.place})]}),Array.isArray(E.tags)&&E.tags.length>0&&s.jsxs("div",{className:"col-span-2",children:[s.jsx("div",{className:"text-gray-500",children:"Tags"}),s.jsx("div",{className:"mt-1 flex flex-wrap gap-1",children:E.tags.map(C=>s.jsx("span",{className:"px-2 py-0.5 bg-gray-100 rounded text-xs",children:C},C))})]})]}):s.jsx("div",{className:"text-sm text-gray-600",children:"No metadata."})})]})})}function cg({dir:e,engine:t,library:n,onLoadLibrary:r}){return s.jsxs("div",{className:"bg-white border rounded p-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"font-semibold",children:"Library"}),s.jsx("div",{className:"flex gap-2",children:s.jsx("button",{onClick:()=>r(120,0),className:"bg-gray-200 rounded px-3 py-1 text-sm",children:"Load"})})]}),n.length===0?s.jsx("div",{className:"text-sm text-gray-600 mt-2",children:"No items yet. Build the index, then click Load."}):s.jsx("div",{className:"mt-2 grid grid-cols-3 md:grid-cols-5 lg:grid-cols-8 gap-2",children:n.map((l,i)=>s.jsx("img",{src:xt(e,t,l,196),title:l,className:"w-full h-24 object-cover rounded"},i))})]})}function ug({dir:e,engine:t,clusters:n,persons:r,setPersons:l,busy:i,setBusy:a,setNote:o,onLoadFaces:c}){return s.jsxs("div",{className:"bg-white border rounded p-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"font-semibold",children:"People"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:async()=>{try{a("Scanning faces");const d=await go(e,t);a(""),o(`Faces: ${d.faces}, clusters: ${d.clusters}`),await c()}catch(d){a(""),o(d.message)}},className:"bg-gray-200 rounded px-3 py-1 text-sm",children:"Build/Update"}),s.jsx("button",{onClick:c,className:"bg-gray-200 rounded px-3 py-1 text-sm",children:"Refresh"})]})]}),n.length===0?s.jsx("div",{className:"text-sm text-gray-600 mt-2",children:"No face clusters yet."}):s.jsx("div",{className:"mt-2 grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2 text-sm",children:n.map(d=>s.jsxs("div",{className:"border rounded p-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"font-semibold truncate",title:d.name||`Cluster ${d.id}`,children:d.name||`Cluster ${d.id}`}),s.jsx("div",{className:"text-xs text-gray-600",children:d.size})]}),s.jsx("div",{className:"mt-2 grid grid-cols-2 gap-1",children:d.examples.map(([y,g],v)=>s.jsx("img",{src:po(e,t,y,g,196),className:"w-full h-16 object-cover rounded"},v))}),s.jsxs("div",{className:"mt-2 flex gap-2",children:[s.jsx("button",{onClick:()=>{const y=d.name||"";if(!y)return;const g=r.includes(y)?r.filter(v=>v!==y):[...r,y];l(g)},disabled:!d.name,className:`px-2 py-1 rounded ${d.name&&r.includes(d.name)?"bg-blue-700 text-white":d.name?"bg-blue-600 text-white":"bg-gray-200"}`,children:d.name&&r.includes(d.name)?"Remove":"Add"}),s.jsx("button",{onClick:async()=>{const y=prompt("Name this person as",d.name||"")||"";if(y.trim())try{await vo(e,String(d.id),y.trim()),await c()}catch{}},className:"px-2 py-1 rounded bg-gray-200",children:"Name"})]})]},d.id))}),r.length>0&&s.jsxs("div",{className:"mt-2 text-sm flex items-center gap-2 flex-wrap",children:[r.map(d=>s.jsxs("span",{className:"px-2 py-1 bg-blue-600 text-white rounded flex items-center gap-2",children:[d," ",s.jsx("button",{onClick:()=>l(r.filter(y=>y!==d)),className:"bg-white/20 rounded px-1",children:""})]},d)),s.jsx("button",{onClick:()=>l([]),className:"px-2 py-1 bg-gray-200 rounded",children:"Clear"})]})]})}function dg({points:e,onLoadMap:t}){return s.jsxs("div",{className:"bg-white border rounded p-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"font-semibold",children:"Map (GPS)"}),s.jsx("button",{onClick:t,className:"bg-gray-200 rounded px-3 py-1 text-sm",children:"Load"})]}),e.length===0?s.jsx("div",{className:"text-sm text-gray-600 mt-2",children:"No GPS points found."}):s.jsx("div",{className:"mt-2 grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-2 text-xs",children:e.map((n,r)=>s.jsxs("div",{className:"border rounded p-2",children:[n.lat.toFixed(5),", ",n.lon.toFixed(5)]},r))})]})}function fg({dir:e,engine:t,collections:n,onLoadCollections:r,onOpen:l,onDelete:i}){return s.jsxs("div",{className:"bg-white border rounded p-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"font-semibold",children:"Collections"}),s.jsx("button",{onClick:r,className:"bg-gray-200 rounded px-3 py-1 text-sm",children:"Refresh"})]}),Object.keys(n||{}).length===0?s.jsx("div",{className:"text-sm text-gray-600 mt-2",children:"No collections yet."}):s.jsx("div",{className:"mt-2 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 text-sm",children:Object.keys(n).map(a=>{var o;return s.jsxs("div",{className:"border rounded p-2 flex gap-3 items-center",children:[s.jsx("div",{className:"flex gap-1 shrink-0",children:(n[a]||[]).slice(0,3).map(c=>s.jsx("img",{src:xt(e,t,c,96),alt:c.split("/").pop()||c,className:"w-14 h-14 object-cover rounded"},c))}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("div",{className:"truncate font-medium",title:a,children:a}),s.jsxs("div",{className:"text-xs text-gray-600",children:[((o=n[a])==null?void 0:o.length)||0," items"]}),s.jsxs("div",{className:"mt-1 flex gap-2",children:[s.jsx("button",{type:"button",onClick:()=>l(a),className:"px-2 py-0.5 rounded bg-blue-600 text-white",children:"Open"}),i&&s.jsx("button",{type:"button",onClick:()=>i(a),className:"px-2 py-0.5 rounded bg-red-600 text-white",children:"Delete"})]})]})]},a)})})]})}function pg({dir:e,engine:t,topK:n,smart:r,setSmart:l,setResults:i,setSearchId:a,setNote:o,query:c,favOnly:d,tagFilter:y,useCaps:g,useOcr:v,hasText:j,camera:N,isoMin:_,isoMax:H,fMin:h,fMax:p,place:f,persons:m}){const b=async()=>{const D=(prompt("Save current search as Smart (name):")||"").trim();if(D)try{const I=y.split(",").map(W=>W.trim()).filter(Boolean),X={query:c,favoritesOnly:d,tags:I,useCaptions:g,useOcr:v,hasText:j,camera:N||void 0,isoMin:_?parseInt(_,10):void 0,isoMax:H?parseInt(H,10):void 0,fMin:h?parseFloat(h):void 0,fMax:p?parseFloat(p):void 0,place:f||void 0},ee=m.filter(Boolean);ee.length===1?X.person=ee[0]:ee.length>1&&(X.persons=ee);const{apiSetSmart:B,apiGetSmart:K}=await Ce(async()=>{const{apiSetSmart:W,apiGetSmart:J}=await Promise.resolve().then(()=>be);return{apiSetSmart:W,apiGetSmart:J}},void 0,import.meta.url);await B(e,D,X);const R=await K(e);l(R.smart||{}),o("Saved smart collection")}catch(I){o(I.message||"Failed to save smart")}},k=async()=>{try{const{apiGetSmart:D}=await Ce(async()=>{const{apiGetSmart:X}=await Promise.resolve().then(()=>be);return{apiGetSmart:X}},void 0,import.meta.url),I=await D(e);l(I.smart||{})}catch(D){o(D.message||"Failed to load smart")}},T=async D=>{try{const{apiResolveSmart:I}=await Ce(async()=>{const{apiResolveSmart:ee}=await Promise.resolve().then(()=>be);return{apiResolveSmart:ee}},void 0,import.meta.url),X=await I(e,D,t,n);i(X.results||[]),a(X.search_id||""),o(`Opened smart: ${D}`)}catch(I){o(I.message)}},E=async D=>{if(confirm(`Delete smart collection "${D}"?`))try{const{apiDeleteSmart:I,apiGetSmart:X}=await Ce(async()=>{const{apiDeleteSmart:B,apiGetSmart:K}=await Promise.resolve().then(()=>be);return{apiDeleteSmart:B,apiGetSmart:K}},void 0,import.meta.url);await I(e,D);const ee=await X(e);l(ee.smart||{})}catch(I){o(I.message)}};return s.jsxs("div",{className:"bg-white border rounded p-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"font-semibold",children:"Smart Collections"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:k,className:"bg-gray-200 rounded px-3 py-1 text-sm",children:"Refresh"}),s.jsx("button",{onClick:b,className:"bg-blue-600 text-white rounded px-3 py-1 text-sm",children:"Save current as Smart"})]})]}),Object.keys(r||{}).length===0?s.jsx("div",{className:"text-sm text-gray-600 mt-2",children:"No smart collections yet."}):s.jsx("div",{className:"mt-2 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2 text-sm",children:Object.keys(r).map(D=>s.jsxs("div",{className:"border rounded p-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"font-semibold truncate",title:D,children:D}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>T(D),className:"px-2 py-1 bg-blue-600 text-white rounded",children:"Open"}),s.jsx("button",{onClick:()=>E(D),className:"px-2 py-1 bg-red-600 text-white rounded",children:"Delete"})]})]}),s.jsx("div",{className:"mt-1 text-xs text-gray-600 truncate",children:JSON.stringify(r[D])})]},D))})]})}function Vc({dir:e,engine:t,setBusy:n,setNote:r,setResults:l}){var c,d;const i=async()=>{var y;try{const{apiTripsBuild:g}=await Ce(async()=>{const{apiTripsBuild:j}=await Promise.resolve().then(()=>be);return{apiTripsBuild:j}},void 0,import.meta.url);n("Grouping trips");const v=await g(e,t);n(""),window._trips=v.trips||[],r(`Trips: ${((y=v.trips)==null?void 0:y.length)||0}`)}catch(g){n(""),r(g.message)}},a=async()=>{try{const{apiTripsList:y}=await Ce(async()=>{const{apiTripsList:v}=await Promise.resolve().then(()=>be);return{apiTripsList:v}},void 0,import.meta.url),g=await y(e);window._trips=g.trips||[],r(`Loaded ${g.trips.length} trips`)}catch(y){r(y.message)}},o=y=>{l((y.paths||[]).map(g=>({path:g,score:1}))),r("Opened trip")};return s.jsxs("div",{className:"bg-white border rounded p-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"font-semibold",children:"Trips"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:i,className:"bg-gray-200 rounded px-3 py-1 text-sm",children:"Build"}),s.jsx("button",{onClick:a,className:"bg-gray-200 rounded px-3 py-1 text-sm",children:"Refresh"})]})]}),s.jsx("div",{className:"mt-2 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2 text-sm",children:(d=(c=window._trips)==null?void 0:c.slice(0,6))==null?void 0:d.map((y,g)=>s.jsxs("div",{className:"border rounded p-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"font-semibold truncate",title:y.place||"",children:y.place||"Trip"}),s.jsx("div",{children:y.count})]}),s.jsx("div",{className:"mt-2 grid grid-cols-3 gap-1",children:(y.paths||[]).slice(0,3).map((v,j)=>s.jsx("img",{src:xt(e,t,v,196),className:"w-full h-16 object-cover rounded"},j))}),s.jsx("div",{className:"mt-2 flex gap-2",children:s.jsx("button",{onClick:()=>o(y),className:"bg-blue-600 text-white rounded px-3 py-1",children:"Open"})})]},y.id||g))})]})}function hg({saved:e,onRun:t,onDelete:n}){return s.jsxs("div",{className:"bg-white border rounded p-3",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsx("h2",{className:"font-semibold",children:"Saved Searches"})}),!e||e.length===0?s.jsx("div",{className:"text-sm text-gray-600 mt-2",children:"No saved searches yet."}):s.jsx("div",{className:"mt-2 divide-y",children:e.map(r=>s.jsxs("div",{className:"py-2 flex items-center justify-between gap-3",children:[s.jsxs("div",{className:"min-w-0",children:[s.jsx("div",{className:"font-medium truncate",title:r.name,children:r.name}),s.jsx("div",{className:"text-xs text-gray-600 truncate",title:r.query,children:r.query})]}),s.jsxs("div",{className:"flex gap-2 shrink-0",children:[s.jsx("button",{onClick:()=>t(r.name,r.query,r.top_k),className:"px-2 py-1 rounded bg-blue-600 text-white text-sm",children:"Run"}),s.jsx("button",{onClick:()=>n(r.name),className:"px-2 py-1 rounded bg-red-600 text-white text-sm",children:"Delete"})]})]},r.name))})]})}function mg(e){const t=e.split(/\r?\n/),n=[];let r=[];function l(){r.length&&(n.push(s.jsx("ul",{className:"list-disc ml-6 space-y-1",children:r.map((i,a)=>s.jsx("li",{children:i},a))},`ul-${n.length}`)),r=[])}return t.forEach((i,a)=>{const o=i.match(/^(#+)\s+(.*)$/);if(o){l();const d=o[1].length,y=o[2],g=d===1?"h1":d===2?"h2":"h3";n.push(s.jsx(g,{className:"font-semibold mt-4",children:y},`h-${a}`));return}const c=i.match(/^[-*]\s+(.*)$/);if(c){r.push(c[1]);return}if(i.trim()===""){l(),n.push(s.jsx("div",{className:"h-2"},`sp-${a}`));return}l(),n.push(s.jsx("p",{children:i},`p-${a}`))}),l(),n}function yg(){const[e,t]=w.useState(""),[n,r]=w.useState(!0),[l,i]=w.useState("");return w.useEffect(()=>{let a=!1;return wo().then(o=>{a||(t(o.text||""),r(!1))}).catch(o=>{a||(i(String(o)),r(!1))}),()=>{a=!0}},[]),s.jsxs("div",{className:"bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded p-4",children:[s.jsx("div",{className:"font-semibold mb-2",children:"Project Tasks (TODO.md)"}),n?s.jsx("div",{className:"text-sm text-gray-600",children:"Loading"}):l?s.jsx("div",{className:"text-sm text-red-600",children:l}):s.jsx("div",{className:"prose prose-sm max-w-none dark:prose-invert",children:mg(e)})]})}const gg=e=>e.split("/").pop()||e;function on({children:e,onEscape:t}){const n=Hn.useRef(null);return Hn.useEffect(()=>{const r=n.current;if(!r)return;const l=r.querySelectorAll('a[href], button, textarea, input, select, [tabindex]:not([tabindex="-1"])'),i=Array.from(l).filter(o=>!o.hasAttribute("disabled"));i.length>0?(i.find(c=>c.getAttribute("tabindex")!=="-1")||i[0]).focus():(r.setAttribute("tabindex","-1"),r.focus());const a=o=>{if(o.key==="Escape"&&(o.stopPropagation(),o.preventDefault(),t&&t()),o.key==="Tab"){if(i.length===0)return;const c=i.indexOf(document.activeElement),d=o.shiftKey?-1:1;let y=c+d;y<0&&(y=i.length-1),y>=i.length&&(y=0),o.preventDefault(),i[y].focus()}};return document.addEventListener("keydown",a),()=>document.removeEventListener("keydown",a)},[t]),s.jsx("div",{ref:n,children:e})}function xg(){const[e,t]=w.useState(!1);w.useEffect(()=>(t(!0),()=>t(!1)),[]);const n=xy(),r=vy(),l=wy(),i=ky(),a=Fy(),o=zy(),c=My(),d=Ty(),y=Ry(),g=Ly(),v=Py(),j=Sy(),N=Cy(),_=by(),H=Ey(),h=_y(),p=Uy(),f=By(),m=jy(),b=Ny(),k=Iy(),T=Dy(),E=$y(),D=Ay(),I=Oy(),X=Hy(),ee=Wy(),B=Ky(),K=Qy();Gy();const R=Vy(),W=Yy(),J=Xy();qy();const F=Zy(),A=Jy(),C=eg(),S=tg(),L=ng(),G=rg(),U=lg(),z=sg(),oe=ig(),[se,Le]=w.useState("library"),[He,ln]=w.useState(""),[ae,Zr]=w.useState(new Set),[Lf,Ff]=w.useState("medium"),[zf,Rf]=w.useState("all"),[Ms,Jr]=w.useState(!1),[el,If]=w.useState(""),[tl,Df]=w.useState(""),[pe,Z]=w.useState(null),[Ts,Ls]=w.useState(!1),[nt,nr]=w.useState(null),[he,It]=w.useState(null),[Fs,Of]=w.useState([]),nl=w.useRef(Fs);w.useEffect(()=>{nl.current=Fs},[Fs]);const $f=w.useCallback((u,x)=>u.length===x.length&&u.every((P,V)=>P.length===x[V].length&&P.every(($,ie)=>$===x[V][ie])),[]),No=w.useRef(null),So=w.useRef(null),[Af,rl]=w.useState(!1),[Co,Uf]=w.useState({cameras:[],places:[]}),[ll,Bf]=w.useState(0),[Sn,Dt]=w.useState(null),vt=w.useRef(null),zs=w.useMemo(()=>{const u={},x=R||{};for(const P of Object.keys(x)){const $=(x[P]||[]).find(ie=>/^rating:[1-5]$/.test(ie));$&&(u[P]=parseInt($.split(":")[1],10))}return u},[R]);w.useEffect(()=>{try{localStorage.getItem("ps_theme")==="dark"&&document.documentElement.classList.add("dark")}catch{}},[]);const[Pg,Vf]=w.useState(0),[Mg,Tg]=w.useState(!1),Hf=120,Wf=w.useMemo(()=>(K||[]).map(u=>({path:u})),[K]),sn=w.useCallback(async()=>{if(n)try{const u=await no(n);U.setFavorites(u.favorites||[])}catch{}},[n,U]),sl=w.useCallback(async()=>{if(n)try{const u=await ro(n);U.setSaved(u.saved||[])}catch{}},[n,U]),wt=w.useCallback(async()=>{if(n)try{const u=await fo(n);U.setTagsMap(u.tags||{}),U.setAllTags(u.all||[])}catch{}},[n,U]),il=w.useCallback(async()=>{if(n)try{const u=await so(n,r,b?i:void 0,m?l:void 0);oe.setDiag(u)}catch{}},[n,r,b,i,m,l,oe]),Rs=w.useCallback(async()=>{if(n)try{const u=await xo(n);oe.setClusters(u.clusters||[])}catch{}},[n,oe]),Kf=w.useCallback(async()=>{if(n)try{const u=await lo(n);oe.setPoints(u.points||[])}catch{}},[n,oe]),rr=w.useCallback(async(u=120,x=0,P=!1)=>{try{if(!n)return;const V=await _s(n,r,u,x,{openaiKey:b?i:void 0,hfToken:m?l:void 0}),$=V.paths&&V.paths.length===u&&x+V.paths.length<V.total;P?V.paths&&V.paths.length>0&&U.appendLibrary(V.paths):U.setLibrary(V.paths||[]),U.setLibHasMore($)}catch{}},[n,r,b,i,m,l,U]),bo=w.useCallback(async()=>{try{if(!n)return;const u=await yo(n);Uf({cameras:u.cameras||[],places:u.places||[]})}catch{}},[n]),Eo=w.useCallback(async()=>{z.setBusy("Indexing"),z.setNote("");try{const u=await to(n,r,32,m?l:void 0,b?i:void 0);z.setNote(`Indexed. New ${u.new}, Updated ${u.updated}, Total ${u.total}`),await rr(120,0)}catch(u){z.setNote(u instanceof Error?u.message:"Index failed")}finally{z.setBusy("")}},[n,r,m,l,b,i,rr,z]),lr=w.useCallback(async u=>{var P;const x=(u??He??"").trim();if(x){U.setQuery(x),z.setBusy("Searching"),z.setNote("");try{const V=p.split(",").map(je=>je.trim()).filter(Boolean),$=A.filter(Boolean);let ie;const Fe=el?Math.floor(new Date(el).getTime()/1e3):void 0,ze=tl?Math.floor(new Date(tl).getTime()/1e3):void 0;F?ie=await uo(n,x,r,I,{favoritesOnly:D,tags:V,dateFrom:Fe,dateTo:ze,place:v||void 0,hasText:g,...$.length===1?{person:$[0]}:$.length>1?{persons:$}:{}}):ie=await Es(n,x,r,I,{hfToken:m?l:void 0,openaiKey:b?i:void 0,favoritesOnly:D,tags:V,dateFrom:Fe,dateTo:ze,...a?{useFast:!0,fastKind:o||void 0}:{},useCaptions:c,useOcr:d,camera:j||void 0,isoMin:N?parseInt(N,10):void 0,isoMax:_?parseInt(_,10):void 0,fMin:H?parseFloat(H):void 0,fMax:h?parseFloat(h):void 0,place:v||void 0,hasText:g||void 0,...$.length===1?{person:$[0]}:$.length>1?{persons:$}:{}});let ne=ie.results||[];ll>0&&(ne=ne.filter(je=>(zs[je.path]||0)>=ll)),U.setResults(ne),U.setSearchId(ie.search_id||""),z.setNote(`Found ${((P=ie.results)==null?void 0:P.length)||0} results.`),await Promise.all([sn(),sl(),wt(),il()]),Le("results")}catch(V){z.setNote(V instanceof Error?V.message:"Search failed")}finally{z.setBusy("")}}},[He,U,z,R,A,el,tl,F,n,r,I,D,v,g,m,l,b,i,a,o,c,d,j,N,_,H,h,ll,zs,sn,sl,wt,il]),Qf=w.useCallback(async u=>{z.setBusy(`Preparing ${u.toUpperCase()}`);try{await io(n,u,r,m?l:void 0,b?i:void 0),z.setNote(`${u.toUpperCase()} ready`)}catch(x){z.setNote(x instanceof Error?x.message:"Failed to build index")}finally{z.setBusy("")}},[n,r,m,l,b,i,z]),Gf=w.useCallback(async()=>{z.setBusy("Extracting text (OCR)");try{const u=await ao(n,r,["en"],m?l:void 0,b?i:void 0);z.setNote(`OCR updated ${u.updated} images`),await wt()}catch(u){z.setNote(u instanceof Error?u.message:"OCR failed")}finally{z.setBusy("")}},[n,r,m,l,b,i,wt,z]),Yf=w.useCallback(async()=>{z.setBusy("Building metadata");try{const u=await mo(n,r,m?l:void 0,b?i:void 0);z.setNote(`Metadata ready (${u.updated})`)}catch(u){z.setNote(u instanceof Error?u.message:"Metadata build failed")}finally{z.setBusy("")}},[n,r,m,l,b,i,z]),Is=w.useCallback(u=>{Zr(x=>{const P=new Set(x);return P.has(u)?P.delete(u):P.add(u),P})},[]),Xf=w.useCallback(async u=>{if(!(!n||ae.size===0))try{const x=await ho(n,Array.from(ae),u,"copy",!1,!1);z.setNote(`Exported ${x.copied}, skipped ${x.skipped}, errors ${x.errors}  ${x.dest}`)}catch(x){z.setNote(x instanceof Error?x.message:"Export failed")}},[n,ae,z]),qf=w.useCallback(u=>{const x=(k||[]).findIndex(P=>P.path===u);x>=0&&nr(x)},[k]),sr=w.useCallback(u=>{nr(x=>{if(x===null)return null;const P=x+u;return!k||P<0||P>=k.length?x:P})},[k]),Zf=w.useCallback(async u=>{if(!n||ae.size===0)return;const x=u.split(",").map(P=>P.trim()).filter(Boolean);try{const{apiSetTags:P}=await Ce(async()=>{const{apiSetTags:V}=await Promise.resolve().then(()=>be);return{apiSetTags:V}},void 0,import.meta.url);await Promise.all(Array.from(ae).map(V=>P(n,V,x))),z.setNote(`Updated tags for ${ae.size} photos`),await wt()}catch(P){z.setNote(P instanceof Error?P.message:"Tag update failed")}},[n,ae,wt,z]);w.useCallback(async u=>{if(!(!n||ae.size===0))try{const{apiSetTags:x}=await Ce(async()=>{const{apiSetTags:$}=await Promise.resolve().then(()=>be);return{apiSetTags:$}},void 0,import.meta.url),P=/^rating:[1-5]$/,V=Array.from(ae);await Promise.all(V.map(async $=>{const ie=((R==null?void 0:R[$])||[]).filter(ze=>!P.test(ze)),Fe=u===0?ie:[...ie,`rating:${u}`];await x(n,$,Fe)})),z.setNote(u===0?`Cleared rating for ${ae.size}`:`Set rating ${u} for ${ae.size}`),await wt()}catch(x){z.setNote(x instanceof Error?x.message:"Rating update failed")}},[n,ae,R,wt,z]),w.useEffect(()=>{if(!e)return;const u=T||"";ln(x=>x===u?x:u)},[T,e]),w.useEffect(()=>{n&&(sn(),sl(),wt(),il(),Rs(),Vf(0),rr(Hf,0),bo())},[n,sn,sl,wt,il,Rs,rr,bo]),w.useEffect(()=>{if(!e)return;const u=(k==null?void 0:k.length)??0;It(x=>{const P=u>0?x===null?0:Math.min(x,u-1):null;return Object.is(x,P)?x:P})},[k==null?void 0:k.length,e]),w.useEffect(()=>{function u(x){var $,ie,Fe,ze;const P=x.target;if(P&&(P.tagName==="INPUT"||P.tagName==="TEXTAREA"||P.isContentEditable)||Ts||pe||Ms)return;if(x.key==="/"){x.preventDefault(),($=So.current)==null||$.focus();return}if(x.key==="?"||x.shiftKey&&x.key==="/"){x.preventDefault(),Ls(!0);return}if(!(se!=="results"||!(((k==null?void 0:k.length)||0)>0))){if(x.key==="Escape"){nr(null);return}if(nt!==null){if((x.key==="ArrowLeft"||x.key==="k")&&(x.preventDefault(),sr(-1)),(x.key==="ArrowRight"||x.key==="j")&&(x.preventDefault(),sr(1)),x.key.toLowerCase()==="f"){x.preventDefault();const ne=(ie=k==null?void 0:k[nt])==null?void 0:ie.path;if(!ne)return;_r(n,ne,!E.includes(ne)).then(sn).catch(()=>{})}return}if(x.key.toLowerCase()==="a"){x.preventDefault(),Zr(new Set((k??[]).map(ne=>ne.path)));return}if(x.key.toLowerCase()==="c"){x.preventDefault(),Zr(new Set);return}if(x.key.toLowerCase()==="f"&&he!==null){x.preventDefault();const ne=(Fe=k==null?void 0:k[he])==null?void 0:Fe.path;if(!ne)return;_r(n,ne,!E.includes(ne)).then(sn).catch(()=>{});return}if(x.key==="Enter"&&he!==null){x.preventDefault(),nr(he);return}if(x.key===" "&&he!==null){x.preventDefault();const ne=(ze=k==null?void 0:k[he])==null?void 0:ze.path;if(!ne)return;Is(ne);return}if(x.key==="ArrowLeft"){x.preventDefault(),he!==null&&It(Math.max(0,he-1));return}if(x.key==="ArrowRight"){x.preventDefault(),he!==null&&It(Math.min(((k==null?void 0:k.length)??1)-1,he+1));return}if(x.key==="ArrowUp"&&he!==null){x.preventDefault();const ne=nl.current;let je=ne.findIndex(Re=>Re.includes(he));if(je>0){const Re=ne[je].indexOf(he),ct=ne[je-1],an=ct[Math.min(Re,ct.length-1)];typeof an=="number"&&It(an)}return}if(x.key==="ArrowDown"&&he!==null){x.preventDefault();const ne=nl.current;let je=ne.findIndex(Re=>Re.includes(he));if(je>=0&&je<ne.length-1){const Re=ne[je].indexOf(he),ct=ne[je+1],an=ct[Math.min(Re,ct.length-1)];typeof an=="number"&&It(an)}return}if(x.key==="Home"){x.preventDefault(),It(0);return}if(x.key==="End"){x.preventDefault(),It(k.length-1);return}if((x.key==="PageUp"||x.key==="PageDown")&&he!==null){x.preventDefault();const ne=3,je=nl.current,Re=je.findIndex(ct=>ct.includes(he));if(Re>=0){const ct=je[Re].indexOf(he),an=x.key==="PageUp"?Math.max(0,Re-ne):Math.min(je.length-1,Re+ne),_o=je[an],Po=_o[Math.min(ct,_o.length-1)];typeof Po=="number"&&It(Po)}return}}}return window.addEventListener("keydown",u),()=>window.removeEventListener("keydown",u)},[se,k==null?void 0:k.length,nt,n,E,sr,Is,Ts,pe,Ms]),w.useEffect(()=>{if(he===null)return;const u=document.getElementById("modern-results-grid"),x=u==null?void 0:u.querySelector(`[data-photo-idx="${he}"]`);x&&x.scrollIntoView({block:"nearest",inline:"nearest"})},[he]);const Jf=()=>s.jsx("div",{className:"p-4",children:s.jsx(cg,{dir:n,engine:r,library:K,onLoadLibrary:rr})}),ep=()=>s.jsxs("div",{className:"w-64 bg-gray-50 border-r border-gray-200 flex flex-col",children:[s.jsxs("div",{className:"p-4 border-b border-gray-200",children:[s.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"PhotoVault"}),s.jsx("p",{className:"text-sm text-gray-500",children:"AI-Powered Photo Management"})]}),s.jsxs("nav",{className:"flex-1 p-4 space-y-6 overflow-y-auto",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-3",children:"Library"}),s.jsx("div",{className:"space-y-1",children:[{id:"library",label:"All Photos",icon:Zn,count:(K==null?void 0:K.length)||0},{id:"results",label:"Search Results",icon:xr},{id:"map",label:"Map View",icon:eo},{id:"people",label:"People",icon:kn},{id:"collections",label:"Collections",icon:Il},{id:"smart",label:"Smart Collections",icon:Kr},{id:"trips",label:"Trips",icon:Hm},{id:"saved",label:"Saved Searches",icon:Bm},{id:"memories",label:"Memories",icon:Kr},{id:"tasks",label:"Tasks",icon:Km}].map(u=>s.jsxs("button",{type:"button",onClick:()=>Le(u.id),className:`w-full flex items-center justify-between px-3 py-2 rounded-lg text-sm transition-colors ${se===u.id?"bg-blue-500 text-white":"text-gray-700 hover:bg-gray-100"}`,children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(u.icon,{className:"w-4 h-4"}),s.jsx("span",{children:u.label})]}),u.count?s.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${se===u.id?"bg-white/20":"bg-gray-200 text-gray-600"}`,children:u.count}):null]},u.id))})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-3",children:"Quick Collections"}),s.jsx("div",{className:"space-y-1",children:Object.entries(ee||{}).slice(0,5).map(([u,x])=>s.jsxs("button",{type:"button",onClick:()=>Le("collections"),className:"w-full flex items-center justify-between px-3 py-2 rounded-lg text-sm text-gray-700 hover:bg-gray-100 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-400"}),s.jsx("span",{children:u})]}),s.jsx("span",{className:"text-xs text-gray-500",children:x.length})]},u))})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-3",children:"People"}),s.jsx("div",{className:"space-y-1",children:(C||[]).slice(0,6).map(u=>s.jsxs("button",{type:"button",className:"w-full flex items-center justify-between px-3 py-2 rounded-lg text-sm text-gray-700 hover:bg-gray-100 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(kn,{className:"w-4 h-4"}),s.jsx("span",{children:u.name||"Unnamed"})]}),s.jsx("span",{className:"text-xs text-gray-500",children:u.size})]},u.id))})]})]}),s.jsx("div",{className:"p-4 border-t border-gray-200",children:s.jsxs("button",{type:"button",className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",onClick:async()=>{try{if(window.electronAPI&&window.electronAPI.selectFolder){const u=await window.electronAPI.selectFolder();u&&G.setDir(u)}else{const u=window.prompt("Photo folder path:");u&&G.setDir(u)}}catch(u){console.error("Failed to select folder:",u);const x=window.prompt("Photo folder path:");x&&G.setDir(x)}},children:[s.jsx(Dl,{className:"w-4 h-4"}),s.jsx("span",{children:"Select Folder"})]})})]}),tp=()=>s.jsxs("div",{className:"bg-white border-b border-gray-200 p-4",children:[W&&s.jsx("div",{className:"h-1 w-full bg-blue-100 mb-2 overflow-hidden rounded",children:s.jsx("div",{className:"h-full bg-blue-500 animate-pulse w-1/3"})}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4 flex-1 max-w-2xl",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(xr,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx("input",{type:"text",placeholder:"Search by content, people, places",value:He,onChange:u=>{ln(u.target.value),rl(!0)},onKeyDown:u=>{u.key==="Enter"&&lr(He)},onFocus:()=>rl(!0),onBlur:()=>setTimeout(()=>rl(!1),120),ref:So,className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),Af&&s.jsx("div",{className:"absolute z-50 mt-1 w-full bg-white border border-gray-200 rounded shadow max-h-64 overflow-auto text-sm",children:(()=>{const u=He.toLowerCase(),x=(C||[]).map($=>$.name).filter(Boolean),P=[];for(const $ of x)(!u||$.toLowerCase().includes(u))&&P.push({cat:"People",label:$});for(const $ of f||[])(!u||$.toLowerCase().includes(u))&&P.push({cat:"Tag",label:$});for(const $ of Co.cameras||[])(!u||$.toLowerCase().includes(u))&&P.push({cat:"Camera",label:$});for(const $ of Co.places||[])(!u||String($).toLowerCase().includes(u))&&P.push({cat:"Place",label:String($)});const V=P.slice(0,20);return V.length===0?s.jsx("div",{className:"px-3 py-2 text-gray-500",children:"No suggestions"}):V.map(($,ie)=>s.jsxs("button",{type:"button",className:"w-full flex items-center justify-between px-3 py-2 hover:bg-gray-50",onMouseDown:Fe=>{Fe.preventDefault(),ln($.label),rl(!1),setTimeout(()=>lr($.label),0)},children:[s.jsxs("span",{className:"truncate",children:[s.jsxs("span",{className:"text-gray-500 mr-2",children:[$.cat,":"]}),$.label]}),s.jsx("span",{className:"text-xs text-gray-400",children:""})]},`${$.cat}:${$.label}`))})()})]}),s.jsxs("button",{type:"button",className:"flex items-center gap-2 px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",onClick:()=>Jr(u=>!u),children:[s.jsx(qm,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"Filters"})]}),s.jsxs("button",{type:"button",className:"flex items-center gap-2 px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",onClick:()=>Z({kind:"save"}),title:"Save search",children:[s.jsx(Um,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"Save"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"flex items-center bg-gray-100 rounded-lg p-1",children:["small","medium","large"].map(u=>s.jsx("button",{type:"button",onClick:()=>Ff(u),className:`px-3 py-1 text-xs rounded-md transition-colors ${Lf===u?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:u.charAt(0).toUpperCase()+u.slice(1)},u))}),s.jsxs("div",{className:"flex items-center bg-gray-100 rounded-lg p-1",children:[s.jsx("button",{type:"button",onClick:()=>Le("results"),className:`p-2 rounded-md transition-colors ${se==="results"?"bg-white shadow-sm":"hover:bg-gray-200"}`,children:s.jsx(Zn,{className:"w-4 h-4"})}),s.jsx("button",{type:"button",onClick:()=>Le("library"),className:`p-2 rounded-md transition-colors ${se==="library"?"bg-white shadow-sm":"hover:bg-gray-200"}`,children:s.jsx(lf,{className:"w-4 h-4"})})]}),s.jsx("button",{type:"button",className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",title:"Settings & Indexing",onClick:()=>Z({kind:"folder"}),children:s.jsx(sf,{className:"w-4 h-4"})}),s.jsx("button",{type:"button",className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",title:"Toggle theme",onClick:()=>{try{const x=document.documentElement.classList.toggle("dark");localStorage.setItem("ps_theme",x?"dark":"light")}catch{}},children:s.jsx("span",{"aria-hidden":!0,children:""})})]})]}),s.jsx("div",{className:"flex items-center gap-2 mt-4",children:["All","Today","This Week","This Month","Favorites","People","Screenshots"].map(u=>s.jsx("button",{type:"button",onClick:()=>{Rf(u.toLowerCase()),u==="Favorites"&&(U.setFavOnly(!0),lr(He))},className:`px-3 py-1 text-sm rounded-full transition-colors ${zf===u.toLowerCase()?"bg-blue-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:u},u))}),s.jsxs("div",{className:"flex items-center gap-1 mt-2 text-sm",children:[s.jsx("span",{children:"Min rating:"}),[0,1,2,3,4,5].map(u=>s.jsx("button",{type:"button",className:`px-2 py-0.5 rounded ${ll===u?"bg-blue-600 text-white":"bg-gray-200"}`,onClick:()=>Bf(u),children:u===0?"Any":`${"".repeat(u)}`},u))]}),ae.size>0&&s.jsxs("div",{className:"flex items-center justify-between mt-4 p-3 bg-blue-50 rounded-lg",children:[s.jsxs("span",{className:"text-sm text-blue-900",children:[ae.size," photo",ae.size!==1?"s":""," selected"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{type:"button",className:"flex items-center gap-1 px-3 py-1 text-sm text-blue-700 hover:bg-blue-100 rounded-md transition-colors",onClick:()=>Z({kind:"export"}),children:[s.jsx(Ja,{className:"w-4 h-4"}),"Export"]}),s.jsxs("button",{type:"button",className:"flex items-center gap-1 px-3 py-1 text-sm text-blue-700 hover:bg-blue-100 rounded-md transition-colors",onClick:()=>Z({kind:"tag"}),children:[s.jsx(py,{className:"w-4 h-4"}),"Tag"]}),ae.size===1&&s.jsxs("button",{type:"button",className:"flex items-center gap-1 px-3 py-1 text-sm text-blue-700 hover:bg-blue-100 rounded-md transition-colors",onClick:async()=>{const u=Array.from(ae)[0],{apiSearchLike:x}=await Ce(async()=>{const{apiSearchLike:P}=await Promise.resolve().then(()=>be);return{apiSearchLike:P}},void 0,import.meta.url);z.setBusy("Searching similar");try{const P=await x(n,u,r,I);U.setResults(P.results||[]),Le("results")}catch(P){z.setNote(P instanceof Error?P.message:"Search failed")}finally{z.setBusy("")}},children:[s.jsx(xr,{className:"w-4 h-4"})," Similar"]}),ae.size===1&&s.jsxs("button",{type:"button",className:"flex items-center gap-1 px-3 py-1 text-sm text-blue-700 hover:bg-blue-100 rounded-md transition-colors",onClick:()=>Z({kind:"likeplus"}),children:[s.jsx(xr,{className:"w-4 h-4"})," Similar + Text"]}),s.jsxs("button",{type:"button",className:"flex items-center gap-1 px-3 py-1 text-sm text-blue-700 hover:bg-blue-100 rounded-md transition-colors",onClick:()=>Z({kind:"collect"}),children:[s.jsx(Il,{className:"w-4 h-4"})," Add to Collection"]}),s.jsxs("button",{type:"button",className:"flex items-center gap-1 px-3 py-1 text-sm text-blue-700 hover:bg-blue-100 rounded-md transition-colors",onClick:()=>Z({kind:"removeCollect"}),children:[s.jsx(Il,{className:"w-4 h-4 rotate-180"})," Remove from Collection"]}),s.jsxs("button",{type:"button",className:"flex items-center gap-1 px-3 py-1 text-sm text-red-700 hover:bg-red-100 rounded-md transition-colors",onClick:async()=>{if(ae.size!==0&&confirm(`Move ${ae.size} item(s) to Trash?`))try{z.setBusy("Deleting");const u=await ko(n,Array.from(ae),y);z.setNote(`Moved ${u.moved} to ${y?"OS Trash":"Trash"}`),Zr(new Set),y?Dt({message:`Moved ${u.moved} to OS Trash`}):(vt.current&&window.clearTimeout(vt.current),Dt({message:`Moved ${u.moved} to Trash`,actionLabel:"Undo",onAction:async()=>{try{const x=await jo(n);z.setNote(`Restored ${x.restored}`)}catch{}Dt(null),vt.current&&(window.clearTimeout(vt.current),vt.current=null)}}),vt.current=window.setTimeout(()=>{Dt(null),vt.current=null},1e4))}catch(u){z.setNote(u instanceof Error?u.message:"Delete failed")}finally{z.setBusy("")}},children:[s.jsx(os,{className:"w-4 h-4"}),"Delete"]})]})]})]}),np=()=>{const u=Wf.length,x=((L==null?void 0:L.engines)||[]).find(V=>V.key===r),P=(x==null?void 0:x.fast)&&(x.fast.annoy||x.fast.faiss||x.fast.hnsw);return s.jsx("div",{className:"bg-gray-50 border-t border-gray-200 p-4",children:s.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsxs("span",{children:[u," photos"]}),J?s.jsx("span",{className:"text-gray-800",children:J}):null]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:`w-2 h-2 ${x!=null&&x.count?"bg-green-500":"bg-gray-300"} rounded-full`}),s.jsxs("span",{children:["AI Index ",x!=null&&x.count?"Ready":"Empty"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:`w-2 h-2 ${P?"bg-blue-500":"bg-gray-300"} rounded-full`}),s.jsxs("span",{children:["Fast Index ",P?"Ready":""]})]})]})]})})};return s.jsxs("div",{className:"flex h-screen bg-white dark:bg-gray-950 dark:text-gray-100",children:[s.jsx(ep,{}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsx(tp,{}),s.jsxs("div",{className:"flex-1 overflow-auto",ref:No,children:[se==="results"&&s.jsx("div",{className:"p-4",children:s.jsx(ag,{dir:n,engine:r,items:(k||[]).map(u=>({path:u.path,score:u.score})),selected:ae,onToggleSelect:Is,onOpen:u=>qf(u),scrollContainerRef:No,focusIndex:he??void 0,onLayout:u=>Of(x=>$f(x,u)?x:u),ratingMap:zs})}),se==="library"&&s.jsx(Jf,{}),se==="people"&&s.jsx("div",{className:"p-4",children:s.jsx(ug,{dir:n,engine:r,clusters:C||[],persons:A,setPersons:oe.setPersons,busy:W,setBusy:z.setBusy,setNote:z.setNote,onLoadFaces:Rs})}),se==="map"&&s.jsx("div",{className:"p-4",children:s.jsx(dg,{points:S||[],onLoadMap:Kf})}),se==="collections"&&s.jsx("div",{className:"p-4",children:s.jsx(fg,{dir:n,engine:r,collections:ee,onLoadCollections:async()=>{const{apiGetCollections:u}=await Ce(async()=>{const{apiGetCollections:P}=await Promise.resolve().then(()=>be);return{apiGetCollections:P}},void 0,import.meta.url),x=await u(n);U.setCollections(x.collections||{})},onOpen:u=>{const x=(ee==null?void 0:ee[u])||[];U.setResults(x.map(P=>({path:P,score:0}))),Le("results"),z.setNote(`${x.length} in ${u}`)},onDelete:async u=>{try{const{apiDeleteCollection:x,apiGetCollections:P}=await Ce(async()=>{const{apiDeleteCollection:$,apiGetCollections:ie}=await Promise.resolve().then(()=>be);return{apiDeleteCollection:$,apiGetCollections:ie}},void 0,import.meta.url);await x(n,u);const V=await P(n);U.setCollections(V.collections||{}),Dt({message:`Deleted collection ${u}`})}catch(x){z.setNote(x instanceof Error?x.message:"Delete failed")}}})}),se==="saved"&&s.jsx("div",{className:"p-4",children:s.jsx(hg,{saved:X,onRun:(u,x,P)=>{ln(x),P&&U.setTopK(P),lr(x)},onDelete:async u=>{try{const{apiDeleteSaved:x,apiGetSaved:P}=await Ce(async()=>{const{apiDeleteSaved:$,apiGetSaved:ie}=await Promise.resolve().then(()=>be);return{apiDeleteSaved:$,apiGetSaved:ie}},void 0,import.meta.url);await x(n,u);const V=await P(n);U.setSaved(V.saved||[])}catch(x){z.setNote(x instanceof Error?x.message:"Delete failed")}}})}),se==="memories"&&s.jsxs("div",{className:"p-4 space-y-4",children:[s.jsxs("div",{className:"bg-white border rounded p-3",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsx("div",{className:"font-semibold",children:"Recent Favorites"})}),E.length===0?s.jsx("div",{className:"text-sm text-gray-600 mt-2",children:"No favorites yet."}):s.jsx("div",{className:"mt-2 grid grid-cols-3 md:grid-cols-5 lg:grid-cols-8 gap-2",children:E.slice(0,24).map(u=>s.jsx("img",{src:xt(n,r,u,196),alt:gg(u),className:"w-full h-24 object-cover rounded"},u))})]}),s.jsx("div",{children:s.jsx(Vc,{dir:n,engine:r,setBusy:z.setBusy,setNote:z.setNote,setResults:U.setResults})})]}),se==="tasks"&&s.jsx("div",{className:"p-4",children:s.jsx(yg,{})}),se==="smart"&&s.jsx("div",{className:"p-4",children:s.jsx(pg,{dir:n,engine:r,topK:I,smart:B,setSmart:U.setSmart,setResults:U.setResults,setSearchId:U.setSearchId,setNote:z.setNote,query:T,favOnly:D,tagFilter:p,useCaps:c,useOcr:d,hasText:g,camera:j,isoMin:N,isoMax:_,fMin:H,fMax:h,place:v,persons:A})}),se==="trips"&&s.jsx("div",{className:"p-4",children:s.jsx(Vc,{dir:n,engine:r,setBusy:z.setBusy,setNote:z.setNote,setResults:U.setResults})})]}),s.jsx(np,{}),Ms&&s.jsxs("div",{className:"absolute right-6 top-20 z-50 bg-white border border-gray-200 shadow-lg rounded-lg p-4 w-96",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("div",{className:"font-semibold",children:"Filters"}),s.jsx("button",{type:"button",className:"text-sm text-gray-500",onClick:()=>Jr(!1),children:"Close"})]}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{htmlFor:"flt-fav",children:"Favorites only"}),s.jsx("input",{id:"flt-fav",type:"checkbox",checked:D,onChange:u=>U.setFavOnly(u.target.checked)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block mb-1",htmlFor:"flt-tags",children:"Tags (comma)"}),s.jsx("input",{id:"flt-tags",className:"w-full border rounded px-2 py-1",value:p,onChange:u=>U.setTagFilter(u.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block mb-1",htmlFor:"flt-camera",children:"Camera"}),s.jsx("input",{id:"flt-camera",className:"w-full border rounded px-2 py-1",value:j,onChange:u=>G.setCamera(u.target.value)})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block mb-1",htmlFor:"flt-iso-min",children:"ISO min"}),s.jsx("input",{id:"flt-iso-min",className:"w-full border rounded px-2 py-1",value:N,onChange:u=>G.setIsoMin(u.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block mb-1",htmlFor:"flt-iso-max",children:"ISO max"}),s.jsx("input",{id:"flt-iso-max",className:"w-full border rounded px-2 py-1",value:_,onChange:u=>G.setIsoMax(u.target.value)})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block mb-1",htmlFor:"flt-date-from",children:"Date from"}),s.jsx("input",{id:"flt-date-from",type:"date",className:"w-full border rounded px-2 py-1",value:el,onChange:u=>If(u.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block mb-1",htmlFor:"flt-date-to",children:"Date to"}),s.jsx("input",{id:"flt-date-to",type:"date",className:"w-full border rounded px-2 py-1",value:tl,onChange:u=>Df(u.target.value)})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block mb-1",htmlFor:"flt-fmin",children:"f/ min"}),s.jsx("input",{id:"flt-fmin",className:"w-full border rounded px-2 py-1",value:H,onChange:u=>G.setFMin(u.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block mb-1",htmlFor:"flt-fmax",children:"f/ max"}),s.jsx("input",{id:"flt-fmax",className:"w-full border rounded px-2 py-1",value:h,onChange:u=>G.setFMax(u.target.value)})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block mb-1",htmlFor:"flt-place",children:"Place"}),s.jsx("input",{id:"flt-place",className:"w-full border rounded px-2 py-1",value:v,onChange:u=>G.setPlace(u.target.value)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{htmlFor:"flt-caps",children:"Use captions"}),s.jsx("input",{id:"flt-caps",type:"checkbox",checked:c,onChange:u=>G.setUseCaps(u.target.checked)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{htmlFor:"flt-ocr",children:"Use OCR"}),s.jsx("input",{id:"flt-ocr",type:"checkbox",checked:d,onChange:u=>G.setUseOcr(u.target.checked)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{htmlFor:"flt-hastext",children:"Has text"}),s.jsx("input",{id:"flt-hastext",type:"checkbox",checked:g,onChange:u=>G.setHasText(u.target.checked)})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[s.jsx("button",{type:"button",className:"px-3 py-1 rounded border",onClick:()=>Jr(!1),children:"Cancel"}),s.jsx("button",{type:"button",className:"px-3 py-1 rounded bg-blue-600 text-white",onClick:()=>{Jr(!1),lr(He)},children:"Apply"})]})]})]}),(pe==null?void 0:pe.kind)==="export"&&s.jsx("div",{className:"fixed inset-0 z-50 bg-black/40 flex items-center justify-center",onKeyDown:u=>{u.key==="Escape"&&Z(null)},children:s.jsx(on,{onEscape:()=>Z(null),children:s.jsxs("div",{className:"bg-white rounded-lg p-4 w-full max-w-md",role:"dialog","aria-modal":"true",children:[s.jsx("div",{className:"font-semibold mb-2",children:"Export Selected"}),s.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Choose destination folder"}),s.jsxs("form",{onSubmit:u=>{u.preventDefault();const P=u.target.elements.namedItem("dest").value.trim();P&&(Xf(P),Z(null))},children:[s.jsx("input",{name:"dest",className:"w-full border rounded px-2 py-1",placeholder:"/absolute/path"}),s.jsxs("div",{className:"mt-3 flex justify-end gap-2",children:[s.jsx("button",{type:"button",className:"px-3 py-1 rounded border",onClick:()=>Z(null),children:"Cancel"}),s.jsx("button",{type:"submit",className:"px-3 py-1 rounded bg-blue-600 text-white",children:"Export"})]})]})]})})}),(pe==null?void 0:pe.kind)==="tag"&&s.jsx("div",{className:"fixed inset-0 z-50 bg-black/40 flex items-center justify-center",onKeyDown:u=>{u.key==="Escape"&&Z(null)},children:s.jsx(on,{onEscape:()=>Z(null),children:s.jsxs("div",{className:"bg-white rounded-lg p-4 w-full max-w-md",role:"dialog","aria-modal":"true",children:[s.jsx("div",{className:"font-semibold mb-2",children:"Tag Selected"}),s.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Enter comma-separated tags"}),s.jsxs("form",{onSubmit:u=>{u.preventDefault();const P=u.target.elements.namedItem("tags").value.trim();P&&(Zf(P),Z(null))},children:[s.jsx("input",{name:"tags",className:"w-full border rounded px-2 py-1",placeholder:"family, beach, 2024"}),s.jsxs("div",{className:"mt-3 flex justify-end gap-2",children:[s.jsx("button",{type:"button",className:"px-3 py-1 rounded border",onClick:()=>Z(null),children:"Cancel"}),s.jsx("button",{type:"submit",className:"px-3 py-1 rounded bg-blue-600 text-white",children:"Save"})]})]})]})})}),(pe==null?void 0:pe.kind)==="folder"&&s.jsx("div",{className:"fixed inset-0 z-50 bg-black/40 flex items-center justify-center",onKeyDown:u=>{u.key==="Escape"&&Z(null)},children:s.jsx(on,{onEscape:()=>Z(null),children:s.jsxs("div",{className:"bg-white rounded-lg p-4 w-full max-w-md",role:"dialog","aria-modal":"true",children:[s.jsx("div",{className:"font-semibold mb-2",children:"Set Photo Folder"}),s.jsxs("form",{onSubmit:async u=>{u.preventDefault();const P=u.target.elements.namedItem("path").value.trim();if(P){G.setDir(P),Z(null);try{await Ps(P),await Eo()}catch(V){console.error("Failed to add path or index:",V),z.setNote(V instanceof Error?V.message:"Failed to add path")}}},children:[s.jsx("label",{htmlFor:"sel-folder",className:"block text-sm mb-1",children:"Folder path"}),s.jsx("input",{id:"sel-folder",name:"path",className:"w-full border rounded px-2 py-1",placeholder:"/absolute/folder",defaultValue:n}),s.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[s.jsx("label",{htmlFor:"use-os-trash",className:"text-sm",children:"Use OS Trash (no Undo)"}),s.jsx("input",{id:"use-os-trash",type:"checkbox",checked:y,onChange:u=>G.setUseOsTrash(u.target.checked)})]}),s.jsxs("div",{className:"mt-4 border-t pt-3",children:[s.jsx("div",{className:"font-medium mb-2",children:"Preferences"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{htmlFor:"pref-fast",children:"Use Fast Index"}),s.jsx("input",{id:"pref-fast",type:"checkbox",checked:a,onChange:u=>G.setUseFast(u.target.checked)})]}),s.jsxs("div",{className:"flex items-center justify-between gap-2",children:[s.jsx("label",{htmlFor:"pref-fastkind",children:"Fast Kind"}),s.jsxs("select",{id:"pref-fastkind",className:"border rounded px-2 py-1",value:o,onChange:u=>G.setFastKind(u.target.value),children:[s.jsx("option",{value:"",children:"Auto"}),s.jsx("option",{value:"annoy",children:"Annoy"}),s.jsx("option",{value:"faiss",children:"FAISS"}),s.jsx("option",{value:"hnsw",children:"HNSW"})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{htmlFor:"pref-caps",children:"Use Captions"}),s.jsx("input",{id:"pref-caps",type:"checkbox",checked:c,onChange:u=>G.setUseCaps(u.target.checked)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{htmlFor:"pref-ocr",children:"Use OCR"}),s.jsx("input",{id:"pref-ocr",type:"checkbox",checked:d,onChange:u=>G.setUseOcr(u.target.checked)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{htmlFor:"pref-hastext",children:"Default: Has Text"}),s.jsx("input",{id:"pref-hastext",type:"checkbox",checked:g,onChange:u=>G.setHasText(u.target.checked)})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"pref-vlm",className:"block mb-1",children:"VLM Model"}),s.jsx("input",{id:"pref-vlm",className:"w-full border rounded px-2 py-1",defaultValue:"",onChange:u=>{}})]})]})]}),s.jsxs("div",{className:"mt-3 flex justify-between gap-2",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{type:"button",className:"px-3 py-1 rounded border",onClick:Eo,children:"Index"}),s.jsx("button",{type:"button",className:"px-3 py-1 rounded border",onClick:()=>Qf("annoy"),children:"Fast"}),s.jsx("button",{type:"button",className:"px-3 py-1 rounded border",onClick:Gf,children:"OCR"}),s.jsx("button",{type:"button",className:"px-3 py-1 rounded border",onClick:Yf,children:"Metadata"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{type:"button",className:"px-3 py-1 rounded border",onClick:()=>Z(null),children:"Close"}),s.jsx("button",{type:"submit",className:"px-3 py-1 rounded bg-blue-600 text-white",children:"Save"})]})]})]})]})})}),(pe==null?void 0:pe.kind)==="likeplus"&&s.jsx("div",{className:"fixed inset-0 z-50 bg-black/40 flex items-center justify-center",onKeyDown:u=>{u.key==="Escape"&&Z(null)},children:s.jsx(on,{onEscape:()=>Z(null),children:s.jsxs("div",{className:"bg-white rounded-lg p-4 w-full max-w-md",role:"dialog","aria-modal":"true",children:[s.jsx("div",{className:"font-semibold mb-2",children:"Similar + Text"}),s.jsxs("form",{onSubmit:async u=>{u.preventDefault();const x=u.target,P=x.elements.namedItem("text").value.trim(),V=parseFloat(x.elements.namedItem("weight").value);if(ae.size===1)try{const $=Array.from(ae)[0],{apiSearchLikePlus:ie}=await Ce(async()=>{const{apiSearchLikePlus:ze}=await Promise.resolve().then(()=>be);return{apiSearchLikePlus:ze}},void 0,import.meta.url);z.setBusy("Searching");const Fe=await ie(n,$,r,I,P||void 0,Number.isNaN(V)?.5:V);U.setResults(Fe.results||[]),Le("results")}catch($){z.setNote($ instanceof Error?$.message:"Search failed")}finally{z.setBusy("")}Z(null)},children:[s.jsx("label",{className:"block text-sm mb-1",htmlFor:"likeplus-text",children:"Text (optional)"}),s.jsx("input",{id:"likeplus-text",name:"text",className:"w-full border rounded px-2 py-1",placeholder:"e.g. beach at sunset"}),s.jsx("label",{className:"block text-sm mt-3 mb-1",htmlFor:"mix-weight",children:"Weight (image vs text)"}),s.jsx("input",{id:"mix-weight",name:"weight",type:"range",min:"0",max:"1",step:"0.05",defaultValue:"0.5",className:"w-full"}),s.jsxs("div",{className:"mt-3 flex justify-end gap-2",children:[s.jsx("button",{type:"button",className:"px-3 py-1 rounded border",onClick:()=>Z(null),children:"Cancel"}),s.jsx("button",{type:"submit",className:"px-3 py-1 rounded bg-blue-600 text-white",children:"Search"})]})]})]})})}),(pe==null?void 0:pe.kind)==="save"&&s.jsx("div",{className:"fixed inset-0 z-50 bg-black/40 flex items-center justify-center",onKeyDown:u=>{u.key==="Escape"&&Z(null)},children:s.jsx(on,{onEscape:()=>Z(null),children:s.jsxs("div",{className:"bg-white rounded-lg p-4 w-full max-w-md",role:"dialog","aria-modal":"true",children:[s.jsx("div",{className:"font-semibold mb-2",children:"Save Search"}),s.jsxs("form",{onSubmit:async u=>{u.preventDefault();const P=u.target.elements.namedItem("name").value.trim();if(P){try{const{apiAddSaved:V,apiGetSaved:$}=await Ce(async()=>{const{apiAddSaved:Fe,apiGetSaved:ze}=await Promise.resolve().then(()=>be);return{apiAddSaved:Fe,apiGetSaved:ze}},void 0,import.meta.url);await V(n,P,He||T||"",I);const ie=await $(n);U.setSaved(ie.saved||[]),Le("saved")}catch(V){z.setNote(V instanceof Error?V.message:"Save failed")}Z(null)}},children:[s.jsx("label",{className:"block text-sm mb-1",htmlFor:"save-name",children:"Name"}),s.jsx("input",{id:"save-name",name:"name",className:"w-full border rounded px-2 py-1",placeholder:"e.g. Dogs on beach"}),s.jsxs("div",{className:"mt-3 flex justify-end gap-2",children:[s.jsx("button",{type:"button",className:"px-3 py-1 rounded border",onClick:()=>Z(null),children:"Cancel"}),s.jsx("button",{type:"submit",className:"px-3 py-1 rounded bg-blue-600 text-white",children:"Save"})]})]})]})})}),(pe==null?void 0:pe.kind)==="collect"&&s.jsx("div",{className:"fixed inset-0 z-50 bg-black/40 flex items-center justify-center",onKeyDown:u=>{u.key==="Escape"&&Z(null)},children:s.jsx(on,{onEscape:()=>Z(null),children:s.jsxs("div",{className:"bg-white rounded-lg p-4 w-full max-w-md",role:"dialog","aria-modal":"true",children:[s.jsx("div",{className:"font-semibold mb-2",children:"Add to Collection"}),s.jsxs("form",{onSubmit:async u=>{u.preventDefault();const P=u.target.elements.namedItem("name").value.trim();if(P){try{const{apiSetCollection:V,apiGetCollections:$}=await Ce(async()=>{const{apiSetCollection:Fe,apiGetCollections:ze}=await Promise.resolve().then(()=>be);return{apiSetCollection:Fe,apiGetCollections:ze}},void 0,import.meta.url);await V(n,P,Array.from(ae));const ie=await $(n);U.setCollections(ie.collections||{}),Dt({message:`Added ${ae.size} to ${P}`})}catch(V){z.setNote(V instanceof Error?V.message:"Collection update failed")}Z(null)}},children:[s.jsx("label",{className:"block text-sm mb-1",htmlFor:"col-name",children:"Collection"}),s.jsx("input",{id:"col-name",name:"name",list:"collections-list",className:"w-full border rounded px-2 py-1",placeholder:"Type or choose"}),s.jsx("datalist",{id:"collections-list",children:Object.keys(ee||{}).map(u=>s.jsx("option",{value:u,children:u},u))}),s.jsxs("div",{className:"mt-3 flex justify-end gap-2",children:[s.jsx("button",{type:"button",className:"px-3 py-1 rounded border",onClick:()=>Z(null),children:"Cancel"}),s.jsx("button",{type:"submit",className:"px-3 py-1 rounded bg-blue-600 text-white",children:"Add"})]})]})]})})}),(pe==null?void 0:pe.kind)==="removeCollect"&&s.jsx("div",{className:"fixed inset-0 z-50 bg-black/40 flex items-center justify-center",onKeyDown:u=>{u.key==="Escape"&&Z(null)},children:s.jsx(on,{onEscape:()=>Z(null),children:s.jsxs("div",{className:"bg-white rounded-lg p-4 w-full max-w-md",role:"dialog","aria-modal":"true",children:[s.jsx("div",{className:"font-semibold mb-2",children:"Remove from Collection"}),s.jsxs("form",{onSubmit:async u=>{var V;u.preventDefault();const P=u.target.elements.namedItem("name").value.trim();if(P){try{const{apiGetCollections:$,apiSetCollection:ie}=await Ce(async()=>{const{apiGetCollections:Re,apiSetCollection:ct}=await Promise.resolve().then(()=>be);return{apiGetCollections:Re,apiSetCollection:ct}},void 0,import.meta.url),ze=((V=(await $(n)).collections)==null?void 0:V[P])||[],ne=ze.filter(Re=>!ae.has(Re));await ie(n,P,ne);const je=await $(n);U.setCollections(je.collections||{}),Dt({message:`Removed ${ze.length-ne.length} from ${P}`})}catch($){z.setNote($ instanceof Error?$.message:"Collection update failed")}Z(null)}},children:[s.jsx("label",{className:"block text-sm mb-1",htmlFor:"col-name-remove",children:"Collection"}),s.jsx("input",{id:"col-name-remove",name:"name",list:"collections-list",className:"w-full border rounded px-2 py-1",placeholder:"Choose collection"}),s.jsx("datalist",{id:"collections-list",children:Object.keys(ee||{}).map(u=>s.jsx("option",{value:u,children:u},u))}),s.jsxs("div",{className:"mt-3 flex justify-end gap-2",children:[s.jsx("button",{type:"button",className:"px-3 py-1 rounded border",onClick:()=>Z(null),children:"Cancel"}),s.jsx("button",{type:"submit",className:"px-3 py-1 rounded bg-blue-600 text-white",children:"Remove"})]})]})]})})}),nt!==null&&k&&k[nt]&&s.jsx(og,{dir:n,engine:r,path:k[nt].path,onPrev:()=>sr(-1),onNext:()=>sr(1),onClose:()=>nr(null),onReveal:async()=>{var u;try{const{apiOpen:x}=await Ce(async()=>{const{apiOpen:V}=await Promise.resolve().then(()=>be);return{apiOpen:V}},void 0,import.meta.url),P=k&&nt!==null?(u=k[nt])==null?void 0:u.path:void 0;P&&await x(n,P)}catch{}},onFavorite:async()=>{var u;try{const x=k&&nt!==null?(u=k[nt])==null?void 0:u.path:void 0;x&&(await _r(n,x,!E.includes(x)),await sn())}catch{}},onMoreLikeThis:async()=>{var u;try{const{apiSearchLike:x}=await Ce(async()=>{const{apiSearchLike:$}=await Promise.resolve().then(()=>be);return{apiSearchLike:$}},void 0,import.meta.url),P=k&&nt!==null?(u=k[nt])==null?void 0:u.path:void 0;if(!P)return;z.setBusy("Searching similar");const V=await x(n,P,r,I);U.setResults(V.results||[]),Le("results")}catch(x){z.setNote(x instanceof Error?x.message:"Search failed")}finally{z.setBusy("")}}}),Ts&&s.jsxs("div",{className:"fixed inset-0 z-[1060] flex items-center justify-center",children:[s.jsx("button",{type:"button","aria-label":"Close shortcuts overlay",className:"absolute inset-0 w-full h-full bg-black/50",onClick:()=>Ls(!1)}),s.jsxs("div",{className:"relative z-[1061] bg-white dark:bg-gray-900 rounded-lg shadow p-5 w-full max-w-lg text-sm",role:"dialog","aria-modal":"true",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("div",{className:"font-semibold",children:"Keyboard Shortcuts"}),s.jsx("button",{type:"button",className:"px-2 py-1 border rounded",onClick:()=>Ls(!1),children:"Close"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-x-6 gap-y-2",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-mono",children:"/"})," Focus search"]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-mono",children:"?"})," Shortcuts help"]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-mono",children:"/"})," Move focus"]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-mono",children:"/"})," Row up/down"]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-mono",children:"Home/End"})," Start/end"]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-mono",children:"PgUp/PgDn"})," Jump rows"]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-mono",children:"Space"})," Select focused"]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-mono",children:"A"})," Select all"]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-mono",children:"C"})," Clear selection"]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-mono",children:"Enter"})," Open lightbox"]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-mono",children:"F"})," Favorite"]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-mono",children:"Esc"})," Close panel/lightbox"]})]})]})]}),!!W&&s.jsx("div",{className:"fixed inset-0 z-[1050] bg-black/40 flex items-center justify-center",role:"status","aria-live":"polite",children:s.jsx("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow p-4 w-full max-w-sm text-sm",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"h-6 w-6 border-2 border-gray-300 dark:border-gray-700 border-t-blue-600 rounded-full animate-spin"}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:W}),J&&s.jsx("div",{className:"text-gray-600 dark:text-gray-300 truncate",children:J})]})]})})}),Sn&&s.jsx("div",{className:"fixed bottom-4 left-1/2 -translate-x-1/2 z-[1070]",role:"status","aria-live":"polite",children:s.jsxs("div",{className:"flex items-center gap-3 bg-gray-900 text-white px-4 py-2 rounded shadow",children:[s.jsx("span",{className:"text-sm",children:Sn.message}),Sn.actionLabel&&Sn.onAction&&s.jsx("button",{type:"button",className:"text-sm underline",onClick:Sn.onAction,children:Sn.actionLabel}),s.jsx("button",{type:"button","aria-label":"Close",className:"ml-1",onClick:()=>{Dt(null),vt.current&&(window.clearTimeout(vt.current),vt.current=null)},children:""})]})})]})]})}const vg=({darkMode:e=!1,onDarkModeToggle:t})=>{const[n,r]=w.useState("library"),[l,i]=w.useState(""),[a,o]=w.useState([]),[c,d]=w.useState(new Set),[y,g]=w.useState(!1),[v,j]=w.useState(null),[N,_]=w.useState(null),[H,h]=w.useState(!1),[p,f]=w.useState(!1),[m,b]=w.useState(0),[k,T]=w.useState("medium"),[E,D]=w.useState(!1),I=w.useRef(null);w.useEffect(()=>{X()},[]),w.useEffect(()=>{N&&ee()},[N]);const X=async()=>{try{const S=await oo();console.log("Workspace loaded:",S)}catch(S){console.error("Failed to load workspace:",S)}},ee=async()=>{if(N){g(!0),j(null);try{console.log("Loading library from:",N);const S=await _s(N);if(!S||!S.images)throw new Error("No images found in the selected folder");const L=S.images.map((G,U)=>{var z,oe;return{id:`photo-${U}`,path:G,thumbnail:xt(G),title:((z=G.split("/").pop())==null?void 0:z.split(".")[0])||"Untitled",date:new Date().toLocaleDateString(),type:(oe=G.split(".").pop())==null?void 0:oe.toLowerCase()}});o(L),j(null),console.log(`Loaded ${L.length} photos`)}catch(S){console.error("Failed to load library:",S),j(S.message||"Failed to load photos from the selected folder"),o([])}finally{g(!1)}}},B=async S=>{if(S.preventDefault(),!!l.trim()){g(!0);try{const L=await Es(l,20);if(L&&L.results){const G=L.results.map((U,z)=>{var oe;return{id:`search-${z}`,path:U.image,thumbnail:xt(U.image),title:(oe=U.image.split("/").pop())==null?void 0:oe.split(".")[0],score:U.score}});o(G)}}catch(L){console.error("Search failed:",L)}finally{g(!1)}}},K=async()=>{var S;if(window.electronAPI)try{const L=await window.electronAPI.selectFolder();L&&await W(L)}catch(L){console.error("Failed to select folder:",L)}else(S=I.current)==null||S.click()},R=async S=>{var G;const L=S.target.files;if(L&&L.length>0){const U=(G=L[0].webkitRelativePath)==null?void 0:G.split("/")[0];if(U){const z=`/Users/pranay/Desktop/${U}`;await W(z)}}},W=async S=>{try{console.log("Adding path:",S),await Ps(S),_(S),j(null)}catch(L){console.error("Failed to add path:",L),j("Failed to add the selected folder")}},J=S=>{const L=new Set(c);L.has(S.id)?L.delete(S.id):L.add(S.id),d(L)},F=S=>{b(S),f(!0)},A=[{id:"library",label:"Library",icon:Zn},{id:"memories",label:"Memories",icon:Jm},{id:"people",label:"People",icon:kn},{id:"places",label:"Places",icon:eo},{id:"recent",label:"Recent",icon:Qm}],C=n==="memories"?a.filter(S=>S.favorite):a;return s.jsxs("div",{className:`flex h-screen ${e?"dark":""}`,style:{background:"var(--bg-primary)"},children:[s.jsxs("div",{className:`sidebar ${E?"w-16":""}`,style:{width:E?"64px":"260px"},children:[s.jsx("div",{className:"sidebar-header",children:s.jsxs("div",{className:"flex items-center justify-between",children:[!E&&s.jsx("h1",{className:"text-title",style:{fontSize:"1.25rem",fontWeight:600},children:"Photos"}),s.jsx("button",{onClick:()=>D(!E),className:"btn-ghost",style:{padding:"8px"},children:E?s.jsx(ra,{size:18}):s.jsx(Uc,{size:18})})]})}),s.jsxs("nav",{className:"sidebar-nav",children:[s.jsxs("div",{style:{marginBottom:"24px"},children:[!E&&s.jsx("div",{className:"text-overline",style:{padding:"0 16px 8px",color:"var(--text-tertiary)",fontSize:"11px",letterSpacing:"0.06em"},children:"LIBRARY"}),A.map(S=>{const L=S.icon;return s.jsxs("div",{onClick:()=>r(S.id),className:`nav-item ${n===S.id?"active":""}`,style:{justifyContent:E?"center":"flex-start",padding:E?"12px":"10px 16px"},children:[s.jsx(L,{size:20}),!E&&s.jsx("span",{children:S.label})]},S.id)})]}),!E&&s.jsxs("div",{style:{marginBottom:"24px"},children:[s.jsx("div",{className:"text-overline",style:{padding:"0 16px 8px",color:"var(--text-tertiary)",fontSize:"11px",letterSpacing:"0.06em"},children:"ALBUMS"}),s.jsxs("div",{className:"nav-item",children:[s.jsx(Bc,{size:20}),s.jsx("span",{children:"All Albums"})]}),s.jsxs("div",{className:"nav-item",children:[s.jsx(Kr,{size:20}),s.jsx("span",{children:"Favorites"})]})]})]}),s.jsxs("div",{style:{padding:"16px",borderTop:"1px solid var(--border-subtle)"},children:[s.jsx("button",{onClick:K,className:"btn btn-primary",style:{width:"100%",justifyContent:"center",fontSize:E?"0":"14px",padding:E?"12px":"10px 16px"},children:E?s.jsx(Dl,{size:20}):s.jsxs(s.Fragment,{children:[s.jsx(Dl,{size:18}),s.jsx("span",{children:"Import Photos"})]})}),s.jsx("input",{ref:I,type:"file",webkitdirectory:"",directory:"",multiple:!0,onChange:R,style:{display:"none"}}),!E&&s.jsxs("div",{style:{display:"flex",gap:"8px",marginTop:"12px"},children:[s.jsx("button",{onClick:()=>h(!H),className:"btn btn-ghost",style:{flex:1,padding:"8px"},children:s.jsx(sf,{size:18})}),s.jsx("button",{onClick:t,className:"btn btn-ghost",style:{flex:1,padding:"8px"},children:e?s.jsx(fy,{size:18}):s.jsx(sy,{size:18})})]})]})]}),s.jsxs("div",{className:"flex-1 flex flex-col",style:{background:"var(--bg-primary)"},children:[s.jsx("header",{style:{padding:"16px 24px",borderBottom:"1px solid var(--border-subtle)",background:"var(--bg-primary)"},children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("form",{onSubmit:B,className:"search-bar",style:{maxWidth:"500px"},children:[s.jsx(xr,{size:18,style:{position:"absolute",left:"16px",top:"50%",transform:"translateY(-50%)",color:"var(--text-tertiary)"}}),s.jsx("input",{type:"text",value:l,onChange:S=>i(S.target.value),placeholder:"Search photos...",className:"search-input"})]}),s.jsxs("div",{className:"flex items-center gap-12px",children:[c.size>0&&s.jsxs("div",{className:"flex items-center gap-8px",style:{marginRight:"16px"},children:[s.jsxs("span",{className:"text-caption",style:{color:"var(--text-secondary)"},children:[c.size," selected"]}),s.jsx("button",{className:"btn btn-ghost",style:{padding:"6px 12px"},children:s.jsx(dy,{size:16})}),s.jsx("button",{className:"btn btn-ghost",style:{padding:"6px 12px"},children:s.jsx(Ja,{size:16})}),s.jsx("button",{className:"btn btn-ghost",style:{padding:"6px 12px",color:"var(--error)"},children:s.jsx(os,{size:16})})]}),s.jsx("div",{className:"flex items-center gap-4px",style:{padding:"4px",background:"var(--bg-tertiary)",borderRadius:"var(--radius-md)"},children:["small","medium","large"].map(S=>s.jsx("button",{onClick:()=>T(S),style:{padding:"6px 12px",background:k===S?"var(--bg-primary)":"transparent",border:"none",borderRadius:"var(--radius-sm)",color:k===S?"var(--text-primary)":"var(--text-secondary)",fontSize:"12px",fontWeight:500,cursor:"pointer",transition:"all var(--transition-fast)"},children:S.charAt(0).toUpperCase()+S.slice(1)},S))})]})]})}),s.jsxs("main",{className:"flex-1 overflow-auto",style:{padding:"24px"},children:[y&&s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-pulse",style:{marginBottom:"16px"},children:s.jsx(ey,{size:48,style:{color:"var(--text-tertiary)"}})}),s.jsx("p",{className:"text-body",style:{color:"var(--text-secondary)"},children:"Loading photos..."})]})}),v&&s.jsx("div",{className:"flex flex-col items-center justify-center h-full",children:s.jsxs("div",{className:"text-center",style:{maxWidth:"400px"},children:[s.jsx(ty,{size:48,style:{color:"var(--error)",marginBottom:"16px"}}),s.jsx("p",{className:"text-body",style:{color:"var(--error)",marginBottom:"24px"},children:v}),s.jsx("button",{onClick:K,className:"btn btn-primary",children:"Select Another Folder"})]})}),!y&&!v&&a.length===0&&s.jsx("div",{className:"flex flex-col items-center justify-center h-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Bc,{size:64,style:{color:"var(--text-tertiary)",marginBottom:"24px"}}),s.jsx("h2",{className:"text-headline",style:{marginBottom:"12px",fontSize:"24px"},children:"No photos yet"}),s.jsx("p",{className:"text-body",style:{color:"var(--text-secondary)",marginBottom:"32px"},children:"Import your photos to get started"}),s.jsxs("button",{onClick:K,className:"btn btn-primary",style:{fontSize:"16px",padding:"12px 32px"},children:[s.jsx(Dl,{size:20}),"Select Photo Folder"]})]})}),!y&&!v&&a.length>0&&s.jsx("div",{className:"photo-grid",style:{gridTemplateColumns:k==="small"?"repeat(auto-fill, minmax(150px, 1fr))":k==="large"?"repeat(auto-fill, minmax(300px, 1fr))":"repeat(auto-fill, minmax(200px, 1fr))",gap:k==="small"?"4px":"8px"},children:C.map((S,L)=>s.jsxs("div",{className:"photo-item",onClick:()=>F(L),style:{borderRadius:k==="small"?"4px":"8px",position:"relative"},children:[S.thumbnail?s.jsx("img",{src:S.thumbnail,alt:S.title,loading:"lazy",style:{width:"100%",height:"100%",objectFit:"cover"}}):s.jsx("div",{className:"skeleton",style:{width:"100%",height:"100%"}}),s.jsx("div",{onClick:G=>{G.stopPropagation(),J(S)},style:{position:"absolute",top:"8px",left:"8px",width:"24px",height:"24px",borderRadius:"50%",background:c.has(S.id)?"var(--accent-primary)":"rgba(255, 255, 255, 0.9)",border:c.has(S.id)?"none":"2px solid rgba(255, 255, 255, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",opacity:c.has(S.id)?1:0,transition:"opacity var(--transition-fast)"},className:"photo-select",children:c.has(S.id)&&s.jsx(Za,{size:14,style:{color:"white"}})})]},S.id))})]})]}),p&&a[m]&&s.jsxs("div",{onClick:()=>f(!1),style:{position:"fixed",inset:0,background:"rgba(0, 0, 0, 0.95)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:"var(--z-modal)"},children:[s.jsx("button",{onClick:S=>{S.stopPropagation(),f(!1)},style:{position:"absolute",top:"24px",right:"24px",background:"rgba(255, 255, 255, 0.1)",border:"none",borderRadius:"50%",width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"white"},children:s.jsx(cs,{size:20})}),m>0&&s.jsx("button",{onClick:S=>{S.stopPropagation(),b(m-1)},style:{position:"absolute",left:"24px",background:"rgba(255, 255, 255, 0.1)",border:"none",borderRadius:"50%",width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"white"},children:s.jsx(Uc,{size:20})}),m<a.length-1&&s.jsx("button",{onClick:S=>{S.stopPropagation(),b(m+1)},style:{position:"absolute",right:"24px",background:"rgba(255, 255, 255, 0.1)",border:"none",borderRadius:"50%",width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"white"},children:s.jsx(ra,{size:20})}),s.jsx("img",{src:a[m].path,alt:a[m].title,style:{maxWidth:"90%",maxHeight:"90%",objectFit:"contain"},onClick:S=>S.stopPropagation()})]}),s.jsx("style",{jsx:!0,children:`
        .photo-item:hover .photo-select {
          opacity: 1 !important;
        }
      `})]})},wg=()=>{const[e,t]=w.useState(()=>{const r=localStorage.getItem("darkMode");return r!==null?r==="true":window.matchMedia("(prefers-color-scheme: dark)").matches});w.useEffect(()=>{e?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("darkMode",e.toString())},[e]);const n=()=>{t(r=>!r)};return s.jsx(vg,{darkMode:e,onDarkModeToggle:n})};function kg(){return s.jsxs("div",{className:"p-4",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Test App"}),s.jsx("p",{children:"This is a minimal test to see if React is working."})]})}class jg{constructor(t){Mo(this,"config");this.config=t}async search(t,n=24){return Es(this.config.dir,t,this.config.provider,n)}async searchWorkspace(t,n=24){return uo(this.config.dir,t,this.config.provider,n)}async searchSimilar(t,n=24){return vf(this.config.dir,t,this.config.provider,n)}async searchSimilarPlus(t,n,r=.5,l=24){return af(this.config.dir,t,this.config.provider,l,n,r)}async buildIndex(t=32){return to(this.config.dir,this.config.provider,t,this.config.hfToken,this.config.openaiKey)}async buildFastIndex(t){return io(this.config.dir,t,this.config.provider,this.config.hfToken,this.config.openaiKey)}async buildCaptions(t){return of(this.config.dir,t,this.config.provider,this.config.hfToken,this.config.openaiKey)}async getCollections(){return wf(this.config.dir)}async setCollection(t,n){return kf(this.config.dir,t,n)}async deleteCollection(t){return jf(this.config.dir,t)}async getSmartCollections(){return Nf(this.config.dir)}async setSmartCollection(t,n){return Sf(this.config.dir,t,n)}async deleteSmartCollection(t){return Cf(this.config.dir,t)}async resolveSmartCollection(t,n=24){return bf(this.config.dir,t,this.config.provider,n)}async buildTrips(){return _f(this.config.dir,this.config.provider)}async getTrips(){return Pf(this.config.dir)}async buildFaces(){return go(this.config.dir,this.config.provider)}async getFaceClusters(){return xo(this.config.dir)}async nameFaceCluster(t,n){return vo(this.config.dir,t,n)}async buildOCR(t){return ao(this.config.dir,this.config.provider,t,this.config.hfToken,this.config.openaiKey)}async getOCRSnippets(t,n=160){return Ef(this.config.dir,t,n)}async getMetadata(){return yo(this.config.dir)}async getMetadataDetail(t){return co(this.config.dir,t)}async buildMetadata(){return mo(this.config.dir,this.config.provider,this.config.hfToken,this.config.openaiKey)}async getTags(){return fo(this.config.dir)}async setTags(t,n){return mf(this.config.dir,t,n)}async getMapData(){return lo(this.config.dir)}async getFavorites(){return no(this.config.dir)}async setFavorite(t,n){return _r(this.config.dir,t,n)}async getSavedSearches(){return ro(this.config.dir)}async addSavedSearch(t,n,r){return uf(this.config.dir,t,n,r)}async deleteSavedSearch(t){return df(this.config.dir,t)}async editImage(t,n){return gf(this.config.dir,t,n)}async upscaleImage(t,n=2,r="pil"){return xf(this.config.dir,t,n,r)}async exportImages(t,n,r="copy",l=!1,i=!1){return ho(this.config.dir,t,n,r,l,i)}async openExternal(t){return yf(this.config.dir,t)}async getLibrary(t=120,n=0){return _s(this.config.dir,this.config.provider,t,n,{hfToken:this.config.hfToken,openaiKey:this.config.openaiKey})}async getWorkspace(){return oo()}async addToWorkspace(t){return Ps(t)}async removeFromWorkspace(t){return hf(t)}async deleteImages(t,n=!0){return ko(this.config.dir,t,n)}async undoDelete(){return jo(this.config.dir)}async findLookalikes(t=5){return ff(this.config.dir,t)}async resolveLookalikes(t){return pf(this.config.dir,t)}async runDiagnostics(){return so(this.config.dir,this.config.provider,this.config.openaiKey,this.config.hfToken)}async submitFeedback(t,n,r,l){return cf(this.config.dir,t,n,r,l)}async getTodos(){return wo()}getThumbnailUrl(t){return xt(this.config.dir,this.config.provider,t)}getFaceThumbnailUrl(t,n,r=196){return po(this.config.dir,this.config.provider,t,n,r)}async autoTag(){return Mf(this.config.dir,this.config.provider)}}let us=null;function Ng(e){return us=new jg(e),us}function ft(){if(!us)throw new Error("PhotoVault API not initialized. Call initializeAPI first.");return us}function Sg(){const[e,t]=w.useState([]),[n,r]=w.useState(null),[l,i]=w.useState("grid"),[a,o]=w.useState(!1),[c,d]=w.useState(""),[y,g]=w.useState([]),[v,j]=w.useState(!1),N=ft();w.useEffect(()=>{_()},[]);const _=async()=>{j(!0);try{const m=await N.getCollections(),b=Object.entries(m.collections).map(([k,T])=>({name:k,paths:T,count:T.length,preview:T[0]}));t(b)}catch(m){console.error("Failed to load collections:",m)}finally{j(!1)}},H=async()=>{if(c.trim())try{await N.setCollection(c,y),await _(),o(!1),d(""),g([])}catch(m){console.error("Failed to create collection:",m)}},h=async m=>{if(confirm(`Delete collection "${m}"?`))try{await N.deleteCollection(m),await _(),n===m&&r(null)}catch(b){console.error("Failed to delete collection:",b)}},p=({collection:m})=>s.jsxs("div",{className:"collection-card",onClick:()=>r(m.name),children:[s.jsxs("div",{className:"collection-preview",children:[m.preview&&s.jsx("img",{src:N.getThumbnailUrl(m.preview),alt:m.name}),s.jsx("div",{className:"collection-overlay",children:s.jsx(Zn,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"collection-info",children:[s.jsx("h3",{children:m.name}),s.jsxs("span",{className:"text-sm text-gray-500",children:[m.count," items"]})]}),s.jsx("div",{className:"collection-actions",children:s.jsx("button",{onClick:b=>{b.stopPropagation(),h(m.name)},className:"btn-icon",children:s.jsx(os,{className:"w-4 h-4"})})})]}),f=({collection:m})=>s.jsxs("div",{className:"collection-list-item",onClick:()=>r(m.name),children:[s.jsx(ra,{className:"w-4 h-4 text-gray-400"}),s.jsx(Zm,{className:"w-5 h-5 text-blue-500"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-medium",children:m.name}),s.jsxs("span",{className:"text-sm text-gray-500",children:[m.count," items"]})]}),s.jsx("button",{onClick:b=>{b.stopPropagation(),h(m.name)},className:"btn-icon",children:s.jsx(os,{className:"w-4 h-4"})})]});return s.jsxs("div",{className:"collections-manager",children:[s.jsxs("div",{className:"manager-header",children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Collections"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"view-toggle",children:[s.jsx("button",{onClick:()=>i("grid"),className:l==="grid"?"active":"",children:s.jsx(Zn,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>i("list"),className:l==="list"?"active":"",children:s.jsx(lf,{className:"w-4 h-4"})})]}),s.jsxs("button",{onClick:()=>o(!0),className:"btn btn-primary",children:[s.jsx(ay,{className:"w-4 h-4"}),"New Collection"]})]})]}),a&&s.jsxs("div",{className:"create-collection-panel",children:[s.jsx("input",{type:"text",placeholder:"Collection name...",value:c,onChange:m=>d(m.target.value),className:"input",autoFocus:!0}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:H,className:"btn btn-primary",children:"Create"}),s.jsx("button",{onClick:()=>{o(!1),d("")},className:"btn btn-secondary",children:"Cancel"})]})]}),v?s.jsxs("div",{className:"loading-state",children:[s.jsx("div",{className:"spinner"}),s.jsx("p",{children:"Loading collections..."})]}):s.jsx("div",{className:l==="grid"?"collections-grid":"collections-list",children:e.map(m=>l==="grid"?s.jsx(p,{collection:m},m.name):s.jsx(f,{collection:m},m.name))}),s.jsx("style",{jsx:!0,children:`
        .collections-manager {
          padding: 2rem;
          height: 100%;
          overflow-y: auto;
        }

        .manager-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 2rem;
        }

        .view-toggle {
          display: flex;
          gap: 0.25rem;
          padding: 0.25rem;
          background: var(--bg-tertiary);
          border-radius: var(--radius-md);
        }

        .view-toggle button {
          padding: 0.5rem;
          background: transparent;
          border: none;
          border-radius: var(--radius-sm);
          cursor: pointer;
          transition: all 0.2s;
        }

        .view-toggle button.active {
          background: var(--bg-primary);
          color: var(--accent-primary);
        }

        .create-collection-panel {
          background: var(--bg-secondary);
          padding: 1.5rem;
          border-radius: var(--radius-lg);
          margin-bottom: 2rem;
          display: flex;
          gap: 1rem;
          align-items: center;
        }

        .collections-grid {
          display: grid;
          grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
          gap: 1.5rem;
        }

        .collection-card {
          background: var(--bg-elevated);
          border-radius: var(--radius-lg);
          overflow: hidden;
          cursor: pointer;
          transition: all 0.3s;
        }

        .collection-card:hover {
          transform: translateY(-4px);
          box-shadow: var(--shadow-lg);
        }

        .collection-preview {
          position: relative;
          aspect-ratio: 1;
          background: var(--bg-tertiary);
          display: flex;
          align-items: center;
          justify-content: center;
        }

        .collection-preview img {
          width: 100%;
          height: 100%;
          object-fit: cover;
        }

        .collection-overlay {
          position: absolute;
          bottom: 0.5rem;
          right: 0.5rem;
          background: rgba(0, 0, 0, 0.5);
          color: white;
          padding: 0.25rem;
          border-radius: var(--radius-sm);
        }

        .collection-info {
          padding: 1rem;
        }

        .collection-info h3 {
          font-weight: 600;
          margin-bottom: 0.25rem;
        }

        .collection-actions {
          padding: 0 1rem 1rem;
          display: flex;
          gap: 0.5rem;
        }

        .collections-list {
          display: flex;
          flex-direction: column;
          gap: 0.5rem;
        }

        .collection-list-item {
          display: flex;
          align-items: center;
          gap: 1rem;
          padding: 1rem;
          background: var(--bg-elevated);
          border-radius: var(--radius-md);
          cursor: pointer;
          transition: all 0.2s;
        }

        .collection-list-item:hover {
          background: var(--bg-tertiary);
        }

        .btn-icon {
          padding: 0.5rem;
          background: var(--bg-tertiary);
          border: none;
          border-radius: var(--radius-sm);
          cursor: pointer;
          transition: all 0.2s;
        }

        .btn-icon:hover {
          background: var(--error);
          color: white;
        }

        .loading-state {
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          height: 300px;
          gap: 1rem;
        }

        .spinner {
          width: 40px;
          height: 40px;
          border: 3px solid var(--border-subtle);
          border-top-color: var(--accent-primary);
          border-radius: 50%;
          animation: spin 1s linear infinite;
        }

        @keyframes spin {
          to { transform: rotate(360deg); }
        }
      `})]})}function Cg(){const[e,t]=w.useState([]),[n,r]=w.useState(null),[l,i]=w.useState(null),[a,o]=w.useState(""),[c,d]=w.useState(!1),[y,g]=w.useState(!1),[v,j]=w.useState({totalFaces:0,namedPeople:0}),N=ft();w.useEffect(()=>{_()},[]);const _=async()=>{d(!0);try{const f=await N.getFaceClusters();t(f.clusters);const m=f.clusters.reduce((k,T)=>k+T.size,0),b=f.clusters.filter(k=>k.name).length;j({totalFaces:m,namedPeople:b})}catch(f){console.error("Failed to load face clusters:",f)}finally{d(!1)}},H=async()=>{g(!0);try{const f=await N.buildFaces();console.log(`Built faces: ${f.faces} faces in ${f.clusters} clusters`),await _()}catch(f){console.error("Failed to build face index:",f)}finally{g(!1)}},h=async f=>{if(a.trim())try{await N.nameFaceCluster(f,a),await _(),i(null),o("")}catch(m){console.error("Failed to name cluster:",m)}},p=({cluster:f})=>s.jsxs("div",{className:`face-cluster-card ${n===f.id?"selected":""}`,onClick:()=>r(f.id),children:[s.jsx("div",{className:"cluster-header",children:l===f.id?s.jsxs("div",{className:"name-editor",children:[s.jsx("input",{type:"text",value:a,onChange:m=>o(m.target.value),placeholder:"Enter name...",className:"name-input",autoFocus:!0,onClick:m=>m.stopPropagation()}),s.jsx("button",{onClick:m=>{m.stopPropagation(),h(f.id)},className:"btn-icon",children:s.jsx(Za,{className:"w-4 h-4"})}),s.jsx("button",{onClick:m=>{m.stopPropagation(),i(null),o("")},className:"btn-icon",children:s.jsx(cs,{className:"w-4 h-4"})})]}):s.jsxs(s.Fragment,{children:[s.jsx("h3",{className:"cluster-name",children:f.name||`Person ${f.id.slice(0,8)}`}),s.jsx("button",{onClick:m=>{m.stopPropagation(),i(f.id),o(f.name||"")},className:"btn-icon",children:s.jsx(iy,{className:"w-4 h-4"})})]})}),s.jsx("div",{className:"cluster-stats",children:s.jsxs("span",{className:"text-sm text-gray-500",children:[f.size," photos"]})}),s.jsx("div",{className:"face-examples",children:f.examples.slice(0,4).map(([m,b],k)=>s.jsx("div",{className:"face-thumbnail",children:s.jsx("img",{src:N.getFaceThumbnailUrl(m,b,96),alt:`Face ${k+1}`})},k))})]});return s.jsxs("div",{className:"face-detection",children:[s.jsxs("div",{className:"detection-header",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[s.jsx(kn,{className:"w-6 h-6"}),"People"]}),s.jsxs("p",{className:"text-gray-500 mt-1",children:[v.totalFaces," faces detected  ",v.namedPeople," people identified"]})]}),s.jsx("div",{className:"flex items-center gap-3",children:s.jsxs("button",{onClick:H,disabled:y,className:"btn btn-secondary",children:[s.jsx(oy,{className:`w-4 h-4 ${y?"animate-spin":""}`}),y?"Building...":"Rebuild Index"]})})]}),c?s.jsxs("div",{className:"loading-state",children:[s.jsx("div",{className:"spinner"}),s.jsx("p",{children:"Loading faces..."})]}):e.length===0?s.jsxs("div",{className:"empty-state",children:[s.jsx(kn,{className:"w-16 h-16 text-gray-300"}),s.jsx("h3",{className:"text-xl font-semibold mt-4",children:"No faces detected yet"}),s.jsx("p",{className:"text-gray-500 mt-2",children:"Build the face index to detect and group people in your photos"}),s.jsxs("button",{onClick:H,disabled:y,className:"btn btn-primary mt-4",children:[s.jsx(my,{className:"w-4 h-4"}),"Build Face Index"]})]}):s.jsx("div",{className:"clusters-grid",children:e.map(f=>s.jsx(p,{cluster:f},f.id))}),s.jsx("style",{jsx:!0,children:`
        .face-detection {
          padding: 2rem;
          height: 100%;
          overflow-y: auto;
        }

        .detection-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 2rem;
        }

        .clusters-grid {
          display: grid;
          grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
          gap: 1.5rem;
        }

        .face-cluster-card {
          background: var(--bg-elevated);
          border: 2px solid transparent;
          border-radius: var(--radius-lg);
          padding: 1.5rem;
          cursor: pointer;
          transition: all 0.3s;
        }

        .face-cluster-card:hover {
          transform: translateY(-2px);
          box-shadow: var(--shadow-md);
        }

        .face-cluster-card.selected {
          border-color: var(--accent-primary);
          box-shadow: 0 0 0 3px var(--accent-light);
        }

        .cluster-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 0.5rem;
        }

        .cluster-name {
          font-size: 1.125rem;
          font-weight: 600;
        }

        .name-editor {
          display: flex;
          gap: 0.5rem;
          width: 100%;
        }

        .name-input {
          flex: 1;
          padding: 0.25rem 0.5rem;
          border: 1px solid var(--border-default);
          border-radius: var(--radius-sm);
          background: var(--bg-primary);
          font-size: 1rem;
        }

        .cluster-stats {
          margin-bottom: 1rem;
        }

        .face-examples {
          display: grid;
          grid-template-columns: repeat(4, 1fr);
          gap: 0.5rem;
        }

        .face-thumbnail {
          aspect-ratio: 1;
          border-radius: var(--radius-md);
          overflow: hidden;
          background: var(--bg-tertiary);
        }

        .face-thumbnail img {
          width: 100%;
          height: 100%;
          object-fit: cover;
        }

        .btn-icon {
          padding: 0.5rem;
          background: var(--bg-tertiary);
          border: none;
          border-radius: var(--radius-sm);
          cursor: pointer;
          transition: all 0.2s;
        }

        .btn-icon:hover {
          background: var(--accent-light);
          color: var(--accent-primary);
        }

        .empty-state {
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          height: 400px;
          text-align: center;
        }

        .loading-state {
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          height: 400px;
          gap: 1rem;
        }

        .spinner {
          width: 40px;
          height: 40px;
          border: 3px solid var(--border-subtle);
          border-top-color: var(--accent-primary);
          border-radius: 50%;
          animation: spin 1s linear infinite;
        }

        .animate-spin {
          animation: spin 1s linear infinite;
        }

        @keyframes spin {
          to { transform: rotate(360deg); }
        }
      `})]})}function bg({imagePath:e,onClose:t,onSave:n}){const[r,l]=w.useState(e),[i,a]=w.useState(0),[o,c]=w.useState(!1),[d,y]=w.useState(!1),[g,v]=w.useState(!1),[j,N]=w.useState({x:0,y:0,w:100,h:100}),[_,H]=w.useState(2),[h,p]=w.useState("pil"),[f,m]=w.useState(!1),[b,k]=w.useState([e]),[T,E]=w.useState(0),D=ft(),I=w.useRef(null),X=async C=>{m(!0);try{const S={rotate:C},L=await D.editImage(r,S);R(L.out_path),l(L.out_path),a(0)}catch(S){console.error("Failed to rotate image:",S)}finally{m(!1)}},ee=async C=>{m(!0);try{const S={flip:C},L=await D.editImage(r,S);R(L.out_path),l(L.out_path),C==="h"?c(!1):y(!1)}catch(S){console.error("Failed to flip image:",S)}finally{m(!1)}},B=async()=>{if(I.current){m(!0);try{const C=I.current,L={crop:{x:Math.round(j.x/100*C.naturalWidth),y:Math.round(j.y/100*C.naturalHeight),w:Math.round(j.w/100*C.naturalWidth),h:Math.round(j.h/100*C.naturalHeight)}},G=await D.editImage(r,L);R(G.out_path),l(G.out_path),v(!1)}catch(C){console.error("Failed to crop image:",C)}finally{m(!1)}}},K=async()=>{m(!0);try{const C=await D.upscaleImage(r,_,h);R(C.out_path),l(C.out_path)}catch(C){console.error("Failed to upscale image:",C)}finally{m(!1)}},R=C=>{const S=b.slice(0,T+1);S.push(C),k(S),E(S.length-1)},W=()=>{T>0&&(E(T-1),l(b[T-1]))},J=()=>{T<b.length-1&&(E(T+1),l(b[T+1]))},F=()=>{n&&n(r),t&&t()},A=async()=>{try{const C=prompt("Enter export destination folder:");if(!C)return;const S=await D.exportImages([r],C,"copy",!1,!1);alert(`Exported to: ${S.dest}`)}catch(C){console.error("Failed to export image:",C)}};return s.jsxs("div",{className:"image-editor",children:[s.jsxs("div",{className:"editor-toolbar",children:[s.jsxs("div",{className:"toolbar-group",children:[s.jsx("button",{onClick:()=>X(90),disabled:f,className:"toolbar-btn",title:"Rotate 90",children:s.jsx(cy,{className:"w-4 h-4"})}),s.jsxs("button",{onClick:()=>ee("h"),disabled:f,className:"toolbar-btn",title:"Flip Horizontal",children:[s.jsx(Om,{className:"w-4 h-4"}),s.jsx($m,{className:"w-4 h-4"})]}),s.jsxs("button",{onClick:()=>ee("v"),disabled:f,className:"toolbar-btn",title:"Flip Vertical",children:[s.jsx(Am,{className:"w-4 h-4"}),s.jsx(Dm,{className:"w-4 h-4"})]}),s.jsx("button",{onClick:()=>v(!g),disabled:f,className:`toolbar-btn ${g?"active":""}`,title:"Crop",children:s.jsx(Ym,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"toolbar-group",children:[s.jsxs("select",{value:_,onChange:C=>H(Number(C.target.value)),className:"toolbar-select",children:[s.jsx("option",{value:2,children:"2x"}),s.jsx("option",{value:4,children:"4x"})]}),s.jsxs("select",{value:h,onChange:C=>p(C.target.value),className:"toolbar-select",children:[s.jsx("option",{value:"pil",children:"PIL"}),s.jsx("option",{value:"realesrgan",children:"RealESRGAN"})]}),s.jsx("button",{onClick:K,disabled:f,className:"toolbar-btn",title:"Upscale",children:s.jsx(ly,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"toolbar-group",children:[s.jsx("button",{onClick:W,disabled:T===0||f,className:"toolbar-btn",children:"Undo"}),s.jsx("button",{onClick:J,disabled:T===b.length-1||f,className:"toolbar-btn",children:"Redo"})]}),s.jsxs("div",{className:"toolbar-group ml-auto",children:[s.jsxs("button",{onClick:A,className:"toolbar-btn",children:[s.jsx(Ja,{className:"w-4 h-4"}),"Export"]}),s.jsxs("button",{onClick:F,className:"btn btn-primary",children:[s.jsx(uy,{className:"w-4 h-4"}),"Save"]}),t&&s.jsx("button",{onClick:t,className:"toolbar-btn",children:s.jsx(cs,{className:"w-4 h-4"})})]})]}),s.jsxs("div",{className:"editor-canvas",children:[f&&s.jsxs("div",{className:"processing-overlay",children:[s.jsx("div",{className:"spinner"}),s.jsx("p",{children:"Processing..."})]}),s.jsxs("div",{className:"image-container",children:[s.jsx("img",{ref:I,src:D.getThumbnailUrl(r),alt:"Editing",style:{transform:`rotate(${i}deg) ${o?"scaleX(-1)":""} ${d?"scaleY(-1)":""}`}}),g&&s.jsx("div",{className:"crop-overlay",style:{left:`${j.x}%`,top:`${j.y}%`,width:`${j.w}%`,height:`${j.h}%`},children:s.jsxs("div",{className:"crop-controls",children:[s.jsxs("button",{onClick:B,className:"btn btn-primary btn-sm",children:[s.jsx(Za,{className:"w-3 h-3"}),"Apply"]}),s.jsxs("button",{onClick:()=>v(!1),className:"btn btn-secondary btn-sm",children:[s.jsx(cs,{className:"w-3 h-3"}),"Cancel"]})]})})]})]}),s.jsx("style",{jsx:!0,children:`
        .image-editor {
          display: flex;
          flex-direction: column;
          height: 100vh;
          background: var(--bg-primary);
        }

        .editor-toolbar {
          display: flex;
          align-items: center;
          gap: 1rem;
          padding: 1rem;
          background: var(--bg-secondary);
          border-bottom: 1px solid var(--border-subtle);
        }

        .toolbar-group {
          display: flex;
          align-items: center;
          gap: 0.5rem;
        }

        .toolbar-group.ml-auto {
          margin-left: auto;
        }

        .toolbar-btn {
          display: flex;
          align-items: center;
          gap: 0.25rem;
          padding: 0.5rem 0.75rem;
          background: var(--bg-primary);
          border: 1px solid var(--border-default);
          border-radius: var(--radius-md);
          cursor: pointer;
          transition: all 0.2s;
        }

        .toolbar-btn:hover:not(:disabled) {
          background: var(--bg-tertiary);
          border-color: var(--accent-primary);
        }

        .toolbar-btn:disabled {
          opacity: 0.5;
          cursor: not-allowed;
        }

        .toolbar-btn.active {
          background: var(--accent-primary);
          color: white;
        }

        .toolbar-select {
          padding: 0.5rem;
          background: var(--bg-primary);
          border: 1px solid var(--border-default);
          border-radius: var(--radius-md);
        }

        .editor-canvas {
          flex: 1;
          display: flex;
          align-items: center;
          justify-content: center;
          position: relative;
          overflow: hidden;
          background: var(--bg-tertiary);
        }

        .processing-overlay {
          position: absolute;
          inset: 0;
          background: rgba(0, 0, 0, 0.7);
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          gap: 1rem;
          z-index: 10;
          color: white;
        }

        .image-container {
          position: relative;
          max-width: 90%;
          max-height: 90%;
        }

        .image-container img {
          max-width: 100%;
          max-height: 100%;
          transition: transform 0.3s;
        }

        .crop-overlay {
          position: absolute;
          border: 2px solid var(--accent-primary);
          background: rgba(0, 122, 255, 0.1);
          cursor: move;
        }

        .crop-controls {
          position: absolute;
          bottom: -40px;
          left: 50%;
          transform: translateX(-50%);
          display: flex;
          gap: 0.5rem;
          white-space: nowrap;
        }

        .btn-sm {
          padding: 0.25rem 0.5rem;
          font-size: 0.875rem;
        }

        .spinner {
          width: 40px;
          height: 40px;
          border: 3px solid rgba(255, 255, 255, 0.3);
          border-top-color: white;
          border-radius: 50%;
          animation: spin 1s linear infinite;
        }

        @keyframes spin {
          to { transform: rotate(360deg); }
        }
      `})]})}function Eg(){const[e,t]=w.useState("library"),[n,r]=w.useState(null),[l,i]=w.useState(""),[a,o]=w.useState([]),[c,d]=w.useState([]),[y,g]=w.useState([]),[v,j]=w.useState([]),[N,_]=w.useState("/Users/pranay/Desktop"),[H,h]=w.useState(null),[p,f]=w.useState(!1),[m,b]=w.useState({});w.useEffect(()=>{const B={dir:N,provider:"openai",openaiKey:localStorage.getItem("openai_api_key")||"",hfToken:localStorage.getItem("hf_token")||""};Ng(B),k()},[N]);const k=async()=>{const B=ft();try{const K=await B.getWorkspace();j(K.folders),await T();const R=await B.getFavorites();g(R.favorites)}catch(K){console.error("Failed to load initial data:",K)}},T=async()=>{f(!0);try{const K=await ft().getLibrary(120,0);d(K.paths)}catch(B){console.error("Failed to load library:",B)}finally{f(!1)}},E=async()=>{if(l.trim()){f(!0);try{const K=await ft().search(l,24);o(K.results),t("search")}catch(B){console.error("Search failed:",B)}finally{f(!1)}}},D=async B=>{f(!0);const K=ft();try{let R;switch(B){case"search":R=await K.buildIndex(32),console.log(`Indexed ${R.total} images`);break;case"faces":R=await K.buildFaces(),console.log(`Found ${R.faces} faces in ${R.clusters} clusters`);break;case"ocr":R=await K.buildOCR(["en"]),console.log(`Extracted text from ${R.updated} images`);break;case"metadata":R=await K.buildMetadata(),console.log(`Extracted metadata from ${R.updated} images`);break;case"captions":R=await K.buildCaptions("Salesforce/blip-image-captioning-large"),console.log(`Generated captions for ${R.updated} images`);break;case"trips":R=await K.buildTrips(),console.log(`Found ${R.trips.length} trips`);break;case"fast-annoy":R=await K.buildFastIndex("annoy");break;case"fast-faiss":R=await K.buildFastIndex("faiss");break;case"fast-hnsw":R=await K.buildFastIndex("hnsw");break}await T()}catch(R){console.error(`Failed to build ${B} index:`,R)}finally{f(!1)}},I=async()=>{const B=prompt("Enter folder path:");if(B)try{const R=await ft().addToWorkspace(B);j(R.folders)}catch(K){console.error("Failed to add workspace folder:",K)}},X=async()=>{f(!0);try{const K=await ft().runDiagnostics();h(K),t("diagnostics")}catch(B){console.error("Failed to run diagnostics:",B)}finally{f(!1)}},ee=()=>{switch(e){case"collections":return s.jsx(Sg,{});case"people":return s.jsx(Cg,{});case"editor":return n?s.jsx(bg,{imagePath:n,onClose:()=>t("library"),onSave:B=>console.log("Saved:",B)}):null;case"search":return s.jsxs("div",{className:"search-results",children:[s.jsxs("h2",{children:['Search Results for "',l,'"']}),s.jsx("div",{className:"photo-grid",children:a.map((B,K)=>s.jsxs("div",{className:"photo-item",onClick:()=>{r(B.path),t("editor")},children:[s.jsx("img",{src:ft().getThumbnailUrl(B.path),alt:""}),s.jsx("div",{className:"photo-score",children:B.score.toFixed(2)})]},K))})]});case"library":return s.jsxs("div",{className:"library-view",children:[s.jsxs("div",{className:"library-header",children:[s.jsx("h2",{children:"Photo Library"}),s.jsxs("span",{className:"text-gray-500",children:[c.length," photos"]})]}),s.jsx("div",{className:"photo-grid",children:c.map((B,K)=>s.jsxs("div",{className:"photo-item",onClick:()=>{r(B),t("editor")},children:[s.jsx("img",{src:ft().getThumbnailUrl(B),alt:""}),y.includes(B)&&s.jsx("div",{className:"favorite-badge",children:s.jsx(Kr,{className:"w-4 h-4",fill:"currentColor"})})]},K))})]});case"diagnostics":return s.jsxs("div",{className:"diagnostics-view",children:[s.jsx("h2",{children:"System Diagnostics"}),H&&s.jsxs("div",{className:"stats-grid",children:[s.jsxs("div",{className:"stat-card",children:[s.jsx("h3",{children:"Storage"}),s.jsxs("p",{children:[H.free_gb.toFixed(2)," GB free"]}),s.jsxs("p",{children:["OS: ",H.os]})]}),s.jsxs("div",{className:"stat-card",children:[s.jsx("h3",{children:"Indexes"}),H.engines.map(B=>s.jsxs("div",{children:[s.jsxs("p",{children:[B.key,": ",B.count," items"]}),B.fast&&s.jsxs("p",{className:"text-sm text-gray-500",children:["Fast: Annoy=",B.fast.annoy?"":"","FAISS=",B.fast.faiss?"":"","HNSW=",B.fast.hnsw?"":""]})]},B.key))]})]})]});default:return null}};return s.jsxs("div",{className:"app-container",children:[s.jsxs("div",{className:"sidebar",children:[s.jsxs("div",{className:"sidebar-header",children:[s.jsx("h1",{className:"text-xl font-bold",children:"PhotoVault Pro"}),s.jsx("p",{className:"text-sm text-gray-500",children:"All 47 APIs Integrated"})]}),s.jsx("div",{className:"search-section",children:s.jsx("input",{type:"text",placeholder:"Search photos...",value:l,onChange:B=>i(B.target.value),onKeyPress:B=>B.key==="Enter"&&E(),className:"search-input"})}),s.jsxs("nav",{className:"sidebar-nav",children:[s.jsxs("div",{className:`nav-item ${e==="library"?"active":""}`,onClick:()=>t("library"),children:[s.jsx(ny,{className:"w-5 h-5"}),"Library"]}),s.jsxs("div",{className:`nav-item ${e==="collections"?"active":""}`,onClick:()=>t("collections"),children:[s.jsx(Zn,{className:"w-5 h-5"}),"Collections"]}),s.jsxs("div",{className:`nav-item ${e==="people"?"active":""}`,onClick:()=>t("people"),children:[s.jsx(kn,{className:"w-5 h-5"}),"People"]}),s.jsxs("div",{className:`nav-item ${e==="places"?"active":""}`,onClick:()=>t("places"),children:[s.jsx(ry,{className:"w-5 h-5"}),"Places"]}),s.jsxs("div",{className:`nav-item ${e==="favorites"?"active":""}`,onClick:()=>t("favorites"),children:[s.jsx(Kr,{className:"w-5 h-5"}),"Favorites"]}),s.jsxs("div",{className:`nav-item ${e==="trips"?"active":""}`,onClick:()=>t("trips"),children:[s.jsx(eo,{className:"w-5 h-5"}),"Trips"]})]}),s.jsxs("div",{className:"sidebar-section",children:[s.jsx("h3",{className:"section-title",children:"Build Indexes"}),s.jsxs("button",{onClick:()=>D("search"),className:"index-btn",children:[s.jsx(Xm,{className:"w-4 h-4"}),"Search Index"]}),s.jsxs("button",{onClick:()=>D("faces"),className:"index-btn",children:[s.jsx(kn,{className:"w-4 h-4"}),"Face Detection"]}),s.jsxs("button",{onClick:()=>D("ocr"),className:"index-btn",children:[s.jsx(hy,{className:"w-4 h-4"}),"OCR Text"]}),s.jsxs("button",{onClick:()=>D("metadata"),className:"index-btn",children:[s.jsx(Wm,{className:"w-4 h-4"}),"Metadata"]}),s.jsxs("button",{onClick:()=>D("captions"),className:"index-btn",children:[s.jsx(Vm,{className:"w-4 h-4"}),"AI Captions"]})]}),s.jsxs("div",{className:"sidebar-footer",children:[s.jsxs("button",{onClick:X,className:"nav-item",children:[s.jsx(Gm,{className:"w-5 h-5"}),"Diagnostics"]}),s.jsxs("button",{onClick:I,className:"nav-item",children:[s.jsx(Il,{className:"w-5 h-5"}),"Add Folder"]})]})]}),s.jsxs("main",{className:"main-content",children:[p&&s.jsxs("div",{className:"loading-overlay",children:[s.jsx("div",{className:"spinner"}),s.jsx("p",{children:"Processing..."})]}),ee()]}),s.jsx("style",{jsx:!0,children:`
        .app-container {
          display: flex;
          height: 100vh;
          background: var(--bg-primary);
        }

        .main-content {
          flex: 1;
          overflow-y: auto;
          position: relative;
        }

        .search-section {
          padding: 1rem;
        }

        .sidebar-section {
          padding: 1rem;
          border-top: 1px solid var(--border-subtle);
        }

        .section-title {
          font-size: 0.875rem;
          font-weight: 600;
          color: var(--text-secondary);
          margin-bottom: 0.75rem;
          text-transform: uppercase;
          letter-spacing: 0.05em;
        }

        .index-btn {
          display: flex;
          align-items: center;
          gap: 0.5rem;
          width: 100%;
          padding: 0.5rem 0.75rem;
          margin-bottom: 0.25rem;
          background: var(--bg-tertiary);
          border: none;
          border-radius: var(--radius-md);
          font-size: 0.875rem;
          cursor: pointer;
          transition: all 0.2s;
        }

        .index-btn:hover {
          background: var(--accent-light);
          color: var(--accent-primary);
        }

        .sidebar-footer {
          margin-top: auto;
          padding: 1rem;
          border-top: 1px solid var(--border-subtle);
        }

        .library-view, .search-results, .diagnostics-view {
          padding: 2rem;
        }

        .library-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 2rem;
        }

        .library-header h2 {
          font-size: 2rem;
          font-weight: 700;
        }

        .photo-item {
          position: relative;
        }

        .photo-score {
          position: absolute;
          bottom: 0.5rem;
          right: 0.5rem;
          background: rgba(0, 0, 0, 0.7);
          color: white;
          padding: 0.25rem 0.5rem;
          border-radius: var(--radius-sm);
          font-size: 0.75rem;
        }

        .favorite-badge {
          position: absolute;
          top: 0.5rem;
          right: 0.5rem;
          background: var(--warning);
          color: white;
          padding: 0.25rem;
          border-radius: var(--radius-full);
        }

        .stats-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
          gap: 1.5rem;
        }

        .stat-card {
          background: var(--bg-elevated);
          padding: 1.5rem;
          border-radius: var(--radius-lg);
          border: 1px solid var(--border-subtle);
        }

        .stat-card h3 {
          font-size: 1.125rem;
          font-weight: 600;
          margin-bottom: 1rem;
        }

        .loading-overlay {
          position: absolute;
          inset: 0;
          background: rgba(255, 255, 255, 0.9);
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          gap: 1rem;
          z-index: 100;
        }

        .spinner {
          width: 40px;
          height: 40px;
          border: 3px solid var(--border-subtle);
          border-top-color: var(--accent-primary);
          border-radius: 50%;
          animation: spin 1s linear infinite;
        }

        @keyframes spin {
          to { transform: rotate(360deg); }
        }
      `})]})}const ui={};function _g(){const t=new URLSearchParams(window.location.search).get("ui")??(ui==null?void 0:ui.VITE_UI)??"modern";return t==="test"?s.jsx(kg,{}):t==="new"?s.jsx(wg,{}):t==="modular"?s.jsx(Eg,{}):s.jsx(xg,{})}nf(document.getElementById("root")).render(s.jsx(gy,{children:_g()}));

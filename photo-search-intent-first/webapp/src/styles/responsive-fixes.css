/* Responsive Fixes for Photo Search App */

/* Fix console panel taking too much space */
.console-panel {
	max-width: 400px;
	transition: all 0.3s ease;
}

/* Hide console on smaller screens */
@media (max-width: 1024px) {
	.console-panel {
		display: none;
	}
}

/* Better responsive grid for photo gallery */
.photo-grid {
	display: grid;
	gap: 1rem;
	padding: 1rem;
	grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
}

@media (max-width: 640px) {
	.photo-grid {
		grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
		gap: 0.5rem;
		padding: 0.5rem;
	}
}

@media (max-width: 480px) {
	.photo-grid {
		grid-template-columns: repeat(2, 1fr);
	}
}

/* Fix sidebar responsiveness */
.sidebar {
	width: 240px;
	flex-shrink: 0;
	transition: transform 0.3s ease;
}

@media (max-width: 768px) {
	.sidebar {
		position: fixed;
		left: 0;
		top: 0;
		bottom: 0;
		z-index: 40;
		transform: translateX(-100%);
		background: white;
		box-shadow: 2px 0 8px rgba(0, 0, 0, 0.1);
	}

	.sidebar.open {
		transform: translateX(0);
	}

	.sidebar-overlay {
		position: fixed;
		inset: 0;
		background: rgba(0, 0, 0, 0.5);
		z-index: 39;
		display: none;
	}

	.sidebar-overlay.show {
		display: block;
	}
}

/* Main content area responsive */
.main-content {
	flex: 1;
	min-width: 0; /* Prevent flex children from overflowing */
	overflow: hidden;
}

/* Search bar responsive */
.search-container {
	max-width: 100%;
	padding: 0 1rem;
}

@media (max-width: 640px) {
	.search-container {
		padding: 0 0.5rem;
	}

	.search-input {
		font-size: 14px;
	}
}

/* Fix modal responsiveness */
.modal-content {
	max-width: 90vw;
	max-height: 90vh;
	overflow: auto;
	margin: 1rem;
}

@media (max-width: 640px) {
	.modal-content {
		max-width: 95vw;
		margin: 0.5rem;
	}
}

/* Status bar responsive */
.status-bar {
	flex-wrap: wrap;
	gap: 0.5rem;
}

@media (max-width: 768px) {
	.status-bar {
		font-size: 12px;
	}

	.status-bar .status-item {
		min-width: auto;
	}
}

/* Filter panel responsive */
.filter-panel {
	display: flex;
	flex-wrap: wrap;
	gap: 0.5rem;
	padding: 0.75rem;
}

@media (max-width: 640px) {
	.filter-panel {
		padding: 0.5rem;
	}

	.filter-button {
		padding: 0.25rem 0.5rem;
		font-size: 12px;
	}
}

/* Image container responsive */
.image-container {
	position: relative;
	width: 100%;
	padding-bottom: 100%; /* 1:1 aspect ratio */
	overflow: hidden;
	border-radius: 0.5rem;
}

.image-container img {
	position: absolute;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
	object-fit: cover;
}

/* Prevent horizontal scroll */
body {
	overflow-x: hidden;
}

.app-container {
	width: 100vw;
	overflow-x: hidden;
}

/* Mobile-first utility classes */
.mobile-hidden {
	display: block;
}

.mobile-only {
	display: none;
}

@media (max-width: 768px) {
	.mobile-hidden {
		display: none;
	}

	.mobile-only {
		display: block;
	}
}

/* Improve touch targets for mobile */
@media (pointer: coarse) {
	button,
	a,
	.clickable {
		min-height: 44px;
		min-width: 44px;
	}
}

/* Smooth scrolling for better performance */
.scroll-container {
	scroll-behavior: smooth;
	-webkit-overflow-scrolling: touch;
}

/* Fix z-index stacking issues */
.header {
	z-index: 30;
}

.sidebar {
	z-index: 20;
}

.modal {
	z-index: 50;
}

.toast {
	z-index: 60;
}

/* Loading skeleton responsive */
.skeleton {
	background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
	background-size: 200% 100%;
	animation: loading 1.5s infinite;
}

@keyframes loading {
	0% {
		background-position: 200% 0;
	}
	100% {
		background-position: -200% 0;
	}
}

/* Dark mode adjustments */
@media (prefers-color-scheme: dark) {
	.skeleton {
		background: linear-gradient(90deg, #2a2a2a 25%, #3a3a3a 50%, #2a2a2a 75%);
	}
}
